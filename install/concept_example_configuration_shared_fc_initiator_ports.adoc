---
permalink: install/concept_example_configuration_shared_fc_initiator_ports.html 
sidebar: sidebar 
keywords: example, configuration, shared, fc initiator, ports, separate, storage, arrays, multiple, targets 
summary: ONTAPシステムの1つのFCイニシエータポートを、異なるストレージアレイの最大4つのターゲットポートに接続できます。一部のストレージアレイでは、同じストレージアレイの4つのターゲットポートに接続できます。 
---
= 構成例：共有FCイニシエータ ポート
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAPシステムの1つのFCイニシエータポートを、異なるストレージアレイの最大4つのターゲットポートに接続できます。一部のストレージアレイでは、同じストレージアレイの4つのターゲットポートに接続できます。

ゾーニングのベストプラクティスは、FCイニシエータとターゲットポートの各ペアを別 々 のゾーンに1対1で配置することです（同じFCイニシエータが複数のターゲットポートと通信している場合も同様）。



== 共有FCイニシエータポートを_separate_storage arraysの複数のターゲットポートに接続

次の図は、_different_storageアレイ上のターゲットポートとFCイニシエータポートを共有するための接続とゾーニングを示しています。

次の図の実線はシステムvs1のFCイニシエータポートからの接続を示し、点線はシステムvs2のFCイニシエータポートからの接続を示しています。

image::../media/shared_initiator_ports_different_arrays.gif[複数のアレイでイニシエータポートを共有]

次の表は、1つのFCイニシエータポートが異なるストレージアレイの複数のターゲットポートを共有する例に対応した1対1のゾーニング定義を示しています。

|===
| ゾーン | ONTAPシステムとFCイニシエータポート | ストレージアレイ 


 a| 
* スイッチ 1 *



 a| 
z1
 a| 
vs1：0a
 a| 
ストレージアレイ1：コントローラ1のポート1A



 a| 
z2
 a| 
vs1：0a
 a| 
ストレージアレイ2：コントローラ1のポート1A



 a| 
z3
 a| 
vs2：0a
 a| 
ストレージアレイ1：コントローラ1のポート1B



 a| 
z4
 a| 
vs2：0a
 a| 
ストレージアレイ2：コントローラ1のポート1B



 a| 
* スイッチ 2 *



 a| 
z5
 a| 
vs1：0c
 a| 
ストレージアレイ1：コントローラ2のポート2A



 a| 
z6
 a| 
vs1：0c
 a| 
ストレージアレイ2：コントローラ2のポート2A



 a| 
z7
 a| 
vs2：0c
 a| 
ストレージアレイ1：コントローラ2のポート2B



 a| 
z8
 a| 
vs2：0c
 a| 
ストレージアレイ2：コントローラ2のポート2B

|===


== 共有FCイニシエータポートを_same_storageアレイの複数のターゲットポートに接続

この構成は、LUNマスキング、提供、またはホストグループ機能を使用して、アクセスするターゲットポートに基づいて同じFCイニシエータに異なるLUNグループを提供できるストレージアレイでのみ使用できます。

一部のストレージアレイでは、アクセスするターゲットポートに基づいて異なる論理デバイスのセットを1つのFCイニシエータに提供できます。このタイプのストレージアレイでは、同じFCイニシエータを複数のホストグループに含めることができます。この機能を搭載したストレージアレイでは、各FCイニシエータが同じストレージアレイの複数のターゲットポートにアクセスでき、各ターゲットポートがFCイニシエータに異なるLUNグループを提供します。お使いのストレージアレイのドキュメントを参照して、同じFCイニシエータを複数のホストグループに含めることができるかどうかを確認してください。

次の図は、_same_storageアレイ上の複数のターゲットポートでFCイニシエータポートを共有するための接続とゾーニングを示しています。この例では、ゾーニング定義が1対1（1つのFCイニシエータから1つのターゲットポート）として設定されています。

次の図の実線はシステムvs1のFCイニシエータポートからの接続を示し、点線はシステムvs2のFCイニシエータポートからの接続を示しています。この構成には2つのLUNグループが必要です。

image::../media/shared_initiator_ports_same_array.gif[接続とゾーニングの説明が付随しています。]

次の表は、同じストレージアレイの複数のターゲットポートを共有する1つのFCイニシエータポートの例に対応した1対1のゾーニング定義を示しています。

|===
| ゾーン | ONTAPシステムとFCイニシエータポート | ストレージアレイとポート 


 a| 
スイッチ1



 a| 
z1
 a| 
vs1：0a
 a| 
コントローラ1のポート1A



 a| 
z2
 a| 
vs1：0a
 a| 
コントローラ1のポート1C



 a| 
z3
 a| 
vs2：0a
 a| 
コントローラ1のポート1B



 a| 
z4
 a| 
vs2：0a
 a| 
コントローラ1のポート1D



 a| 
スイッチ2



 a| 
z5
 a| 
vs1：0c
 a| 
コントローラ2のポート2A



 a| 
z6
 a| 
vs1：0c
 a| 
コントローラ2のポート2C



 a| 
z7
 a| 
vs2：0c
 a| 
コントローラ2のポート2B



 a| 
z8
 a| 
vs2：0c
 a| 
コントローラ2のポート2D

|===