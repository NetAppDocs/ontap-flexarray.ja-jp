<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="534d9f4d2a6fd9c02cba0b016abd82d1" category="summary">ONTAPシステムのFCイニシエータポートは、同じファミリー内の異なるストレージアレイの複数のターゲットポートに接続できます。この構成は、ONTAPのMetroCluster構成でサポートされます。</block>
  <block id="94ecf8fbb95e33953d29b6bc77ecf79d" category="doc">複数のターゲット ポートへのFCイニシエータ ポートの接続</block>
  <block id="18c0aa1f9069ce043576a1336cd7f920" category="paragraph">ONTAPでは、HAペアとスタンドアロンシステムの両方で、複数のターゲットポートでのFCイニシエータポートの共有がサポートされます。この構成は、お使いのシステムで実行されているONTAPのリリースのサポート対象としてInteroperability Matrixに記載されているすべてのストレージアレイで使用できます。</block>
  <block id="2e21d9bdc46518f36c14799861cff9d1" category="paragraph">FCイニシエータポートの複数のターゲットポートでの共有およびゾーニングの詳細については、FlexArray仮想化インストール要件およびリファレンス_</block>
  <block id="684edefacd69c43e74394b62563359a2" category="section-title">単一のONTAP FCイニシエータポートから別 々 のストレージアレイのターゲットポートに接続</block>
  <block id="5f1135e7e04c2c8b972b9a5f96bee438" category="paragraph">次の例は、単一のONTAP FCイニシエータポートから異なるストレージアレイの複数のターゲットポートに接続するHAペアを示しています。</block>
  <block id="0e152a5791757bfcdd702cba9c841a3e" category="image-alt">接続とゾーニングの説明が付随しています。</block>
  <block id="d33f2a600ba4fe43084a26e95e4908c0" category="paragraph">* 関連情報 *</block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="inline-link">NetApp Interoperability Matrix Tool</block>
  <block id="687d97208bee730c33801be1d460abf6" category="paragraph"><block ref="687d97208bee730c33801be1d460abf6" category="inline-link-rx"></block></block>
  <block id="70894d5c0a41692947485c0d0a19e60a" category="inline-link">FlexArray仮想化のインストール要件とリファレンス</block>
  <block id="458876feaed6a906ecafed4badb622d0" category="paragraph"><block ref="458876feaed6a906ecafed4badb622d0" category="inline-link-rx"></block></block>
  <block id="5bf1678517b4e7d065d78a458ca7ed44" category="inline-link">ファブリック接続MetroClusterのインストールと設定</block>
  <block id="4980aa8a93c404e256f38b26e322faea" category="paragraph"><block ref="4980aa8a93c404e256f38b26e322faea" category="inline-link-rx"></block></block>
  <block id="a6e77985feb87e43c0d356ef7a5cfb4f" category="summary">8ポートのLUNグループ構成は、clustered Data ONTAPのVシリーズシステムと、アレイLUNを使用可能なONTAPシステムでサポートされます。</block>
  <block id="f1fb0bca912fac0063b1b986b027d4c4" category="doc">8ポートのアレイLUNグループ構成</block>
  <block id="33c6969c0a75f9fdc2eb416b88ac4cc7" category="paragraph">この構成は、お使いのシステムで実行されているONTAPのリリースのサポート対象としてInteroperability Matrixに記載されているすべてのストレージアレイで使用できます。</block>
  <block id="543221353f960ce0ac542e83ef617946" category="paragraph">この構成を導入するには、クロスさせるバックエンド接続とクロスさせないバックエンド接続の2つの方法があります。</block>
  <block id="11d69708210e75de12ad35539fb2d79f" category="section-title">クロスさせるバックエンド接続</block>
  <block id="0b1495160d246522106651250f589dd4" category="paragraph">バックエンド接続をクロスさせる構成では、同じストレージアレイコントローラから両方のファブリックスイッチ（冗長）にFC接続を設定します。</block>
  <block id="1ea4372d211bf0b0bbb224ee84c704fc" category="paragraph">次の図はバックエンド接続をクロスさせた構成を示しています。ノードがスイッチおよびストレージアレイにどのように接続されているかに注目してください。vs1は、ストレージアレイコントローラ1のポート1Aとコントローラ2のポート2Cに接続する場合はスイッチ1を使用し、コントローラ2のポート2Aとコントローラ1のポート1Cに接続する場合はスイッチ2を使用します。これにより、スイッチポートとアレイポートの使用が最適化され、スイッチやストレージアレイコントローラで障害が発生した場合の影響を軽減できます。</block>
  <block id="1e04890dea8a7a99087570d46826c823" category="image-alt">8ポートのアレイLUNグループ構成をクロスさせる場合</block>
  <block id="83082011a8ff6693312f245a7b26b635" category="section-title">クロスさせないバックエンド接続</block>
  <block id="e9dac999b65eb926b09daf9f50331f7b" category="paragraph">バックエンド接続をクロスさせない構成では、同じストレージアレイコントローラからのFC接続を1つのファブリックスイッチにのみ設定します。</block>
  <block id="18509d92b60754b2afe8c3b499a87a47" category="paragraph">クロスさせないバックエンド接続の構成を次の図に示します。</block>
  <block id="f297ee642fb4482386f2ad2096330989" category="image-alt">8ホオトノアレイLUNクルウフコウセイ</block>
  <block id="ebf951e059f32f37248cb2096fe3ea4c" category="summary">ノード間で最大2つのONTAP FCイニシエータポートをストレージアレイ上の単一のターゲットポートに接続できます。この構成は、ONTAPのMetroCluster構成でサポートされます。</block>
  <block id="232a2d6c394ca37d5fe0479f2ee03ea2" category="doc">2つのFCイニシエータ ポートでのターゲット ポートの共有</block>
  <block id="cea71410a906c5cd4a55b47089c5f4ff" category="paragraph">次の図は、HAペアを使用した共有ターゲットポート構成を示しています。ターゲットポートの2つのFCイニシエータポートでの共有は、スタンドアロンシステムとHAペアのどちらでもサポートされます。</block>
  <block id="e1d3799399c979308ebbf698cab0b536" category="paragraph">FCイニシエータポートの複数のターゲットポートでの共有およびゾーニングの詳細については、_ FlexArray仮想化インストール要件およびリファレンス_</block>
  <block id="18d08e2f55f20b8e6742a3098dadc034" category="section-title">FCイニシエータポートに接続された共有ターゲットポート</block>
  <block id="706c6d4ffeacfa69edff8a3efa39b3a3" category="paragraph">次の例は、単一のターゲットポートが2つのFCイニシエータポートに接続するHAペアを示しています。</block>
  <block id="a7972793b565fe3af77f0c09bb237349" category="image-alt">この図には説明が付随しています。</block>
  <block id="60673892b6cbc04f959310690f137b1a" category="paragraph">コントローラvs1およびvs2のイニシエータポート0aはストレージアレイポート1Aに接続され、コントローラのポート0cはストレージアレイポート2Aに接続されています。</block>
  <block id="5485bde913fdce014422e9675eb1b567" category="summary">単一の4ポートのLUNグループを含むこの構成では、各ターゲットポートにHAペアの単一のONTAP FCイニシエータポートからアクセスします。ゾーニングにより、各ONTAPシステムから特定のアレイLUNへのパスは2つだけになります。</block>
  <block id="884b7352aac7c31b6dbd6125e80db98c" category="doc">タンイチノ4ホオトノアレイLUNクルウフコウセイ</block>
  <block id="e3c0dcce3545808f691eaa65d5be7f2b" category="paragraph">この構成を次の図に示します。</block>
  <block id="c1c8e692d05749a6d42ba6f8e0389d38" category="image-alt">この図には説明が付随しています。</block>
  <block id="c2cc43aff9c6835eb398f3fc2c6acfaf" category="summary">アレイLUNを使用するONTAPシステムのスタンドアロンの基本的な構成は、1つのFCイニシエータポートペアが1つのLUNグループにアクセスする単純なファブリック接続構成です。</block>
  <block id="a7cd287de63ffc2798f7e8d08da00057" category="doc">スタンドアロンの基本的な構成</block>
  <block id="8f23fdecd33078dbb005639b9c983279" category="image-alt">スタンドアロンシステムを使用する単一の2ポートアレイLUNグループ構成</block>
  <block id="e4c0b911a064e996d18b46397267ff1d" category="summary">スタンドアロンONTAPシステムの単純なファブリック接続構成では、ONTAPシステム上の各FCイニシエータポートペアは、別 々 のアレイLUNグループにアクセスします。</block>
  <block id="45e3ed5dd99cdd6a7e72a0e6c22e0e04" category="doc">2ポートのアレイLUNグループを2つ使用したスタンドアロンシステム</block>
  <block id="b5a787c81b86e9cf2890808e3225dd61" category="paragraph">シンプルなファブリック接続構成を次の図に示します。</block>
  <block id="12646216ba28d492958ba228572d96e8" category="summary">アレイLUNでは、サポートされているFASおよびVシリーズシステムを使用できます。</block>
  <block id="27d5d528b2d6f06fe0d71a3255cabfd1" category="doc">ストレージアレイ上のアレイLUNを使用できるONTAPシステム</block>
  <block id="fadee2af7757b3621327baa6c99d41c3" category="paragraph">サポートされるハードウェアとソフトウェアの組み合わせについては、NetApp Interoperability Matrix Toolを参照してください。</block>
  <block id="9badeaf7ba71e38d6a62c54fad9be090" category="summary">この構成では、各ONTAP FCイニシエータポートペアは個別のアレイLUNグループにアクセスします。ゾーニングは、単一のONTAP FCイニシエータから単一のアレイターゲットポートです。</block>
  <block id="c90eb18b40aa89e2c309b20e9ae7ff7b" category="doc">2ツノ4ホオトノアレイLUNクルウフコウセイ</block>
  <block id="ba9eb48c58afab69d8da8e1fc6fda8f2" category="paragraph">この構成のブロック図を次の図に示します。</block>
  <block id="93152fade102e16cec2733b87b8f2453" category="image-alt">2つの4ポートのアレイLUNグループ</block>
  <block id="fcd28d7c016b936e5fa05daf1a1fdec0" category="summary">サポートされる機能、構成、システムモデル、ストレージアレイモデルは、ONTAPのリリースごとに異なります。導入の計画段階で、ONTAPのサポート情報を確認して、ONTAPのハードウェアとソフトウェアの要件に準拠していることを確認する必要があります。</block>
  <block id="e4c02ff71c86b599a590bc96782a2a27" category="doc">ストレージアレイに対するONTAPサポートに関する情報の参照先</block>
  <block id="79c5c653af3de6ed482c193be0965adf" category="paragraph">次の表に、ONTAPシステムに関連するハードウェア要件とソフトウェア要件の詳細を含む参照先を示します。</block>
  <block id="855dee0f8be3a9fb95ed8d6444d6c28d" category="cell">必要な情報</block>
  <block id="e57719dda593721a28fa6f7ca9405b1a" category="cell">ここを見てください...</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="c9408527da83739d1f1cb159e17a819f" category="paragraph">ストレージアレイにONTAPを実装するための次の作業に関する情報</block>
  <block id="f5402b581f118c07ed117d69be976ec2" category="list-text">実装の計画</block>
  <block id="549dddf4e9cd6ba011ac383fc4a6ebf3" category="list-text">ONTAPシステムとアレイの接続</block>
  <block id="2441ab3d5f95273ddb1c23f27801bd96" category="list-text">インストールの確認</block>
  <block id="f1e054ef441716f247d0ddb5f80f0894" category="paragraph">次のようなデバイスでのONTAPの操作</block>
  <block id="d6c177b2384d60af9e3f05987a1cbfb3" category="list-text">サポートされるストレージアレイとストレージアレイファームウェア</block>
  <block id="4f91e25e00a7465ce95a3e34ceac4ca5" category="list-text">サポートされるスイッチとスイッチファームウェア</block>
  <block id="9d11c7bee216fca4926e668484bb1773" category="list-text">ストレージアレイでファームウェアの無停止（ライブ）アップグレードがサポートされるかどうか</block>
  <block id="6aaac31841fa06ad42ed2d2320ef02af" category="list-text">ストレージアレイでMetroCluster構成がサポートされているかどうか</block>
  <block id="8b4ba805fad4b5d16bf4047f048561b8" category="paragraph">FlexArray仮想化を使用したE-Seriesストレージアレイの高度な機能のサポートに関する情報を確認するには、Interoperability MatrixのVシリーズおよびFlexArrayバックエンドストレージ向けの仮想化ソリューションのページで該当するノートを参照してください。</block>
  <block id="70bd9e2b4972f54b701fb2df586df1fc" category="paragraph">リリースとプラットフォームにおけるONTAPの制限に関する情報</block>
  <block id="1672024c90e2b79b38f010136495b004" category="list-text">アレイLUNの最小サイズと最大サイズ（ルートボリュームのアレイLUNやスペアコアアレイLUNの最小サイズなど）</block>
  <block id="70dd4bcc1586341572c24c1f5d82f856" category="list-text">アレイLUNを含むアグリゲートの最小サイズ</block>
  <block id="cc603b2d989af4b4c8db625cc3d67277" category="list-text">サポートされるブロックサイズ</block>
  <block id="d8bf4c13e22bdebce42eea76c7529b01" category="list-text">最小容量と最大容量</block>
  <block id="725c199d7e2bf8c5d54c08416c603eba" category="list-text">近隣の制限</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="25c779b977dab5ebed0156b6fb5f864b" category="paragraph"><block ref="25c779b977dab5ebed0156b6fb5f864b" category="inline-link-rx"></block></block>
  <block id="2418743c8cead0e6ce36a3e5478f8c0c" category="paragraph">E-Seriesストレージアレイのセットアップに関する次の情報</block>
  <block id="70fa97734dbda59cdbdf50b981776abd" category="list-text">サイトの準備要件</block>
  <block id="db293c8edf64696f2f1c02a71f7d4d7c" category="list-text">ケーブル接続手順</block>
  <block id="f5ecc8741ce9001db5944c44be64d3cc" category="list-text">SANtricityソフトウェアのインストールと設定の手順</block>
  <block id="81cfd34ef0c79fa388ced831f5a20983" category="paragraph">E-Seriesの次のドキュメント</block>
  <block id="8571ff15b31692ca23bc4a46a3f5bd3e" category="list-text">_ E-Seriesストレージシステムの設置場所の準備ガイド_</block>
  <block id="29456ee3e766f199ebc871d90f47d238" category="list-text">_ E-Seriesストレージシステムのハードウェアケーブル配線ガイド_</block>
  <block id="32750741c03cb696381c2c47059b0938" category="list-text">SANtricity ES Storage Managerのマニュアル_</block>
  <block id="4453079b3901bc814f7a5612657936cc" category="paragraph">これらのドキュメントは、NetAppサポートサイトからアクセスできます。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetAppのサポート</block>
  <block id="cba784dbb6dad30cadc1fcb2d1b5ee81" category="paragraph"><block ref="cba784dbb6dad30cadc1fcb2d1b5ee81" category="inline-link-rx"></block></block>
  <block id="11774e9bde09e59646a7f2490c4f9d0a" category="summary">ストレージアレイを使用するONTAPシステムを使用する構成を計画する場合は、製品ドキュメントに加えて、さまざまなソースでアレイLUNの構成に関する情報を確認する必要があります。</block>
  <block id="264620778fd3a53deb53bd104f87b820" category="doc">ストレージアレイを使用した構成に関する情報の参照先</block>
  <block id="92728f738d539ab4813b08ee21492bd3" category="paragraph">NetAppサポートサイトにあるツールを使用すると、特定のリリースでサポートされる機能、構成、およびストレージアレイモデルに関する具体的な情報をまとめて確認できます。</block>
  <block id="ee45a702b0dc81d89797c93f919802e6" category="summary">ONTAP FlexArray情報ライブラリへようこそ。ここでは、E-Seriesストレージアレイをクラスタのバックエンドストレージとして使用する方法について説明します。</block>
  <block id="a04d33a90f53a5989bcfa3578c381dce" category="doc">NetApp®E-Seriesストレージ向けFlexArray®仮想化実装</block>
  <block id="b2dba63c9ea9f15a29d64cd8e28ee9f5" category="summary">E-SeriesストレージアレイがONTAPシステムと通信できるようにするには、適切なhost typeオプションを設定する必要があります。SANtricity Storage Managerを使用してホストタイプを設定できます。</block>
  <block id="ee1326b37042c0d871fce0c0932f0667" category="doc">E-Seriesストレージアレイの必須のホストタイプ</block>
  <block id="45391e7a9bb1f6d5d03082f33427105e" category="paragraph">特定のONTAPリリースでは、ストレージアレイのファームウェアのバージョンに基づいてホストタイプを設定できます。</block>
  <block id="cd6c816128e062a7be2f1290702a2dbe" category="paragraph">ファームウェアのバージョンが08.10.15.00以降の場合は、ホストタイプを_ Data ONTAP（ALUA）_に設定します。</block>
  <block id="03afa9228d559ce15cc63cbb7ef6b1bf" category="paragraph">ファームウェアバージョン08.10.15.00以降でサポートされるSANtricity Storage Managerの最小バージョンは11.10.0G00.0026です。</block>
  <block id="57154e3f7dfb9a7003bfa70dfb7888ad" category="paragraph">E-Seriesコントローラファームウェア8.25を使用している場合、E-SeriesシステムでONTAP RDACがホストタイプとしてサポートされなくなりました。したがって、ONTAP RDACを使用している場合は、バックエンド アレイをCFW 8.25以降にアップグレードする前に、次のナレッジベースの記事に従ってONTAP ALUAに変換する必要があります。</block>
  <block id="4e950581ade3649b92e6cff127a8e03e" category="inline-link">clustered Data ONTAPシステムに接続されているNetApp E-Seriesアレイで、アクティブ/パッシブフェイルオーバーモードとALUAフェイルオーバーモードを無停止で変更する方法</block>
  <block id="176a7e328226595e0e5930922c3751da" category="paragraph"><block ref="176a7e328226595e0e5930922c3751da" category="inline-link-rx"></block></block>
  <block id="7eabdd7dabcf27c16a1e4d608b96230e" category="summary">ONTAPシステムと連携するようにストレージアレイを構成する場合は、設定する必要があるシステムパラメータ、および考慮事項があります。</block>
  <block id="6166d1c96b51f311944494024e4aa8c3" category="doc">E-Seriesストレージアレイの設定に関する要件</block>
  <block id="a160cd08c303bc5d3bb30b52f96754c7" category="summary">ONTAPシステムは、E-Seriesストレージアレイと直接接続型の構成で接続できます。単一点障害の可能性を回避するために、ONTAPシステムとストレージアレイの間の接続の冗長性を検証する必要があります。FlexArrayストレッチMetroClusterでは、E-Seriesストレージアレイとの直接接続型構成がサポートされます。</block>
  <block id="6e5818dbd209217bc52df74474d8c22c" category="doc">Eシリーズ ストレージ アレイでサポートされる直接接続型構成</block>
  <block id="1b08617a7ef3c5fcc662a93b91e986f1" category="inline-link">Stretch MetroClusterのインストールと設定</block>
  <block id="95fe5ea8061d02fa1306ff3747a33b04" category="paragraph">ONTAPシステムは、E-Seriesストレージアレイと直接接続型の構成で接続できます。単一点障害の可能性を回避するために、ONTAPシステムとストレージアレイの間の接続の冗長性を検証する必要があります。FlexArrayストレッチMetroClusterでは、E-Seriesストレージアレイとの直接接続型構成がサポートされます。詳細については、およびを参照してください<block ref="ae0acc7a1cf35a69eb7b42685c902841" category="inline-link-rx"></block><block ref="fadf4e92a0285084b50a2f28813e046c" category="inline-link-rx"></block>。</block>
  <block id="d345ecc1015dd94decaa70187ff34bd4" category="paragraph">ONTAPシステムとの直接接続型構成でサポートされる特定のE-Seriesアレイモデルについては、Interoperability Matrixを参照してください。</block>
  <block id="36b70151633ac64b0366da085e83af48" category="paragraph">ONTAPでは、E-Seriesストレージアレイで次の直接接続型構成がサポートされます。</block>
  <block id="9b94e9ccd761cba80233e4d0788e4c8e" category="paragraph">スタンドアロンの基本構成では、ONTAPシステムの2つのFCイニシエータポートが2ポートアレイLUNグループのポートにアクセスします。</block>
  <block id="2d1f2a44e4f79599f4f133be4942ad94" category="paragraph">次の図は、ONTAP FCイニシエータポート0aおよび0hが2ポートアレイLUNグループのターゲットポートにアクセスする直接接続型の構成を示しています。</block>
  <block id="9cc2eee37f8c521f60eeef7091d98980" category="image-alt">DA 2ポートスタンドアロン</block>
  <block id="68dbe6fe3715917821a12852fa3926e5" category="section-title">4ホオトノアレイLUNクルウフ</block>
  <block id="9b0c1a487ca91ee7f02c364a2b83b1db" category="paragraph">接続の冗長性を確保するために、HAペアを構成する各ONTAPシステムの2つのFCイニシエータポートが4ポートアレイLUNグループの異なるストレージアレイポートにアクセスします。</block>
  <block id="62478044dfad2708ad047afe3fc2666b" category="paragraph">次の図は、ONTAP FCイニシエータポートが4ポートアレイLUNグループのターゲットポートにアクセスする直接接続型の構成を示しています。</block>
  <block id="894bc21b2092036e3d432e378977706c" category="image-alt">DA 4ポートハペア</block>
  <block id="3652c8e84080a7effa50c57d2c37a51c" category="paragraph">また、HAペアの各ONTAPシステムの4つのFCイニシエータポートを2つの異なる4ポートアレイLUNグループに接続し、ポートペアの各FCイニシエータポートが代替LUNグループにアクセスできるようにすることもできます。</block>
  <block id="3cb219d2eef32efb15d1c9c9fd45aaeb" category="paragraph">次の図は、ONTAP FCイニシエータポートが2つの4ポートアレイLUNグループのターゲットポートにアクセスする直接接続型の構成を示しています。</block>
  <block id="a380ac84669a2a5b925ba66f9c4bda25" category="image-alt">4ポートのアレイLUNグループを2つ使用した直接接続型の構成</block>
  <block id="1a6341a2bba1a380d104239eedad9b11" category="section-title">8ホオトノアレイLUNクルウフ</block>
  <block id="2c871676865113b2c377c8d73bfe8d29" category="paragraph">接続の冗長性を確保するために、HAペア内の各ONTAPシステムの4つのFCイニシエータポートが8ポートアレイLUNグループ内の異なるストレージアレイポートにアクセスします。</block>
  <block id="64caf589f952339a352aa7d84f93131b" category="paragraph">次の図は、ONTAP FCイニシエータポートが8ポートアレイLUNグループのターゲットポートにアクセスする直接接続型の構成を示しています。</block>
  <block id="a3372e7bb99054e9a509773f21966f5e" category="image-alt">8ポート直接接続型のHAペア構成</block>
  <block id="0f7a85d0b5458e28db3290e13ed24719" category="summary">ONTAPシステムを使用するファブリック接続構成では、特定のE-Seriesストレージアレイのみを接続できます。</block>
  <block id="a667a7c484730d5fec21af866ae92396" category="doc">Eシリーズ ストレージ アレイでサポートされるファブリック接続構成</block>
  <block id="de9cd65194dfa62c8f79de0430235cee" category="paragraph">ONTAPシステムを使用するファブリック接続構成では、特定のE-Seriesストレージアレイのみを接続できます。</block>
  <block id="83f620287fc6051774002314ab67efdd" category="paragraph">特定のアレイモデルに関する追加情報については、Interoperability Matrixを参照してください。</block>
  <block id="046ddfc61ca3fffd914d2ef2ffc501dd" category="summary">ONTAPでは、異なる種類のストレージをアグリゲート内に混在させることはサポートされていません。アグリゲート内に混在できるアレイLUNを判別できるように、各ベンダーのストレージアレイはファミリーにグループ化されています。アグリゲートを作成するときは、ベンダーやストレージアレイファミリーが異なるアレイLUNを同じアグリゲート内に混在させることはできません。</block>
  <block id="e966b0ff43198c0554dc3f1060e240fc" category="doc">3PARストレージ アレイ ファミリー</block>
  <block id="2f9e4e6dd5e4fbb1ec974e2bbe2ace7b" category="paragraph">パフォーマンスとフェイルオーバーの仕様が共通する、ストレージ アレイの分類。たとえば、同じファミリーのメンバーは、すべてアクティブ/アクティブフェイルオーバーを実行するか、またはすべてアクティブ/パッシブフェイルオーバーを実行します。ストレージアレイファミリーを決定するには、複数の要因が使用される場合があります。たとえば、アーキテクチャが異なるストレージ アレイは、他の特徴が同じでも別のファミリーになります。</block>
  <block id="8f175e320cd48a29f9bd8b163afd9c7d" category="paragraph">以下の一覧では、サポートされる3PARストレージアレイをファミリー別にまとめています。</block>
  <block id="6f93570dec84b4e9ee80c32c2cca051a" category="list-text">ファミリー1：3PAR InServストレージ</block>
  <block id="9d3b328ee76c990de0fa25e8fad3b9bc" category="list-text">Tx00</block>
  <block id="e7eced18d118f2031ee8bcc52681bbee" category="list-text">ファミリー2：3PAR InServストレージ</block>
  <block id="9c07ae37d8c3f78b6bb61955482ba4b8" category="list-text">Fx00</block>
  <block id="3213733a6f4f3218da6a236cd3505e8f" category="list-text">ファミリー3：3PAR StoreServストレージ</block>
  <block id="d9798cdf31c02d86b8b81cc119d94836" category="list-text">20000</block>
  <block id="26c764c688e12e56d64896b2b10e7432" category="list-text">208xx</block>
  <block id="b38b9210c9f2002ef08c2825074e0ff8" category="paragraph">各ベンダーでサポートされているストレージアレイについては、Interoperability Matrixを参照してください。</block>
  <block id="7749763daee992e42169297d774a440a" category="summary">EMC CLARiXおよびVNXアレイはすべてALUA（非対称アクティブ/アクティブ）フェイルオーバーモードを使用しますが、VNX2ストレージアレイのALUAの動作は異なる場合があります。</block>
  <block id="817fdb14e2dcc4d9a0e1c2689c2b1b32" category="doc">VNX2ストレージアレイのALUAの動作</block>
  <block id="9f473d82b4ceb9d94a95f8a7483b960b" category="paragraph">他のすべてのEMCアレイLUNと同様に、動的ディスクプールからONTAPシステムに提供されるVNX2アレイLUNはALUAフェイルオーバーモードを使用します。ただし、従来のRAIDグループからONTAPシステムに提供されるVNX2アレイLUNは、アクティブ/アクティブフェイルオーバーモードを使用し、すべてのパスが*（アクティブ最適化済み）と報告されます <block ref="2c64c5cf613d8b9f4f7f3980d29aca10" prefix="*" category="inline-code"></block>。このアレイLUNの動作は、バックエンドアレイでのSnapshot作成など、特定の処理中に変化します。</block>
  <block id="c5b1befc1048f7d1c311294b3d4ca6cc" category="paragraph">したがって、VNX2アレイLUNの一貫した動作を維持するために、ONTAPでは、これらのアレイLUNが従来のRAIDグループから提供されるか、ダイナミックディスクプールから提供されるかに関係なく、これらのLUNをALUAとして扱います。</block>
  <block id="1dbf407d8ded1665d0b3a260a5f8f618" category="paragraph">このような場合、特定のVNX2 LUNに対するI/O要求は、*（使用中）状態であると報告されたパスにのみ分散され、*（アクティブ最適化済み）と報告されたすべてのパスには分散され <block ref="eb74a6cb4d3de7fff01515a888a3760d" prefix="*" category="inline-code"></block>ません <block ref="2c64c5cf613d8b9f4f7f3980d29aca10" prefix="*" category="inline-code"></block>。</block>
  <block id="64f2a4ecfec64d62af1d6713dc3258c8" category="paragraph">たとえば、従来のRAIDグループからONTAPシステムに提示されたVNX2アレイLUNへのパスが4つある場合、すべてのパスは*として報告され <block ref="2c64c5cf613d8b9f4f7f3980d29aca10" prefix="*" category="inline-code"></block>ます。 ただし、状態が*のパスは2つだけで <block ref="eb74a6cb4d3de7fff01515a888a3760d" prefix="*" category="inline-code"></block>、他の2つは使用されませんが*（ready）状態になっています <block ref="a668ed2e5c2094adede3bb5a070e8068" prefix="*" category="inline-code"></block>。</block>
  <block id="48d3a839c74cbc77d94a6d1ff6f65c63" category="summary">HP EVAアレイでAsymmetric Logical Unit Access（ALUA；非対称論理ユニットアクセス）がサポートされるようになりました。</block>
  <block id="743657e615161951507a614abad1c87d" category="doc">HP EVAストレージアレイのALUAサポート</block>
  <block id="d011926a21eaf7a0d9a12501b1d7cd1d" category="paragraph">デフォルトでは、ONTAPおよびすべてのHP EVAストレージアレイでALUAのサポートが有効になります。</block>
  <block id="96a2f853dba4f3a42bf45b3d3e0b1274" category="summary">VMAXアレイでは、顧客がACLXの使用を要求した場合、初期化中にACLX（Access Control Logix）LUNが作成されます。ACLX LUNはストレージLUNではないため、ONTAPにマッピングしないでください。</block>
  <block id="942ed3e9d0e49a1730730747def5ba99" category="doc">ACLX LUNノシヨウニカンスルチユウイシコウ</block>
  <block id="b0b075737d54c394d7a512d9b67d4adf" category="paragraph">ACLX LUNをONTAPシステムにマッピングすると、ACLX LUNが必要な最小サイズの要件を満たしていないことを示すメッセージがONTAPによって記録され、障害状態としてマークされます。このエラーメッセージが記録されたあともONTAPシステムは正常に機能しますが、このLUNを使用することはできません。</block>
  <block id="56a988ecb0e3bbc60bae53f5e9cb4afd" category="paragraph">ONTAPシステムのフロントエンドディレクタポートに対するACLX LUNのマッピングを解除する必要があります。</block>
  <block id="fbefb39b16c5d8f6ba298411b3ca8d34" category="summary">VCMDB（Volume Configuration Management Database）を有効にするには、VCMDB LUNが存在している必要があります。VCMDB LUNはコマンドタイプのLUNであり、ストレージLUNではありません。VCMDBは通常はLUN 0にマッピングされますが、LUN 0以外のアレイLUNにマッピングすることもできます。</block>
  <block id="e8751c2c414649919465fc40edab394d" category="doc">VCMDB LUNノシヨウニカンスルチユウイシコウ</block>
  <block id="e8041cc7adbae2da58c913b4691749dd" category="paragraph">VCMDB（Volume Configuration Management Database）を有効にするには、VCMDB LUNが存在している必要があります。VCMDB LUNは<block ref="1dccadfed7bcbb036c56a4afb97e906f" prefix=" " category="inline-code"></block> タイプのLUNであり、ストレージLUNではありません。VCMDBは通常はLUN 0にマッピングされますが、LUN 0以外のアレイLUNにマッピングすることもできます。</block>
  <block id="02f40b908f8d71a5b46ff1a956a56730" category="paragraph">VCMDB LUNをONTAPシステムにマッピングすると、ONTAP VCMDB LUNが必要な最小サイズの要件を満たしていないことを示すメッセージが定期的に記録され、障害状態としてマークされます。このエラーメッセージが記録されたあともONTAPシステムは正常に機能しますが、このLUNを使用することはできません。</block>
  <block id="bf61ad2f2594ecff8e8280476f3cd2ac" category="paragraph">ONTAPシステムに対するVCMDB LUNのマッピングを解除してください。</block>
  <block id="f2acb1268f0e7873dc3d3485313eab4f" category="summary">ストレージ環境でFOS 6.3.1以降のファームウェアバージョンを実行する8Gb Brocadeスイッチを使用している場合は、ONTAPシステムに接続されているスイッチポートに適切なフィルワードが設定されていること、およびスイッチポートがストレージアレイに接続されていることを確認する必要があります。フィルワードが正しくないと、スイッチポートでリンクの初期化に失敗する可能性があります。</block>
  <block id="e479f3bad055162e4aea278a2b9e2f40" category="doc">8Gb Brocadeスイッチポートの必須のフィルワード設定</block>
  <block id="8c6305546aa16c4ee2f81341ce06a1b1" category="paragraph">ONTAPシステムの場合は、対応するスイッチポートのフィルワードを「3」に設定する必要があります。</block>
  <block id="c888c0ead4ab40e435dd9c2dbc23b3bf" category="paragraph">ストレージアレイの場合は、次の推奨値に従ってフィルワードを設定する必要があります。手順については、Brocadeスイッチのドキュメントを参照してください。</block>
  <block id="30b94fdc4d03e992be9a202d81dfb34b" category="cell">ストレージアレイ</block>
  <block id="efeed7843733d83ed4ea01fe2950c770" category="cell">Brocadeスイッチポートのフィルワード値</block>
  <block id="c76e5f5afd86d0ca4d39ff7bb3fd722d" category="paragraph">日立</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="cell">2</block>
  <block id="13e78ee01ffaba63090c33cc03de0ffc" category="paragraph">HP XP</block>
  <block id="75ff8918dee2f97b26cbc416a1f1fa6d" category="paragraph">Data ONTAPシステムでサポートされている他のすべてのストレージアレイ</block>
  <block id="eccbc87e4b5ce2fe28308fd9f2a7baf3" category="cell">3</block>
  <block id="6085851b947b47aba7cff5a0a40e11c6" category="doc">EMC Symmetrixストレージ アレイ ファミリー</block>
  <block id="6e05b678d4c15a81b7ffa50a9f797d28" category="paragraph">ONTAPシステムでサポートされるEMC Symmetrixストレージアレイファミリーは次のとおりです。</block>
  <block id="352b9cf6757e9b073e6cdaa67e08a66a" category="list-text">ファミリー1：VMAX</block>
  <block id="ffe23fbacacc7bc1fb8e8f393053c07b" category="list-text">ファミリー2：VMAX3</block>
  <block id="9af85f9ac4ab4b6c43a469ac9d70d642" category="doc">EMC VNXストレージアレイファミリー</block>
  <block id="557c285b54dca5528f95f8d14f27520d" category="paragraph">ONTAPシステムでサポートされるEMC VNXストレージアレイファミリーは次のとおりです。</block>
  <block id="c9a350e4c125b469cb2b513b60e3e033" category="list-text">ファミリー1：VNX1</block>
  <block id="26fe3c37062dcb9d80eb5a12ef203c29" category="list-text">ファミリー2：VNX2</block>
  <block id="797e146a7661aabd1f8ac58a34c0786a" category="paragraph">これらのアレイは、非対称アクティブ/アクティブ（ALUA）フェイルオーバーモードを使用します。</block>
  <block id="8da205032232a1e40a9e0cb257cf8d1a" category="summary">ここでは、ONTAPでサポートされるストレージアレイの設定に関する一定のガイドラインに従う必要があります。</block>
  <block id="691caa8daf7394e639469b5f86d12d2f" category="doc">すべてのストレージアレイの構成に関する一般的なガイドライン</block>
  <block id="437dccfd5bfdd3eb2d908264ccb915fd" category="summary">Hitachiストレージアレイにポートを設定するときは、一定のガイドラインに従う必要があります。</block>
  <block id="1c6a8d3ab3a02e57acacd9f08cf79564" category="doc">Hitachiストレージアレイでのポートの設定に関するガイドライン</block>
  <block id="e979c3f854f37f5d9f3a63c199177f01" category="paragraph">Hitachiストレージアレイにポートを設定する際のガイドラインは次のとおりです。</block>
  <block id="600644104bf2ca45a4633395a16b2b45" category="list-text">ポートごとに追加するホストグループは1つだけにしてください。</block>
  <block id="83bc5ec11a2c47107e572afd519bba25" category="list-text">アレイLUNネイバーフッドにあるVシリーズシステムのすべてのFCイニシエータポートをホストグループに含める必要があります。</block>
  <block id="5a91e9131b918de19647615d54f0621f" category="summary">HP XPストレージアレイでポートを設定するときは、一定のガイドラインに従う必要があります。</block>
  <block id="7f755fd1e37a376b28d2785b7caa583f" category="doc">HP XPストレージアレイでのポートの設定に関するガイドライン</block>
  <block id="1458e7952e80c55ef061b11474c882a1" category="paragraph">HP XPストレージアレイにポートを設定する際のガイドラインは次のとおりです。</block>
  <block id="cafed8d3e3cdd699df6c36afbe144626" category="summary">CLARiXおよびVNXアレイでAsymmetric Logical Unit Access（ALUA；非対称論理ユニットアクセス）がサポートされるようになりました。</block>
  <block id="4ef405d5d12c7647844744fa2d6297b8" category="doc">EMC VNXストレージアレイでのALUAの有効化に関するガイドライン</block>
  <block id="f79c0e2f00ab75c92316982933afb567" category="paragraph">ONTAPでは、ALUAのサポートがデフォルトで有効になっています。ただし、これを使用するには、ストレージアレイでALUAを有効にする必要があります。</block>
  <block id="18a4e92fa3df24cb131ea89ca55577d7" category="paragraph">ALUAは新しい構成でのみ有効にしてください。既存の構成でALUAを有効にしないでください。</block>
  <block id="af5c62a685f913d1ac96af5c8c10d340" category="paragraph">ストレージアレイでALUAを設定する場合は、ストレージグループのすべてのホストでフェイルオーバーモード4（ALUA）を同じにする必要があります。</block>
  <block id="934c9168ecac5a3dad7ec0410e25dd0a" category="doc">Hitachiストレージ アレイ ファミリー</block>
  <block id="64432c441e870116643f238003951a5e" category="paragraph">ONTAPシステムでサポートされるHitachiストレージアレイファミリーは次のとおりです。</block>
  <block id="5ae785afc11e2a607b9dace27bc37971" category="list-text">ファミリー1：VSP</block>
  <block id="678061b085ef8de53b287659786b8da8" category="list-text">ファミリー2：VSP Gx00</block>
  <block id="52e7344e37c89e23e9a953e3c2b801b7" category="list-text">ファミリー3：AMS 2x00</block>
  <block id="d9f439bef2008d98d8689cc9a3d44bc7" category="list-text">ファミリー4：HUS</block>
  <block id="65d6b4fa8fbda1964f31b5c9a1afd0fd" category="list-text">ファミリー5：HUS VM</block>
  <block id="0fc3296e36c3a1446e5ba67526cfa847" category="summary">EMC VNXアレイは、ストレージグループを使用してデータへのアクセスを制御します。ストレージグループは、ストレージアレイ内の1つ以上のLUNで、アレイLUNに関連付けたホストからのみアクセスできます。ストレージグループに属していないアレイLUNのデータにアクセスしたり、データを変更したりすることはできません。</block>
  <block id="d51254c4e779d18396a9b1cb93602a65" category="doc">EMC VNXストレージアレイによるデータアクセスの制御方法</block>
  <block id="84a4a7457841aecb00242e795d88937a" category="paragraph">ONTAPで複数のストレージグループがサポートされるのは、次のルールに従っている場合です。</block>
  <block id="c1675795bddd96bcac329be0e72e4b52" category="list-text">ONTAPシステムのFCイニシエータポートが各アレイLUNグループへのアクセスに使用するターゲットポートを、スイッチゾーニングで定義する必要があります。</block>
  <block id="c8044d0206f3b70cdd3b7ce72822b663" category="list-text">LUNマスキングを使用して、アレイLUNへのホストアクセスを制限する必要があります。</block>
  <block id="6618d1aa4d8563704d0ed5d9ce59bc50" category="list-text">各FCイニシエータポートに提供するアレイLUNグループを、ストレージグループで定義する必要があります。</block>
  <block id="da7f411d2c5ae64d8aad6165cb596c25" category="list-text">アレイLUNグループごとに、各ONTAPシステムに1つのFCイニシエータポートペアが必要です。</block>
  <block id="baaa9870e06463ab304a61c35be8b087" category="paragraph">アレイLUNネイバーフッドを使用する場合は、同じネイバーフッドのVシリーズシステムが同じストレージグループに属している必要があります。</block>
  <block id="ac0b801010adc61e33306d41c5f87392" category="doc">HP EVAストレージアレイファミリー</block>
  <block id="0ecdee86cfce599675bc4dd303489baf" category="paragraph">以下のリストは、HP EVAストレージアレイをファミリー別にまとめたものです。</block>
  <block id="688503149d42fb05ed429ce1b7654ac6" category="list-text">ファミリー1：P6xxxx</block>
  <block id="8fa0339f311510b4ce6a6610ab8f2add" category="list-text">ファミリー2：HP EVA x100</block>
  <block id="2acafdbb9dc57275f667598c2f787669" category="list-text">ファミリー3：HP EVA X400</block>
  <block id="d76d45036d1c8975f0a2141fa046af02" category="doc">HP XPストレージアレイファミリー</block>
  <block id="1d68557d46412d5509b8ffed2bf8074f" category="paragraph">以下の一覧では、ストレージアレイをファミリー別にまとめています。</block>
  <block id="f308356bd6f109db625bdd82b73dc2fe" category="paragraph">次のリストは、ONTAPシステムでサポートされるHP XPストレージアレイファミリーを示しています。</block>
  <block id="a86edeafe4348c36799e6c52cba3e985" category="list-text">ファミリー1</block>
  <block id="3deb6e61aaa9d8e94a7751ce45172bad" category="list-text">P9500</block>
  <block id="becd46daee8be66fee2893803683de2a" category="list-text">XP7</block>
  <block id="076cbdbb8f812d15db86b319cdda844c" category="doc">IBM DSストレージアレイファミリー</block>
  <block id="17ba582820616138584b897723062df6" category="paragraph">次のリストは、アレイをファミリー別にまとめたものです。</block>
  <block id="1e767ee1695c69b2002be94047de6f6f" category="list-text">DS8300</block>
  <block id="0148e3379a8b1df5ccf2f2ccc1e46d41" category="list-text">DS8100</block>
  <block id="310d7436d764e478611c3aff678f815c" category="list-text">ファミリー2</block>
  <block id="b49f741f2f5f1248ac0e9e892c8f238c" category="list-text">DS8800</block>
  <block id="1182059871b0e38d1e39dc5569f2bccd" category="list-text">DS8700</block>
  <block id="ebc0bc1740c9f0da6a4a50cc96b9bca7" category="list-text">DS8870</block>
  <block id="f0732bdb028e067d0de3729b530e03c1" category="doc">IBM XIVストレージアレイファミリー</block>
  <block id="904d960f772dcfd94630578759f55eee" category="paragraph">ONTAPシステムでは、IBM XIV Gen3ストレージアレイがサポートされます。</block>
  <block id="9e39614af0da8c4c1a8ec074ad7835e6" category="summary">EMC VNXストレージアレイでは、0~255のアレイLUN番号のみがサポートされます。この範囲を超える番号のアレイLUNはONTAPで認識されません。</block>
  <block id="6658d54e195d69ddd186ef392410ee7d" category="doc">EMC VNXアレイでのアレイLUNの番号に関する制限</block>
  <block id="4bf89f98becfc2246a56a6d6db706723" category="summary">ONTAP構成を計画する際には、ストレージアレイの一定の制限を考慮する必要があります。</block>
  <block id="4d0d3a06db8c031eb02c7422dc24188c" category="doc">ストレージアレイを使用した構成の制限タイプ</block>
  <block id="ef8b390a533a872e7b342db3952f1c1f" category="paragraph">_ Hardware Universe _には、ストレージアレイとネイティブディスクの具体的な制限値が含まれています。</block>
  <block id="2c13d5f82a8ceb42e56950e631306d14" category="paragraph">次のタイプの制限はストレージアレイにのみ適用され、ネイティブディスクには適用されません。</block>
  <block id="bb22d988fb15632d6e5406072708ef84" category="list-text">ONTAPでサポートされるアレイLUNの最小サイズと最大サイズ</block>
  <block id="03396b020fa5f37c2c9dcabf4006972f" category="list-text">ルートボリュームのアレイLUNの最小サイズ</block>
  <block id="a285d7d0df525d793e5368beaac3bab6" category="list-text">スペアコアアレイLUNの最小サイズ</block>
  <block id="1eba154ecca8064a44e866662eb6dbea" category="list-text">アレイLUNを含むRAIDグループの制限</block>
  <block id="a77c46114d5777287a5b5ab24f91488b" category="list-text">アレイLUNで構成されるアグリゲートの最小サイズ</block>
  <block id="545842fb843137ac841a64d2ed0b7abb" category="list-text">アレイLUNとディスクの合計最大数（プラットフォームあたり）</block>
  <block id="deec02b736b988fa24e3630c18af5998" category="summary">一般的なFibre Channel（FC；ファイバチャネル）ファブリックでは、ストレージアレイポートがNポート（ノードポート）として初期化され、対応するスイッチポートがFポート（ファブリックポート）として初期化されます。場合によっては、これらのFポートがオフラインになり、Lポート（ループポート）として処理が再開され、ファブリックエラーが発生することがあります。</block>
  <block id="5de7081453ef8244af72d614c47d53c2" category="doc">8Gbアレイポートの初期化に関する要件</block>
  <block id="412dfb8a58b484637dccd0a0f5a3123a" category="paragraph">この動作は、Brocadeスイッチのトポロジの自動ネゴシエーションの問題が原因で発生します。</block>
  <block id="c7ac079152b8b74e8f1e7e93c667b460" category="paragraph">スイッチポートが常にFポートとして初期化されるようにするには、ストレージアレイに接続されているBrocadeスイッチポートに対してコマンドを実行する必要があり<block ref="3c29eeebbdeee38a872c1840412f3c30" prefix=" " category="inline-code"></block><block ref="c88e58a15a47d8acee9e836f358e58b5" prefix=" " category="inline-code"></block> ます。この問題を回避するには、システムの設定を開始するときにこのコマンドを実行する必要があります。また、問題が発生した場合は修正する必要があります。</block>
  <block id="842a798be8054ea2dea08350e0d27f56" category="paragraph">ファブリック全体の効率を高めるには、ONTAPイニシエータポートに接続されているすべてのBrocadeポートに対してこの対処方法を使用することもできます。</block>
  <block id="fd8523c1efe336738ab822235bddf672" category="summary">ONTAPシステムのFCイニシエータポートおよびHP EVAストレージ管理サーバのイニシエータポートをEVAの共通のターゲットポートと共有すると、互換性の問題が発生します。</block>
  <block id="d857844463fe61a286422bf35abcc172" category="doc">HP EVA Storage Management Serverの設定要件</block>
  <block id="7bfbad7317b895f758ea50a839b4d96b" category="paragraph">互換性の問題は、ONTAPシステム上のFCイニシエータポートとEVAストレージ管理サーバのイニシエータポートのホスト設定が異なることが原因で発生します。</block>
  <block id="044e8b56ad21f89e9699c3207537b87e" category="paragraph">HPでは、ファブリック内に存在するHP EVA Storage Management Serverは、すべてのオペレーティングシステムとは別のゾーンに構成することを推奨しています。</block>
  <block id="3910f42ec7b7a2e1d7fe4151a9ecf111" category="summary">動的プールでLUNを作成する場合は、プール容量をオーバープロビジョニングしないでください。</block>
  <block id="beaddf13230d5cb6b8b77290d1687a28" category="doc">動的プールでLUNを作成するための要件</block>
  <block id="b4436fda5d10b8e818eb8040e64381b3" category="summary">さまざまな種類のアレイLUNフォーマットを実行できます。いずれのタイプも、LUNまたはストレージアレイ全体の可用性に影響します。</block>
  <block id="18c4eb95e6eb4322adb8ea09372b6ef5" category="doc">アレイLUNのフォーマットに関する要件</block>
  <block id="fa8fe68c2064a6bb0f17e4c4d131c27d" category="paragraph">新しいLUNをONTAPシステムにすぐに提供する必要がある場合は、クイックフォーマットを使用してください。LUNをあとでONTAPシステムに提供する予定の場合は、クイックフォーマットを推奨しますが、オンラインフォーマットも使用できます。</block>
  <block id="714e4c37019f04615a401fa566b928e6" category="paragraph">クイックフォーマットを使用することを推奨します。オンラインフォーマットとオフラインフォーマットのどちらも、次のリストで説明するように、LUNのフォーマットが完了するまでディスクの検出に時間がかかります。</block>
  <block id="dbd10204ff904de05eaa56904536eed8" category="list-text">オンラインフォーマットでは、フォーマット中のアレイLUNは完全にオフラインになり、アレイLUNはSCSIコマンドに応答しません。</block>
  <block id="ae6c06213054fc548e8cb281b5eba06c" category="paragraph">すべてのアレイLUNがフォーマットされるまで、一度に1つのアレイLUNでフォーマットが実行されます。</block>
  <block id="b3ac16c6ce454d10d7b7009f2e178cc0" category="list-text">オフラインフォーマットでは、ストレージアレイ全体がオフラインになり、ストレージアレイはSCSIコマンドに応答しません。</block>
  <block id="815444b45789ab3c44d1f35774bf5005" category="paragraph">フォーマットが完了するまで、コントローラごとに一度に6つのアレイLUNがフォーマットされます。</block>
  <block id="45bbeb5e888deccd8e0df75d44b80e22" category="paragraph">ストレージアレイは、すべてのフォーマットが完了するまで応答しません。</block>
  <block id="0b70b751883ed5622a63c61d282183f5" category="list-text">ONTAPシステムの初期セットアップ後にアレイLUNを作成する場合（任意のホスト）、オフラインフォーマットを使用すると、システムがパニック状態になります。</block>
  <block id="0de4727c6cde753ff356185d25e53bb5" category="paragraph">ルートボリュームのアレイLUNなど、ONTAPシステムにマッピングされたアレイLUNがある場合、それらのアレイLUNはフォーマットが完了するまで使用できなくなります。</block>
  <block id="f79ad8aef08eb7b64597dfaf2a036481" category="list-text">他のホストのLUNのオンラインフォーマットおよびクイックフォーマットは、ONTAPシステムには影響しません。</block>
  <block id="1b36d4cc806754eff6935e8783948793" category="summary">LUNセキュリティを使用すると、ホストが所有していないLUNにホストがデータを書き込む可能性を排除できます。</block>
  <block id="08085626d8396eeb3d42ef74aec23905" category="doc">EMC SymmetrixストレージアレイにLUNセキュリティを実装するための要件</block>
  <block id="4bcd23e044c5966ee4633fd5a19f92f0" category="paragraph">ONTAPシステムが所有するEMC SymmetrixアレイLUNに対するONTAP以外のホストによる上書き（またはその逆）を防ぐには、次のいずれかの方法で、ホスト（チャネル）ディレクタポートを通じてSymmetrix論理デバイスを提供する必要があります。</block>
  <block id="fc6bfac85f7ab9d4396f0550d93349aa" category="list-text">ONTAP専用の特定のSymmetrixホスト（チャネル）ダイレクタ・ポートでのみ'SymmetrixのONTAP論理デバイスを提供します</block>
  <block id="6e4c1bc6d26e143d66512f20e3705f16" category="paragraph">ポートをONTAP専用にできない場合は、それらのポートを使用する他のすべてのホストがONTAPの要件に準拠していることを確認する必要があります。これは'Symmetrixアレイに接続されている各ホストには'異なるポート属性設定に対する要件があるためですSymmetrixストレージアレイに接続されている複数のホスト間でポートを共有すると、実装不可能な構成になる可能性があります。</block>
  <block id="d8663e5dc925acff8265ae786ca28667" category="list-text">VMAXストレージアレイの場合は、ポートグループ、ストレージグループ、およびイニシエータグループを作成して、必要なマッピングとマスキング用のマスキングビューを作成します。</block>
  <block id="22178c2a776a591c3eb34d409f8df84a" category="paragraph">これを実現するには、まずVMAXストレージアレイポートでACLXポート属性を有効にする必要があります。</block>
  <block id="6f36a403275b4a566b15e1c226f3f373" category="paragraph">デフォルトでは、VCMDB LUNをすべてのホストに提供しないでください。特定のホストに特に表示されていない限り、VCMDBの表示を制限するようにグローバル設定を構成します。</block>
  <block id="3de9060b963f4c0a0fce7d8cfa2633b7" category="summary">ONTAPでは、ストレージアレイの背後でベンダーがサポートするディスク（ストレージアレイの外付けディスク）を使用できます。外付けディスクを使用するストレージアレイを導入する場合、ONTAPはストレージアレイと外付けディスクの間の構成を受け入れます。</block>
  <block id="ff50794d84a467c76cc215a0cac27caa" category="doc">ストレージ アレイの外付けディスクとしてのディスクの使用に関する要件</block>
  <block id="fcda5dcbd560b15cc93a55f78150c170" category="paragraph">外付けディスクを使用するストレージアレイの導入に関する制限事項と推奨されるベストプラクティスを次に示します。</block>
  <block id="291ca7a9fe914354cdf0d72f7eae648b" category="list-text">外部ディスクでは、ルートボリュームとスペアコアLUNがサポートされます。</block>
  <block id="cd9938c00c9c0e933ad6a503af86c056" category="list-text">外付けディスクのアレイLUNと内蔵ディスクのアレイLUNを同じONTAPアグリゲートに含めることはできません。</block>
  <block id="61f44a5f2571e8d510b9fc4324b05793" category="list-text">SATAドライブのアレイLUNとFCドライブのアレイLUNを同じアグリゲートに含めることはできません。</block>
  <block id="924f522537116e67362da0b4f62ada96" category="list-text">外付けディスク上のアレイLUNへのパスの数に関するルールは、ストレージアレイ上のディスク上のアレイLUNと同じです。</block>
  <block id="f6e6b09e41d111cfd9383959059236d3" category="paragraph">外付けディスクの場合、ONTAPシステムからストレージアレイを経由して外付けディスクへのパスが表示されます。</block>
  <block id="610a25b71bb00c57074249dec7bebe19" category="list-text">外付けディスクのアレイLUNではブロックチェックサムのみがサポートされます。</block>
  <block id="3ce2072300942df27321b0c0692f9351" category="summary">DS8xxxアレイの構成時にLUNグループで使用できるボリュームグループの数には制限があることに注意する必要があります。</block>
  <block id="5b36a23392fa5a7f967c2e623f979ac0" category="doc">DS8xxxストレージアレイのボリュームグループに関する要件</block>
  <block id="73dc2bbc0987ae3c5390124ac523bc12" category="paragraph">DS8xxxストレージアレイのLUNグループごとに1つのボリュームグループを使用して、DS8xxxアレイのLUNにアクセスするすべてのFCイニシエータ（ONTAPシステム上のFCイニシエータ）にLUNが常に提供されるようにする必要があります。</block>
  <block id="c372f4b9dda0fb1436156181278aa23f" category="paragraph">アレイLUNが一貫して提供されていないと、データが破損する可能性があります。</block>
  <block id="7e8aaf310487cd11b01cde0f11ac4ae0" category="summary">Gatekeeper論理デバイス（LUN）が提供されている場合は、ONTAPシステムにマッピングしないでください。ONTAPシステムではGatekeeper LUNは使用できません。Gatekeeper LUNは、SYMAPIまたはControlCenterエージェントがストレージアレイとの通信に使用するSymmetrixの論理デバイスです。</block>
  <block id="14c47f8530d1a5cac69af6e9645310d9" category="doc">Gatekeeper LUNの使用に関する制限</block>
  <block id="d2ff95f57d03c64d631c240285d661c6" category="summary">ONTAPでは、Interoperability Matrixで特に指定がないかぎり、ストレージアレイの高度な機能はサポートされません。</block>
  <block id="ffe99eee92808895cf3d197c3a4af575" category="doc">ストレージアレイの高度な機能のサポート</block>
  <block id="173411ac1ab2300ee9a144597b3a273d" category="summary">ONTAP FlexArray情報ライブラリへようこそ。ここでは、サードパーティ製ストレージアレイをクラスタのバックエンドストレージとして使用する方法について説明します。</block>
  <block id="2dad7e560a72e7fda783d07a08b52b0b" category="doc">サードパーティ製ストレージ向けFlexArray®仮想化の実装</block>
  <block id="f4aebfbf739f1eaa515abdaa9901e413" category="summary">アレイLUNを使用するONTAPシステムと連携するようにストレージアレイを設定するには、一定の要件を満たす必要があります。たとえば、ストレージアレイに構成パラメータを設定する、サポート対象の構成のみを導入するなどの要件があります。</block>
  <block id="6e7cfcfe0f36d95fd64105bae0aa0a43" category="doc">3PARストレージアレイ</block>
  <block id="374152016dfa585ad380e9284fda7050" category="summary">アレイLUNを使用するONTAPシステムと連携するようにストレージアレイを設定するには、いくつかの要件を満たす必要があります。たとえば、ストレージアレイに構成パラメータを設定する、サポート対象の構成のみを導入するなどの要件があります。</block>
  <block id="fc05e2faefbee990edbc6563a423ff4d" category="doc">EMCSymmetrixストレエシアレイ</block>
  <block id="1221c6855cabfa0b9a9b580a63af8fc0" category="summary">アレイLUNを使用するONTAPシステムと連携するようにEMC VNXストレージアレイを構成するには、特定の要件を満たす必要があります。たとえば、ストレージアレイに構成パラメータを設定する、サポート対象の構成のみを導入するなどの要件があります。</block>
  <block id="367bfacc8c5e9f23e1ae70502035b54f" category="doc">EMCVNXストレエシアレイ</block>
  <block id="ccb452edcbd5f78c7fe32180aaae304f" category="summary">アレイLUNを使用するONTAPシステムと連携するようにHitachiストレージアレイを設定するには、一定の要件を満たす必要があります。たとえば、ストレージアレイに構成パラメータを設定する、サポート対象の構成のみを導入するなどの要件があります。</block>
  <block id="3817ce87677da16b9b85c8c15f37d38a" category="doc">Hitachiストレージアレイ</block>
  <block id="f9602749bfb008d66f06b5622152c4c6" category="summary">ONTAPシステムと連携するようにストレージアレイを設定するには、一定の要件を満たす必要があります。たとえば、ストレージアレイに構成パラメータを設定する、サポート対象の構成のみを導入するなどの要件があります。</block>
  <block id="0ee289026ad13238b5aca77af68bb046" category="doc">HPEVAストレエシアレイ</block>
  <block id="3abdc782afff858b7d7cb638d3aaa1d1" category="doc">HPXPストレエシアレイ</block>
  <block id="e8cc86399676e52a6617f61b7c735daf" category="doc">IBMDSストレエシアレイ</block>
  <block id="5613bc6950c3d1390c535925ea0bedb9" category="doc">IBMXIVストレエシアレイ</block>
  <block id="515fa10dfa23047a044cf46dbef13f46" category="summary">ONTAPシステムでストレージアレイを使用するには、ストレージアレイに対して設定が必要なパラメータがいくつかあります。</block>
  <block id="48fafaf46879bb8c6512ceb7806ba54c" category="doc">ONTAPシステムと連携するための3PARアレイの必須パラメータ</block>
  <block id="70c89a0a19dde6c2d8b6ae4c3016b17b" category="section-title">Host Personaの設定</block>
  <block id="6ec2d3d90bb35bd010553a97e8d2308f" category="paragraph">ファームウェア2.3.1以降の3PARアレイでは、Host Personaの値を次の表のように設定する必要があります。</block>
  <block id="d0afed67605524c7117536fe92ce3da8" category="cell">接続タイプ</block>
  <block id="9dd79f40c36f574f1dd8d68c1deea6d2" category="cell">ホストの役割</block>
  <block id="eb7e971bcf26f65f0b800db3b6fb403d" category="paragraph">直接接続</block>
  <block id="d3d9446802a44259755d38e6d163e820" category="paragraph">10</block>
  <block id="c23d1cfc222afdf3aa4b1db0b446645a" category="paragraph">ファブリック接続</block>
  <block id="5e8529eac16514d4df9441d60e6c7407" category="paragraph">ONTAPシステムを3PARストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、3PARストレージアレイでホストの定義を作成し、必要なホストの役割を設定しておく必要があります。ゾーニングの設定前にホストが定義されていないと、3PAR LUNがONTAP 254および製品タイプSESとして検出され、ONTAPで使用できません。その結果、新しくマッピングした3PAR LUNをONTAPシステムに割り当てることができなくなります。また、すでにアグリゲートに追加されている3PAR LUNについても、ONTAPで3PAR LUNではなくLUN 254と認識されるため、使用できなくなります。この問題が発生すると、ONTAPで次のEMSメッセージが生成されます。</block>
  <block id="1fd315f14fb13e01f788612b946bf167" category="paragraph">ホストの定義前にゾーニングの設定が行われた場合は、パスの再初期化を実行して3PARストレージアレイからマッピングされたアレイLUNを再検出することで、問題を解決できます。この問題の対処方法については、「3PARストレージアレイの不明なデバイス（L254 / SES）の問題に対する対処方法」を参照してください。</block>
  <block id="1e9511ee4fca6236f57a13d45aff57e0" category="inline-xref-macro">3PARストレージアレイの不明なデバイス（L254 / SES）の問題に対する対処方法</block>
  <block id="7e3393d39305ef7911016c62a7312439" category="paragraph"><block ref="7e3393d39305ef7911016c62a7312439" category="inline-xref-macro-rx"></block></block>
  <block id="8ddc8042d73e95950ee1411aa779761e" category="section-title">Port Personaの設定</block>
  <block id="fb7450f7d11bff5c30ab1358f60edb7f" category="paragraph">ファームウェア2.2.xの3PARアレイでは、Port Personaの値を次の表のように設定する必要があります。</block>
  <block id="2248ecf6dd03b5d7ff08b970efd30389" category="cell">ポートの役割</block>
  <block id="6f4922f45568161a8cdf4ad2299f6d23" category="paragraph">18</block>
  <block id="1f0e3dad99908345f7439f8ffabdffc4" category="paragraph">19</block>
  <block id="4c6a90cfae0fd61990e48c64a279d5fc" category="doc">ONTAPシステムのストレージアレイの必須パラメータ設定</block>
  <block id="c25c172111d3af8890bbd3c15cb74c3d" category="section-title">必須のホストチャネルディレクタポート設定パラメータ</block>
  <block id="fcbffd57b4a67dc97ac4bbaf5c8b7847" category="paragraph">次の表に、ストレージアレイで設定する必要があるホストチャネルディレクタポート設定パラメータを示します。</block>
  <block id="1d44119261cd708c40d68c8518cd4120" category="cell">パラメータ（GUIとCLIで名前が異なる場合があります）</block>
  <block id="51ac4bf63a0c6a9cefa7ba69b4154ef1" category="cell">設定</block>
  <block id="1a73df38298a6b7564ec4785d9f4ae79" category="paragraph"><block ref="0d495bfab484ce1bff0d4fe009650c67" prefix="" category="inline-code"></block> （Common Serial NumberまたはC-bitパラメータ）</block>
  <block id="2faec1f9f8cc7f8f40d521c4dd574f49" category="paragraph">可能にする</block>
  <block id="555a8fec482fd133d8296749781de967" category="paragraph"><block ref="4baee84af7a92177c9064ddc2fc010ce" prefix="" category="inline-code"></block> （Point-to-Pointパラメータ）</block>
  <block id="92039f8b069fd37f4498fd76a9991f35" category="paragraph"><block ref="64aa6d1b12ce0cf692961f6d6f060d78" prefix="" category="inline-code"></block> （SCSI-3）</block>
  <block id="fd95f6c455141df0b9b28e9f8bcbf5b2" category="paragraph"><block ref="ca835d92d7397d9718b1e9eede189ed4" prefix="" category="inline-code"></block> （SCS2_Protocol_version、SCSI Primary Command 2パラメータ、または<block ref="ce9be728857c5e1b31c34cecb601f697" prefix=" " category="inline-code"></block></block>
  <block id="36f6ca3da389f603e91316d6319f7464" category="paragraph"><block ref="40f65f5d097a6e56e8a1a45565a0a38a" prefix="" category="inline-code"></block> （一意のワールドワイド名）</block>
  <block id="cce446eb8900bcaef180ec4ba1483afc" category="paragraph"><block ref="852d00525c262dda5c456568a71e300d" prefix="" category="inline-code"></block></block>
  <block id="bcfaccebf745acfd5e75351095a5394a" category="paragraph">無効化</block>
  <block id="5786636e34a8e10a236aee21d0dc6b9d" category="paragraph">パラメータは<block ref="852d00525c262dda5c456568a71e300d" prefix=" " category="inline-code"></block> 、LUNのマッピング先のすべてのチャネルディレクタポートで同じように設定する必要があります。設定が異なる場合、ONTAPの出力およびEMSメッセージでLUN IDの不一致として報告され<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="3631d7ce503264c3f1a2838e987a60af" category="doc">ONTAPシステムと連携するためのEMC VNXストレージアレイの必須パラメータ</block>
  <block id="db7d779b10d7354f81ab34ba8b006744" category="paragraph">ストレージアレイで設定する必要があるホスト設定パラメータを次の表に示します。</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">パラメータ</block>
  <block id="d0b9a7f8ff24642b227c591113418ae0" category="paragraph"><block ref="e8072aa8a8443b75cf78b32239cc4653" prefix="" category="inline-code"></block></block>
  <block id="f0e1f2a9cea5bf7c671eeacaa7106986" category="paragraph">CLARiiON/VNX</block>
  <block id="d0992dd69e424ebf3fd327652c4fe301" category="paragraph"><block ref="b1ebd6bb1912670a8fb3d98cede3e562" prefix="" category="inline-code"></block></block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="paragraph">有効</block>
  <block id="a32ea4e7810743b49ce834f8d373b1e8" category="paragraph"><block ref="30c6d1c8c0304b5b54693cf09bccff9b" prefix="" category="inline-code"></block></block>
  <block id="a87ff679a2f3e71d9181a67b7542122c" category="paragraph">4</block>
  <block id="e35abb15d355b9f1dccae36f8908ebf2" category="paragraph"><block ref="7ed605961d68ae1a8b11de69125aa975" prefix="" category="inline-code"></block></block>
  <block id="b26e74ed6e2892c7e2bb95e414d460c6" category="paragraph">LUN</block>
  <block id="58380b9ccb430fab72fc140d3d6e2560" category="paragraph"><block ref="dae4a538d4ca7b6c0789932062fe718d" prefix="" category="inline-code"></block></block>
  <block id="4c24e64b9779773520485af6583a85f7" category="paragraph">ユーザが指定したホスト名とポート番号</block>
  <block id="bcade9c0ff948ba3ee93f782d7ce8364" category="paragraph"><block ref="75ba8d70e3692ba200f0e0df37b4d2ae" prefix="" category="inline-code"></block></block>
  <block id="1ab4c4c8aadc8b62aa4d88ddc13a0393" category="paragraph">一意の偽装IPアドレスこのIPアドレスは、ストレージアレイ構成の他の場所で入力していないこと、およびネットワークに存在するIPアドレスでないことを確認する必要があります。</block>
  <block id="1451114192fc378e16aea151e69e28d0" category="doc">ONTAPシステムと連携するためのHitachiストレージアレイの必須パラメータ</block>
  <block id="54eaa5c6476bb20bf06aa72b534b99ed" category="section-title">AMSおよびHUSストレージアレイの必須のシステムパラメータ</block>
  <block id="e9622d7b535336ef569039838cb3546c" category="paragraph">設定する必要があるパラメータを次の表に示します。</block>
  <block id="97ff921ab5378fe049c46d287f01885b" category="paragraph"><block ref="c6d636b35d3f23d8f49131cf397ad940" prefix="" category="inline-code"></block></block>
  <block id="8cf2e3bcf4ad0cc360667b00ee9c5808" category="paragraph"><block ref="e097b8ecac76d9752d8c30326a6a9a61" prefix="" category="inline-code"></block></block>
  <block id="e92a643797cf77b33c654c177207e252" category="paragraph"><block ref="4e624ac37eaed7100109160643a0e875" prefix="" category="inline-code"></block></block>
  <block id="f71efdf959dea666f6974a773c8b11f3" category="paragraph">標準モード</block>
  <block id="91adea9197065bbb632c01a74113869f" category="paragraph"><block ref="419f3742e6de8e0ec4b22cce005e7630" prefix="" category="inline-code"></block></block>
  <block id="dd3195ced9c1810388e28ca2b4eb921f" category="paragraph">指定なし</block>
  <block id="5683e70dbfc91212a037648621bc7bf8" category="paragraph"><block ref="a112bfee20b0d63490e93e7c687338df" prefix="" category="inline-code"></block></block>
  <block id="ec02830e1b1e786de98b1b286bbdc32c" category="section-title">VSPおよびHUS VMストレージアレイの必須のシステムパラメータ</block>
  <block id="59cbb9a306d6af4143c68c583ce1fa66" category="paragraph"><block ref="cc7f159a9ea1fa424339f581d2a8e50d" prefix="" category="inline-code"></block></block>
  <block id="a60240b1c4e5e6bf624e0006dfcab1ff" category="paragraph">standardまたは00</block>
  <block id="01722d8d9b7761319f7ee7b916a1416a" category="paragraph"><block ref="c964378a1b7af535f1912ca284d3bdf5" prefix="" category="inline-code"></block></block>
  <block id="fbe9197e3397346d8bca6fce78cbbfc9" category="paragraph">イニシエータとターゲットポートのペアごとに、デフォルトのホストグループとは別のホストグループを作成する必要があります。</block>
  <block id="04c1ee6cd8842b47941d4f0e1231c83c" category="paragraph">ONTAPシステムをHitachiストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、ストレージアレイパラメータを設定し、LUNをホストグループにマッピングしておく必要があります。</block>
  <block id="66fa2ce091ce9cfcb7338d691d45b266" category="paragraph">ストレージアレイパラメータの設定およびLUNのホストグループへのマッピングを行う前に、ONTAP FCイニシエータポートがHitachiアレイターゲットポートにゾーニングされていた場合、ONTAPインターフェイスに該当するLUNが一切表示されないことがあります。</block>
  <block id="f62d4dc290755850bfd049fe216208db" category="paragraph">この場合、ONTAPは次のいずれかのEMSメッセージを生成します。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="section-title">回避策</block>
  <block id="81d4aaf8c9975b28426073051ffe5b9d" category="paragraph">パラメータの設定およびLUNのホストグループへのマッピングを行う前にゾーニングの設定が行われた場合にLUNが表示されない問題を解決するには、パスの再初期化を実行して、HitachiストレージアレイからマッピングされたアレイLUNを再検出します。この問題の対処方法については、「HitachiストレージアレイにLUNが表示されない場合の対処方法」を参照してください。</block>
  <block id="8a425ac84e838b82d808b4dde625526e" category="inline-xref-macro">HitachiストレージアレイにLUNが表示されない場合の対処方法</block>
  <block id="d9ba4877c50ec44b6ca00fc7c5f998e7" category="paragraph"><block ref="d9ba4877c50ec44b6ca00fc7c5f998e7" category="inline-xref-macro-rx"></block></block>
  <block id="dbe97359d496fa90f69f49d4dc23c563" category="doc">ONTAPシステムと連携するためのHP EVAアレイの必須パラメータ</block>
  <block id="0b1893ef0c0caa2d1e55e54ec3b64579" category="paragraph">システムパラメータの設定を次の表に示します。</block>
  <block id="e8de6ec537bf949b63cd7def8e894cc3" category="paragraph"><block ref="f10475ef438ec27ff53b1f5ce5e4f5d8" prefix="" category="inline-code"></block></block>
  <block id="ed8be8b1dc56a6ed496e90e3dfaeda05" category="paragraph">Vraid0以外の任意のRAIDレベル</block>
  <block id="7f90e0e6f4635093a6240391a1bc26a3" category="paragraph"><block ref="d99181aaf359446eca1e244fa4364d29" prefix="" category="inline-code"></block></block>
  <block id="d403e4dd4b1155cec32331c06f9f3577" category="paragraph">No Preference（デフォルト）</block>
  <block id="e49fa6a3ec39c239958aafd61ec81494" category="paragraph"><block ref="7cc99f0871ef035e270d488aaa7481c5" prefix="" category="inline-code"></block></block>
  <block id="57114d44ee4dae9cace215954b1f576a" category="paragraph">SUN Solaris</block>
  <block id="2a6981c3d5f23e5dd0153912a1c49613" category="summary">このストレージアレイをONTAPシステムで使用するには、ストレージアレイに対して設定が必要なパラメータがいくつかあります。</block>
  <block id="cf7d53f108d6e2603a97f9f58abdba51" category="doc">ONTAPと連携するためのHP XPストレージアレイの必須パラメータ</block>
  <block id="9bc61aa1f8f46a7be8040f4c9282c449" category="section-title">HP XPストレージアレイの必須のシステムパラメータ</block>
  <block id="98b5175c26612a7c9f7514606fec48b4" category="paragraph">必要なパラメータ設定を次の表に示します。</block>
  <block id="98b7304f452b848cb771310e503e29b9" category="paragraph">ONTAPシステムをHP XPストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、ストレージアレイパラメータを設定し、LUNをホストグループにマッピングしておく必要があります。</block>
  <block id="55491320d35b35ec6bcb9f32fbf8012d" category="paragraph">ストレージアレイパラメータの設定およびLUNのホストグループへのマッピングを行う前に、ONTAP FCイニシエータポートがHP XPアレイターゲットポートにゾーニングされていた場合、ONTAPインターフェイスに該当するLUNが一切表示されないことがあります。</block>
  <block id="0576eb07d1c4ddbb255831c78a349d6c" category="paragraph">パラメータの設定およびLUNのホストグループへのマッピングを行う前にゾーニングの設定が行われた場合にLUNが表示されない問題を解決するには、パスの再初期化を実行して、HP XPストレージアレイからマッピングされたアレイLUNを再検出します。</block>
  <block id="63488b36f9754da8300a0e93453d7aa9" category="inline-xref-macro">HP XPストレージアレイにLUNが表示されない場合の対処方法</block>
  <block id="60fe8d5530e2681bf4c7b3c67b3b37e4" category="paragraph"><block ref="60fe8d5530e2681bf4c7b3c67b3b37e4" category="inline-xref-macro-rx"></block></block>
  <block id="19c8455e3b2fc3d47ea4ab73f848077a" category="doc">ONTAPシステムと連携するためのIBM DSストレージアレイの必須の設定</block>
  <block id="40edb2534764ad2c17a8c647cd202c62" category="section-title">DS8xxxストレージアレイの必須のホストタイプ</block>
  <block id="2b3b86cfbe5fb2f8f1bd85fc02c84128" category="paragraph">必要なホストタイプ設定を次の表に示します。</block>
  <block id="71bd159d5007583b2981f3f50d0ccb76" category="paragraph">Nシリーズゲートウェイ</block>
  <block id="d23a377090172b7c8e4508e75d934091" category="section-title">DS8300 9A2 LPARモデルの設定要件</block>
  <block id="65c3bd180a36808a10e61546092a863f" category="paragraph">DS8300 9A2 LPAR（システム論理パーティション）モデルをONTAPシステムと連携するように設定する場合は、冗長パスの両方が同じLPARにアクセスするように各アレイLUNへのアクセスを設定する必要があります。</block>
  <block id="a4a3348fc41e0a7286a2fcd516567de6" category="doc">ONTAPシステムと連携するためのIBM XIVアレイの設定に関する要件</block>
  <block id="31ea99384ab6c666de2e458a6b30123c" category="section-title">システムパラメータの設定</block>
  <block id="51c819dc96b5d16bb37987a93b4ca4f7" category="paragraph">次の表に、IBM XIV Gen3アレイのシステムパラメータ設定を示します。</block>
  <block id="883e5ee58fcff55b813ff95b82e53765" category="paragraph"><block ref="a1fa27779242b4902f7ae3bdd5c6d508" prefix="" category="inline-code"></block></block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="paragraph">デフォルト</block>
  <block id="42348c07f83f7b8607ff0ae8a8b33fc8" category="paragraph"><block ref="c2ca16d048ec66e04bca283eab048ec2" prefix="" category="inline-code"></block></block>
  <block id="4f0c3f6632816bcd493cff26cb441967" category="paragraph">ユーザが指定したホスト名</block>
  <block id="3f5b00065eea9c8556be77e7806c9933" category="paragraph"><block ref="249694a485fc5d3289c38986b4f8e887" prefix="" category="inline-code"></block></block>
  <block id="4a1c37c48e116c012944d47973915eb0" category="paragraph">ユーザが指定したクラスタ名</block>
  <block id="f0aadd1a7d9cacc68cd028b501d1a13c" category="summary">特に記載がないかぎり、さまざまなファブリック接続構成がストレージアレイベンダーすべてでサポートされます。</block>
  <block id="6dbf2de05653ce503786dbbb2725b597" category="doc">サポートされるファブリック接続構成</block>
  <block id="b846bf2fd98047734ad3dc64085afe19" category="summary">ONTAPシステムを3PARストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、3PARストレージアレイでホストの定義を作成し、ホストの役割（「ONTAPシステムと連携するための3PARアレイの必須パラメータ」を参照）を設定しておく必要があります。ゾーニングの設定前にホストが定義されていないと、3PARアレイLUNがONTAP 254および製品タイプSESとして検出され、ONTAPで使用できません。</block>
  <block id="4cb5baa0b3609d80e02e7e5c34643806" category="paragraph"><block ref="4cb5baa0b3609d80e02e7e5c34643806" category="inline-xref-macro-rx"></block></block>
  <block id="b7f1aaf606482d31550089d6dec1c5da" category="paragraph">新しくマッピングした3PARアレイLUNが、ONTAPでLUN 254および製品タイプSESとして検出された場合、ONTAPシステムに3PAR LUNを割り当てることはできません。また、すでにアグリゲートに追加されている3PAR LUNについても、ONTAPでLUN 254とみなされて使用できません。ONTAPでは、LUN 254および製品タイプSESとして検出したLUNについてEMSメッセージを生成し、一部のLUNを不明なデバイスとして報告します。</block>
  <block id="2729dd794e0f8aa407ea71f3b22c06c3" category="paragraph">ホストの定義前にゾーニングの設定が行われた場合に、LUN 254 / SESの不明なデバイスに関する問題を解決するには、3PARストレージアレイからマッピングされたアレイLUNを再検出します。使用する手順は、3PARアレイLUNを含むアグリゲートがONTAPシステムですでに設定されているかどうかによって異なります。（次の手順では、ONTAPノードの名前をNode-1およびNode-2と想定しています）。</block>
  <block id="b8d852bbf325bf12552db254f3538264" category="section-title">3PARアレイLUNを含むアグリゲートがONTAPシステムですでに作成されている場合</block>
  <block id="2535f3e78024ec4f85dd22cb6d24c2e8" category="list-text">次のコマンドを実行して、ONTAPシステムでHA構成が有効になっていることを確認し <block ref="801da29841523bcd41f9523752bc0f86" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="9a940b51cdd2b2d508cffc6eecff9e32" category="paragraph">次の出力が表示されます。</block>
  <block id="1e7a94185199d6d366a6790604209949" category="list-text">次のコマンドを実行して、ONTAPシステムでストレージフェイルオーバーが設定されていることを確認し <block ref="ddf400f1cb6b8b9330ed6c79c508123c" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="e5e2d3fb43df8465ae0c96e95a9e371a" category="list-text">次のコマンドを実行して、Node-1に対してテイクオーバー処理を実行します <block ref="311608dac7b1e21df0f867a4bfe52cd7" prefix="*" category="inline-code"></block>。*</block>
  <block id="10dba5395d3cdbe00fa4e35d18bcf5c6" category="list-text">次のコマンドをもう一度実行して、Node-2がギブバック処理可能な状態になっていることを確認し <block ref="ddf400f1cb6b8b9330ed6c79c508123c" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="e560810d0ad149237d1e9c2e66421077" category="list-text">次のコマンドを実行して、Node-1に対してギブバック処理を実行します <block ref="94c85818f42dca1741275251c5a2a956" prefix="*" category="inline-code"></block>。*</block>
  <block id="d382f7d4419aa03fee8b3d9284c2c570" category="list-text">クラスタ内の他のノードについて、手順3~5を繰り返します。</block>
  <block id="c71e794c848907b8ece35e7713c8b188" category="section-title">3PARアレイLUNを含むアグリゲートがONTAPシステムでまだ作成されていない場合</block>
  <block id="9070364daddca0025f79eff6cb60a275" category="list-text">次のコマンドを実行して、3PARストレージアレイに接続されているすべてのONTAP FCイニシエータポートの一覧を表示し <block ref="0768e99328d0d82ade81684e484e7847" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="4c1c196747c3bd5379fcec214e3a931c" category="paragraph">次の例は、特定のノード名を含むコマンドを示してい <block ref="b39b61c8706d7ff75504306c235acf78" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="0912e41fe42aebc5b67dee31d3da1884" category="list-text">次のコマンドを実行して、表示されたすべてのポートをオフラインにします <block ref="81ecf94baa138dd9e926ae62b052f0a1" prefix="*" category="inline-code"></block>。*</block>
  <block id="e01502ab3b813137b36ee52df5d22f04" category="paragraph">次の例は、特定のノード名とアダプタを含むコマンドを示してい <block ref="d9e4953a3ef215d609ba85afcff3381d" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="18ef7026f45401817bd421c9221d50aa" category="list-text">次のコマンドを実行して、表示されたすべてのポートをオンラインにし <block ref="75c2e7ff39306185c09fd6b95c37c9f5" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="7f724bf2bcd5ca160edee0f0a37eff4b" category="paragraph">次の例は、特定のノード名とアダプタを含むコマンドを示してい <block ref="c3d1ec4c63b9aabed4fa2e1d8ead0ca0" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="7c76b4f787ac104948df3df4c08034a2" category="summary">アレイLUNを使用するONTAPシステムをHitachiストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、ストレージアレイパラメータ（「ONTAPを実行しているシステムと連携するためのHitachiストレージアレイの必須パラメータ」を参照）を設定し、LUNをホストグループにマッピングしておく必要があります。</block>
  <block id="fec78394509bfc75331cf948871cd79c" category="inline-xref-macro">ONTAPを実行するシステムと連携するためのHitachiストレージアレイの必須パラメータ</block>
  <block id="3857f0ef7d2c3435dce40550e73212b4" category="paragraph"><block ref="3857f0ef7d2c3435dce40550e73212b4" category="inline-xref-macro-rx"></block></block>
  <block id="01d7030ae261449d4ed67c11e61953fb" category="paragraph">パラメータを設定してLUNをホストグループにマッピングする前にゾーニングの設定が行われた場合は、パスの再初期化を実行して、LUNが表示されない問題を解決できます。パスの再初期化を実行すると、HitachiストレージアレイからマッピングされたアレイLUNを再検出できます。</block>
  <block id="c4a7448fa84426f1dfc6e12beaba535f" category="paragraph">使用する手順は、HitachiアレイLUNを含むアグリゲートがONTAPシステムですでに設定されているかどうかによって異なります。（次の手順では、ONTAPノードの名前をNode-1およびNode-2と想定しています）。</block>
  <block id="3a8888dff0040c4d135699b2eeb1248e" category="section-title">HitachiアレイLUNを含むアグリゲートが、アレイLUNを使用するONTAPシステムですでに作成されている場合</block>
  <block id="4bfbcef6622f172b3ed1989de6b82089" category="list-text">次のコマンドを実行して、ONTAPシステムでHA構成が有効になっていることを確認し <block ref="801da29841523bcd41f9523752bc0f86" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="0633002b9cd0c9331160211433f8ac31" category="list-text">次のコマンドを実行して、ONTAPシステムでストレージフェイルオーバーが設定されていることを確認します <block ref="ddf400f1cb6b8b9330ed6c79c508123c" prefix="*" category="inline-code"></block>。*</block>
  <block id="db7c9ab47a1b72d353f4fe7cca9dc6c6" category="list-text">次のコマンドを実行して、Node-1に対してテイクオーバー処理を実行します <block ref="311608dac7b1e21df0f867a4bfe52cd7" prefix="*" category="inline-code"></block>。*</block>
  <block id="1fc478662a1b49e8667aafb79c34a669" category="list-text">次のコマンドをもう一度実行して、Node-2がギブバック処理可能な状態になっていることを確認し <block ref="ddf400f1cb6b8b9330ed6c79c508123c" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="a576e484fce37c294d82e8452e8064aa" category="list-text">次のコマンドを実行して、Node-1に対してギブバック処理を実行し <block ref="94c85818f42dca1741275251c5a2a956" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="635ca9c1f4ef81a295fde620c23e71e9" category="section-title">HitachiアレイLUNを含むアグリゲートが、アレイLUNを使用するONTAPシステムでまだ作成されていない場合</block>
  <block id="842ac7939290794293a646d42ed8e0e2" category="list-text">次のコマンドを実行して、Hitachiストレージアレイに接続されているすべてのONTAP FCイニシエータポートの一覧を表示し <block ref="0768e99328d0d82ade81684e484e7847" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="aa20fcdc8a32f8c541539f1dccaba621" category="paragraph">例： <block ref="b39b61c8706d7ff75504306c235acf78" prefix="*" category="inline-code"></block>*</block>
  <block id="95bcac28028a02e284c6c2f0b8eb5416" category="list-text">次のコマンドを実行して、表示されたすべてのポートをオフラインにします <block ref="81ecf94baa138dd9e926ae62b052f0a1" prefix="*" category="inline-code"></block>。*</block>
  <block id="e95a6d211e961645dac52e9bfa68374a" category="paragraph">例： <block ref="d9e4953a3ef215d609ba85afcff3381d" prefix="*" category="inline-code"></block>*</block>
  <block id="da924b7393c25eed375e347a36c32d36" category="list-text">次のコマンドを実行して、表示されたすべてのポートをオンラインにし <block ref="75c2e7ff39306185c09fd6b95c37c9f5" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="eeab6be8e0f11fb03f95695db7717f84" category="paragraph">例： <block ref="c3d1ec4c63b9aabed4fa2e1d8ead0ca0" prefix="*" category="inline-code"></block>*</block>
  <block id="9a8b51873c008dd3402f6619b8481a8b" category="summary">アレイLUNを使用するONTAPシステムをHP XPストレージアレイに接続する場合は、スイッチのゾーニングを設定する前に、ストレージアレイパラメータ（「ONTAPシステムと連携するためのHP XPストレージアレイの必須パラメータ」を参照）を設定し、LUNをホストグループにマッピングしておく必要があります。</block>
  <block id="f53b57a9201f40ec1156104cc0cc7519" category="inline-xref-macro">ONTAPシステムと連携するためのHP XPストレージアレイの必須パラメータ</block>
  <block id="a673f8580f76adfbf94b3ef07297006e" category="paragraph"><block ref="a673f8580f76adfbf94b3ef07297006e" category="inline-xref-macro-rx"></block></block>
  <block id="5722ba2da2bdd059817c5fa87b65c1f0" category="paragraph">パラメータの設定およびLUNのホストグループへのマッピングを行う前にゾーニングの設定が行われた場合は、パスの再初期化を実行して、LUNが表示されない問題を解決できます。パスの再初期化を実行すると、HP XPストレージアレイからマッピングされたアレイLUNが再検出されます。</block>
  <block id="797e68ec3b8d96cd60aa953fd3285cea" category="paragraph">使用する手順は、HP XPアレイLUNを含むアグリゲートがONTAPシステムですでに設定されているかどうかによって異なります。（次の手順では、ONTAPノードの名前をNode-1およびNode-2と想定しています）。</block>
  <block id="b8f46dc11ec1c91b90cbbeff0e481494" category="section-title">HP XPアレイLUNを含むアグリゲートが、アレイLUNを使用するONTAPシステムですでに作成されている場合</block>
  <block id="856b1585dd35279c4c4bf8857aa445f2" category="section-title">HP XPアレイLUNを含むアグリゲートが、アレイLUNを使用するONTAPシステムでまだ作成されていない場合</block>
  <block id="51e8d151db4fdb2905684473162b537c" category="list-text">次のコマンドを実行して、HP XPストレージアレイに接続されているすべてのONTAP FCイニシエータポートの一覧を表示し <block ref="0768e99328d0d82ade81684e484e7847" prefix="*" category="inline-code"></block>ます。*</block>
  <block id="3680e1c7187a80534495404d57c2d9f8" category="summary">HP EVAストレージアレイでは、ファームウェアのアップグレード中にターゲットポートがオフラインになる傾向があります。ONTAPには、ONTAPの耐障害性を高めるコマンドが用意されているため、ファームウェアのアップグレード中にターゲットポートがオフラインになってもONTAPシステムが中断されることはありません。これらのコマンドは、ONTAPを実行するストレージシステムでのみ使用できます。</block>
  <block id="d8f29f6cfbb5b951b1425a807cd8ebaa" category="doc">HPEVAストレエシアレイノNDUノシユンヒ</block>
  <block id="db34d7af4dc3b342efa0c50b075b6bee" category="paragraph">ファームウェアのアップグレードは、負荷の推奨事項（HP EVA）に関するガイドラインなど、HPが提供するガイドラインに従う必要があります。HPがサポートしているファームウェアにのみアップグレードできます。この手順は、HP EVAファームウェアアップグレードタイプ_オンラインアップグレード_に関連しています。</block>
  <block id="88da612c4bd87018647fac1f85167b2a" category="paragraph">ファームウェアのアップグレード中に、両方のHP EVAコントローラがリブートされます。</block>
  <block id="3e9bd749ccd750dfe97a9f40102ad0d1" category="paragraph">この手順では、ファームウェアのアップグレード中のONTAPの耐障害性を高めるONTAPコマンドを使用します。ファームウェアのアップグレードが完了したら、ONTAPコマンドをもう一度使用して、ポートを通常の動作モードに戻します。</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">手順</block>
  <block id="5c314a85ff9db5411fb17b51c9ac9d34" category="list-text">ONTAPシステムで、コマンドセッションの権限レベルをadvancedに設定します <block ref="0581d0d071ad835f74bf419081ce5d75" prefix="*" category="inline-code"></block>。*</block>
  <block id="e7e0e1f0c0a5e8638195a18f46fc70c9" category="list-text">ファームウェアのアップグレードを実行中のHP EVAストレージアレイのパラメータを* true *に設定し<block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block> ます <block ref="1ff714252f56189102bcd534d4a513a4" prefix="*" category="inline-code"></block>。*</block>
  <block id="5cae27f2b8a90a0095717ad4cc1a6729" category="list-text">ストレージアレイで、ファームウェアのアップグレードを開始します。</block>
  <block id="1b937ff10ee17762e5e45167b119e4f3" category="list-text">ファームウェアのアップグレードが完了したら、必要に応じて権限レベルをもう一度advancedに設定してから、ONTAPシステムでパラメータを* false *に設定し<block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block> てストレージアレイポートを通常動作に戻します。 <block ref="6d6309730d1dde774353d78b19f5e5df" prefix="*" category="inline-code"></block>*</block>
  <block id="22e092f40edd7cdf6b13a242c10a27c3" category="paragraph">手順2でアドバンストモードを終了しなかった場合は、再度アクセスする必要はありません。</block>
  <block id="3d45b6a141e59eb274d5f556f77fc94e" category="paragraph"><block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block>パラメータには、コマンドを適切に使用するための次の機能が含まれています。</block>
  <block id="55c3e25e555612f3177616ef7aef6466" category="list-text">アップグレードの実行中にストレージアレイで* false *に設定しようとすると、<block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block> コマンドは失敗し、EMSメッセージが返されます。</block>
  <block id="26b6f55bde978f4fecfb1245b0f213b8" category="list-text">ステータスが* true *に設定されてから60分以内に* false *に戻らなかった場合、<block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block> が* false *に戻るまでEMSメッセージが1時間ごとに記録されます。<block ref="cbdc84a92ecd37816f3f86c7de16ad5f" prefix=" " category="inline-code"></block></block>
  <block id="3ab52ee402a1818b670f52807660b0ca" category="summary">32xxシステムには、他のモデルには適用されない一部の制限事項があります。システムの構成時には、これらの点に注意する必要があります。</block>
  <block id="b512f01902f761bf09fe77759a291839" category="doc">32xxシステム構成の制限事項</block>
  <block id="f0ceec04ee8f45d0921fccf391bc7382" category="paragraph">0cおよび0dの2つのオンボードFCポートは、独立したバス上にありません。そのため、ストレージの冗長性は提供されません。一部のポート障害が原因でシステムがパニック状態になることがあります。冗長ポートペアを構成するには、使用可能な拡張スロットでFC HBAを使用する必要があります。</block>
  <block id="072f7fd6509cabff77014fb30255e918" category="summary">アレイLUNを使用するONTAP構成のインストールおよびテストが完了したら、ONTAPシステムにアレイLUNを追加で割り当て、ONTAPのさまざまな機能を設定できます。</block>
  <block id="00e5cb19f2767b91db5da05ac92ac704" category="doc">アレイLUNを使用するONTAP構成のインストールおよびテスト後の追加作業</block>
  <block id="a4ebeb46837147f45001a138e251e0e6" category="paragraph">アレイLUNを使用するONTAPシステムのインストールおよびテストの完了後に実行できるタスクの一部を次に示します。</block>
  <block id="28f3c76e5757ecfbd45311cf7c5cc26c" category="list-text">必要に応じて、ONTAPシステムに追加のアレイLUNを割り当てます。</block>
  <block id="4451c1e26b8ddff949eeec18a623dfc7" category="list-text">必要に応じて、ONTAPのアグリゲートとボリュームを作成します。</block>
  <block id="c99743f45e3961d5da1550a6eef09d5c" category="list-text">必要に応じて、ONTAPの追加機能（バックアップとリカバリの機能など）をシステムに設定します。</block>
  <block id="671a1a802f9ccfda27d356a9bc6fd89f" category="paragraph">ONTAPの各種機能の設定については、該当するONTAPガイドを参照してください。</block>
  <block id="5f623990b2bb4062b87f9fead6b861d0" category="summary">ONTAP用のアレイLUNへのパスの数を計画する場合は、設定するパスを2つにするか4つにするかを検討する必要があります。</block>
  <block id="129df265c3530b05fa0ed83a930ce250" category="doc">アレイLUNへのパスを4つ設定する利点</block>
  <block id="1ae92fc11639c064e142dee380756134" category="paragraph">アレイLUNへのパスを4つ設定する利点は次のとおりです。</block>
  <block id="50eb76302814332421fd4369d3543094" category="list-text">スイッチに障害が発生しても、両方のストレージアレイコントローラを引き続き使用できます。</block>
  <block id="ba5454483e198969ccb890ecee34405f" category="list-text">ストレージアレイコントローラに障害が発生しても、両方のスイッチを引き続き使用できます。</block>
  <block id="4557765d1ef78aedabffae747e0c9b6c" category="list-text">パスが2つではなく4つに分散されるため、パフォーマンスが向上します。</block>
  <block id="b470f2dba21e94b82d1eb08dca33fbf5" category="summary">異なるベンダーのストレージアレイや同じベンダーの異なるストレージアレイファミリーのストレージアレイでアグリゲートを構成する場合、アグリゲート内でのアレイLUNのレイアウトには特定のルールが適用されます。</block>
  <block id="50042b63c7f3468ef62a314b75976c22" category="doc">異なるベンダーまたはファミリーのストレージ アレイでアグリゲートを構成する場合のルール</block>
  <block id="6440683ac7503f26c3b784618c748551" category="paragraph">異なるベンダーのストレージアレイや同じベンダーの異なるファミリーのストレージアレイを使用する場合は、次のルールが適用されます。</block>
  <block id="80f1535af83ba687f1e400f469a07808" category="list-text">異なるベンダーのストレージアレイや同じベンダーの異なるファミリーのストレージアレイのアレイLUNを同じアグリゲート内に混在させることはできません。</block>
  <block id="17ab819869d6aed0db3be9fd0f68e64c" category="list-text">ルートボリュームを含むアグリゲートは、ストレージアレイのファミリータイプに関係なく、任意のストレージアレイに関連付けることができます。</block>
  <block id="9232058edcce87cc92f6cc3e69902409" category="paragraph">アグリゲートを作成するときは、アグリゲートに追加するアレイLUNのIDを明示的に指定してください。アレイLUNの数とサイズを指定するパラメータは使用しないでください。異なるファミリーやベンダーのストレージアレイからLUNが自動的に選択される可能性があります。異なるファミリーやベンダーのアレイLUNが同じアグリゲートに混在している場合、問題を解決するにはアグリゲートを削除して再作成するしかありません。</block>
  <block id="e58b6c93a5988b998e12273f4a82e035" category="paragraph">次の例は、_異なるベンダーのストレージアレイ、または同じベンダー_の異なるファミリーのストレージアレイを使用する場合の、アグリゲート内でのアレイLUNのレイアウト方法を示しています。</block>
  <block id="341a2efcad03cc6ce9b8b2a251ffefda" category="section-title">例1：2つのストレージアレイのLUNが異なるアグリゲートにある</block>
  <block id="2e124d9a0536cf492474bcf1cdaa66e2" category="paragraph">この例では、ストレージアレイ1のファミリーAのLUNとONTAPストレージアレイ2のLUNをONTAPにそれぞれ使用しています。 ファミリーB。2つのストレージアレイは同じベンダーの異なるファミリーのものであるため、この2つのストレージアレイのLUNを同じアグリゲートに追加することはできません。これは、2つのストレージアレイが異なるベンダーのものである場合も同様です。</block>
  <block id="7420923b3f82de52d2f36bc43153ff24" category="section-title">例2：同じアグリゲートに混在させることができるLUNとできないLUN</block>
  <block id="89005b6d706249bf226ec86892c6c1f9" category="paragraph">この例では、 1つのストレージアレイはファミリーAのもので、他の2つのストレージアレイはファミリーBのものです。ファミリーAのストレージアレイのLUNはファミリーBのものであるため、ファミリーBのストレージアレイのLUNと同じアグリゲートに追加することはできません。ただし、ストレージアレイ3のLUN 1は、ストレージアレイ2のLUNを含むアグリゲート2に割り当てることができます。これは、2つのストレージアレイが同じファミリーに属しているためです。</block>
  <block id="adce7944726b77ed80384b0cf5666368" category="summary">同じベンダーの同じモデルファミリーのストレージアレイを使用している場合、アグリゲートでのアレイLUNのレイアウトには特定のルールが適用されます。</block>
  <block id="505437d7513dd453d6235ce53f783d10" category="doc">同じファミリーのストレージ アレイでアグリゲートを構成する場合のルール</block>
  <block id="81db50c74cf79b7c1a2a886ac680bef6" category="paragraph">ストレージアレイのベンダーが同じ場合、アグリゲートにアレイLUNを追加する際のルールは次のとおりです。</block>
  <block id="7f9b199fda76710579232cbfa11153a8" category="list-text">同じファミリーに属しているストレージアレイのアレイLUNは、同じアグリゲートに混在させることができます。</block>
  <block id="5f8ed06ddaeddc122bbabc1694801104" category="list-text">アレイLUNを別 々 のアグリゲートに分離できます。</block>
  <block id="11b2e17b41175c1b5248de533c5c50aa" category="paragraph">次の例は、ONTAPシステムのストレージアレイが_同じベンダーファミリー_に属している場合の、アグリゲート内でのアレイLUNのレイアウト方法を示しています。</block>
  <block id="dc30116bac1879bc4e6f9dff85035079" category="paragraph">この図では、わかりやすいようにストレージアレイを2つだけ示しています。この環境では、より多くのストレージアレイを導入することもできます。</block>
  <block id="1121a8af7310612381532464a485f72a" category="section-title">例1：すべてのストレージアレイのLUNを1つのアグリゲートに追加する</block>
  <block id="1851422b129d0463022868da2af2f7f1" category="paragraph">次の図に示すように、アグリゲートを1つ作成し、同じファミリーに属するすべてのストレージアレイのすべてのLUNを同じアグリゲートに追加できます。</block>
  <block id="7246d73e72544ee450d9e6f007457454" category="section-title">例2：ストレージアレイのLUNを複数のアグリゲートに分散して混在させる</block>
  <block id="2aec7c1a9a6521bbb8fc4c7b62367bb8" category="paragraph">次の図に示すように、複数のアグリゲートを作成し、同じファミリーに属する複数のストレージアレイのアレイLUNをそれらのアグリゲートに分散して混在させることができます。</block>
  <block id="22bca5e6b3bbdb50b3762dddd34dabab" category="paragraph"><block ref="22bca5e6b3bbdb50b3762dddd34dabab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="215c79a2567ae02f7c9086d569733c59" category="paragraph">ストレージアレイのモデルが同じで、一方のストレージアレイにFibre Channelドライブがあり、もう一方のストレージアレイにSATAドライブがある場合、この例はサポートされません。その場合、これらのストレージアレイは同じファミリーに属しているとはみなされません。</block>
  <block id="ae89c8d7a345276492064f9427b44f2f" category="summary">スペアアレイLUNの割り当てをONTAPシステム間で変更することができます。所有権の変更は、ノード間で負荷を分散するために必要になる場合があります。</block>
  <block id="8741542b1109c583f4d2ef90ac836de2" category="doc">アレイLUNの割り当て変更</block>
  <block id="732b787dc3135bcc4879d57a38985305" category="paragraph">_spare_array LUNの割り当ては、あるONTAPシステムから別のシステムに変更できます。所有権の変更は、ノード間で負荷を分散するために必要になる場合があります。</block>
  <block id="1fc6ae19dbaf7379188bbfa523d85423" category="summary">アレイLUNに割り当てられる名前の形式が変更され、名前がクラスタ内で一意になるようになりました。</block>
  <block id="83af0ff8ca064e5e079e14d43df8d3b4" category="doc">アレイLUN名の形式</block>
  <block id="935fc99c6600dc8872c89200d9e69bdd" category="paragraph">アレイLUN名は2つの要素で構成され、次のようになります。</block>
  <block id="f4b3cdd7eda95d16ce73bf941ef8fde5" category="paragraph"><block ref="e78d27404a959f061f381e688d3ab8bb" prefix="" category="inline-code"></block>など<block ref="1afc134b0a4a7b3cae832e221d54e4b5" prefix=" " category="inline-code"></block>です。</block>
  <block id="7e048b497fadc6bd0abe5687ce54f9c2" category="list-text">は、<block ref="046295e093cbf68ffe13334186be1f83" prefix=" " category="inline-code"></block> ONTAPがデフォルトで各ストレージアレイに割り当てる一意のプレフィックスです。</block>
  <block id="60f297dbd2a2a3b6d87aa6904433ab8e" category="paragraph">このフィールドはで構成され <block ref="382c0db56f0f360af4610bdf3635e409" prefix="" category="inline-code"></block> ます）。</block>
  <block id="95a2e8ce350dd0efec92ee56fc614925" category="paragraph"><block ref="099cfdd2c294e49ea9a5f4f5c37767bc" prefix="" category="inline-code"></block> には、ベンダー名の最初の3文字を指定します。</block>
  <block id="8b5b416e515e0a1cd3bb1377774b1a39" category="paragraph">同じベンダーのアレイが複数ある場合は、の値が<block ref="5a3612665deeeedffb6e0472fce87fb4" prefix=" " category="inline-code"></block> 昇順に進みます。</block>
  <block id="bf432d3d7afae7366bea56ff5af85b1e" category="list-text">offsetは、ONTAPが各LUNに割り当てる昇順の仮想ディスク番号です。ホストのLUN IDには依存しません。</block>
  <block id="82f48698d47fae4de4b93249dfdf4583" category="paragraph">フィールドは、コマンドを使用して変更できます <block ref="d0216afaea2fdef0f4644e541632c590" prefix="" category="inline-code"></block><block ref="c6263ddf5be3a077a6b2e5eff026b445" prefix=" " category="inline-code"></block> 。</block>
  <block id="77c5db44e092a93b12ee806b7c620029" category="summary">ONTAPにマッピングできるのはストレージアレイLUNだけです。LUN 0がストレージタイプのLUNの場合、LUN 0をONTAPにマッピングできます。</block>
  <block id="3ab5edd1c6e3340e214b04827440393c" category="doc">ONTAPでサポートされるアレイLUNタイプ</block>
  <block id="e9d3a46dfbc54cd95095a3e86b64220d" category="paragraph">一部のストレージアレイでは、nonstorage_command_lunが使用されています。コマンドタイプのLUNをONTAPシステムにマッピングすることはできません。</block>
  <block id="2e97596bf006ab4a63eb1ab1532e9166" category="inline-link">サードパーティ製ストレージ向けのFlexArray仮想化の実装</block>
  <block id="cac75528257d480d7397192a839ba0d5" category="paragraph"><block ref="cac75528257d480d7397192a839ba0d5" category="inline-link-rx"></block></block>
  <block id="9508b9bf6dd733b05401748ac2d58263" category="summary">さまざまなLUNセキュリティ方式を使用して、特定のアレイLUNにアクセスできるホストを指定できます。ポートレベルのセキュリティ製品やLUNセキュリティ製品を使用することも、ストレージをONTAPシステム専用にすることもできます。</block>
  <block id="0f939ecab93bef54e19c10261cb3149e" category="doc">使用可能なLUNセキュリティ方式</block>
  <block id="7a038865c2b584221fa4953faf4c93df" category="section-title">ポートレベルのセキュリティ</block>
  <block id="8534c90d8c5f8f772ce411dccbae59c0" category="paragraph">ポートレベルのセキュリティを使用すると、特定のホストにのみアレイLUNを提供できます。そのポートは、そのホスト専用になります。</block>
  <block id="36d446c5058eb58ec0b274ee009a689a" category="paragraph">ポートレベルのセキュリティは、すべてのストレージアレイでサポートされるわけではありません。一部のストレージアレイでは、すべてのポートのすべてのLUNがデフォルトで提供され、LUNの表示を特定のホストに制限することはできません。これらのアレイでは、LUNセキュリティ製品を使用するか、ストレージアレイをONTAPシステム専用にする必要があります。ポートレベルのセキュリティがストレージアレイでサポートされているかどうかを確認するには、ストレージアレイのドキュメントを参照してください。</block>
  <block id="8dc15ff94f599e19c208821baa6baae2" category="section-title">LUNセキュリティ製品</block>
  <block id="2304f51beec9c5e88e1d4dbdb7b643ce" category="paragraph">LUNセキュリティ製品を使用すると、同じポートにゾーニングされたホストを制御して、ホストがそのポート経由で特定のアレイLUNにのみアクセスできるようにすることができます。これにより、アレイLUNを他のホストからマスキングすることで、他のホストが同じアレイLUNにアクセスできなくなります。</block>
  <block id="cf737d7ad189dc0deddebb0391885a3e" category="section-title">ストレージアレイをONTAP専用にする</block>
  <block id="f3f6d07ae5779853c19088264bf779fc" category="paragraph">ストレージアレイをONTAPシステム専用にすることができます。この場合、ONTAPシステム以外のホストはストレージアレイに接続されません。</block>
  <block id="474b577f10d0f5daadc0b0b9289604cc" category="paragraph">ONTAPシステムの保護と冗長性を強化するには、ゾーニングとLUNセキュリティの両方を使用する必要があります。</block>
  <block id="38697657575a67c51efed186f25d050c" category="paragraph">LUNセキュリティ方式に加えて、ベンダーのストレージアレイに対応するLUNセキュリティに関するその他の詳細も確認する必要があります。一部のストレージアレイは、ONTAPシステム専用にする必要があります。</block>
  <block id="82d37cddebcbc53beaf89f22ddf1f310" category="inline-link">NetApp E-Seriesストレージ向けのFlexArray仮想化の実装</block>
  <block id="3138277a1efabcf24fa83e482712e213" category="paragraph"><block ref="3138277a1efabcf24fa83e482712e213" category="inline-link-rx"></block></block>
  <block id="c11cb0056e5e0d020ec0d519f2cb6c73" category="summary">storage errors showコマンドを使用すると、代表的なバックエンド構成エラーの詳細がアレイLUNレベルで表示されます。storage disk error showコマンドおよびstorage disk show -errorsコマンドを使用してエラーを確認することもできます。</block>
  <block id="81c6699aa46948e15a85033dfe4b2ae2" category="doc">ONTAPコマンドで検出されるバックエンド構成エラー</block>
  <block id="1d76da2a401bca93939c83d1b70e7f24" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドは、代表的なバックエンド構成エラーの詳細をアレイLUNレベルで表示します。コマンドとコマンドを使用してエラーを確認することもできます<block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block><block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> 。</block>
  <block id="64d673e5cf7bea8927d4e06fec42433b" category="paragraph">これらのコマンドで特定されたバックエンド構成エラーは、アレイLUNと連携するようにONTAPを設定する前に修正しておく必要があります。</block>
  <block id="faa4ab6e49031d63bcdac9df085b7a58" category="paragraph">コマンドではアレイLUNに関連するエラーの詳細のみが表示されますが<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 、コマンドとコマンドではアレイLUNとディスクに関連するエラーの詳細が表示され<block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block><block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> ます。</block>
  <block id="8d4f62809fb19d1ebf2076a7eeb7be68" category="paragraph">構成内のデバイスの連携に支障をきたすバックエンド構成エラーがある場合、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> storage errors showを実行してエラーの詳細を取得するように指示されます。</block>
  <block id="8df76be75f2c1e3fd4b062698c406a03" category="section-title">バックエンド構成エラーのリスト</block>
  <block id="82e4e367c08170fc8447e46f3862692a" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>、<block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block>、、および<block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> の各コマンドは、次のようなバックエンド構成エラーを特定するのに役立ちます。</block>
  <block id="ba9eab080ce38bbba6627437ba2b417e" category="list-text">アレイLUNへのパスが複数ない。</block>
  <block id="7c130f632dadfb6c31a53336f1b16d44" category="list-text">あるアレイLUNへのパスはすべて同じストレージアレイコントローラに接続されています。</block>
  <block id="a2b4b29c0325cc527d7c750a2efef4f6" category="list-text">2つのアレイLUNが同じLUN IDで提供されている。</block>
  <block id="f839571e2ff65cf6da5c71f4bd5a09fb" category="list-text">LDEVが認識されるすべてのターゲットポートで、同じLDEVのLUN IDが一致しない。</block>
  <block id="1c855b02f6a7317fef64930cb6ec86d6" category="list-text">アレイLUNがONTAPの最大LUNサイズを超えている。</block>
  <block id="bb9a5fe798010e204fc2f0314cdc3daf" category="list-text">アレイLUNがONTAPの最小LUNサイズを満たしていない。</block>
  <block id="9db01b00e768a2b3557aa0f34e4fb566" category="list-text">アレイLUNのブロックサイズが無効です。</block>
  <block id="4f459a407e3cd1339904259ffb138267" category="list-text">アクセスLUNがONTAPに提供されます。</block>
  <block id="ba7d1f79b965d2453f9d06410364519b" category="section-title">バックエンド構成エラーを表示する出力例</block>
  <block id="69fa5871dd89af2851f58176ec5ffa10" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>の出力は、ストレージアレイ別にグループ化されます（ONTAPシステムの背後にストレージアレイが複数ある場合）。該当する場合は、アレイLUNの名前とUnique Identifier（UID；一意の識別子）が表示されます。</block>
  <block id="9ddf8b37387edc54e7e268d12fb4c4d9" category="paragraph">次の出力例は、アレイLUNへのパスが1つしかないという1種類のエラーを示しています。ONTAPではアレイLUNへのパスが2つ必要なため、これはエラーです。</block>
  <block id="b2c6edf74ae2e18bb8d57779dd00c94d" category="paragraph">クラスタ構成では、アレイLUNへの4つのパスがサポートされます。</block>
  <block id="3c8f04e5f868f488c510462c87aa873e" category="paragraph">次の例は、アレイLUNへのパスが1つしか設定されていない場合にコマンドで返されるエラーを示してい<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="925be469775dc138a9d69a93314c9fe8" category="paragraph">次の例は、コマンドで返される同様のエラーを示してい<block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> ます。</block>
  <block id="e932dce6fec7993b725b0bd4faf33a60" category="summary">ONTAPでは、アレイLUN、ディスク、およびアグリゲート用にブロックチェックサム方式（BCS）とアドバンスドゾーンチェックサム方式（AZCS）がサポートされます。</block>
  <block id="1c20170f10e28260c17d8ec643dbc99d" category="doc">ONTAPでサポートされるチェックサム方式</block>
  <block id="92806b1aeadbaed26ff1376a8418fb62" category="paragraph">ONTAPでアレイLUNに割り当てられるチェックサム方式は、アレイLUNのパフォーマンスや使用可能スペースに影響することがあります。そのため、アレイLUNに割り当てるチェックサム方式によって、必要なアレイLUNの数とサイズに影響する可能性があります。</block>
  <block id="742659576567de57bc1fa3d5ea4c5486" category="section-title">ブロックチェックサム（BCS）</block>
  <block id="688e7d07a8b442163b8eaf75c4797ec6" category="paragraph">BCSは、アレイLUNに推奨されるデフォルトのチェックサム方式です。アレイLUNのパフォーマンスは、BCSの方がAZCSよりも優れています。</block>
  <block id="301f455526dba0a8f6dbda7399271b7c" category="paragraph">BCSは、アレイLUNの使用可能スペースに対する影響がAZCSよりも大きくなります。BCSは、アレイLUNの使用可能スペースの12.5%を使用します。</block>
  <block id="495e03c408e4ebd407ee361e9893cd9c" category="section-title">アドバンスドゾーンチェックサム（AZCS）</block>
  <block id="84415cdedf89cd56e49412b5a50419cb" category="paragraph">AZCSはBCSの代わりに使用できます。AZCSがアレイLUNの使用可能スペースに与える影響はBCSよりも小さく、デバイス容量の1.56%がAZCSで使用されます。ただし、使用可能なスペースとパフォーマンスのバランスを考慮する必要があります。AZCSを使用すると、アレイLUNでパフォーマンスの問題が発生することがあります。</block>
  <block id="829378bc461107b74c88110a272a6dba" category="paragraph">AZCSは、ハイパフォーマンスランダムワークロード用のアレイLUNには推奨されません。ただし、DR、アーカイブなどのワークロード用のアレイLUNではAZCSを使用できます。</block>
  <block id="a5f595a9c6dd4f0fd30d392aa3cdf508" category="paragraph">ネイティブディスクにはAZCSによるパフォーマンスへの影響はありません。</block>
  <block id="935e5f8b62c0066ef2d4c250af2e471e" category="paragraph">チェックサム方式のガイドラインは、ディスクのサイズとタイプによって異なります。詳細については、_TR3838ストレージサブシステム構成ガイド_を参照してください。</block>
  <block id="53b4984a1882e1bdbeb4edc737880619" category="inline-link">NetAppテクニカルレポート3838：『ストレージサブシステム構成ガイド』</block>
  <block id="e21360dd35f27084558acc5c49983870" category="paragraph"><block ref="e21360dd35f27084558acc5c49983870" category="inline-link-rx"></block></block>
  <block id="6cb381740ce13899ad0b2e8114a3b695" category="summary">アグリゲートにスペアアレイLUNを追加する場合は、チェックサム方式に関連する一定の考慮事項を考慮する必要があります。たとえば、名前を指定してスペアアレイLUNをアグリゲートに追加する場合は、アレイLUNとアグリゲートのチェックサム方式が同じであることを確認する必要があります。</block>
  <block id="dabc218ea2dbc240f845eeb8951499c9" category="doc">アグリゲートにスペアアレイLUNを追加する場合のチェックサム方式に関する考慮事項</block>
  <block id="51cd112a11970064ef13695580aac4fd" category="paragraph">アグリゲートにスペアアレイLUNを追加する場合のチェックサム方式に関する考慮事項を次に示します。</block>
  <block id="72c053371b0885716f8932204d007f01" category="list-text">1つのアレイLUNアグリゲートにチェックサム方式が異なるアレイLUNを混在させることはできません。</block>
  <block id="6cde697fc741f9fdc11e1c3e380c1544" category="list-text">アグリゲートに追加するスペアアレイLUNの数を指定した場合、アグリゲートと同じチェックサム方式のアレイLUNがONTAPでデフォルトで選択されます。</block>
  <block id="bd88d3bdf1058a55585a104ad29f4a36" category="list-text">ゾーンチェックサム方式の既存のアグリゲートに追加したゾーンチェックサム方式のアレイLUNは、ゾーンチェックサム方式のままです。</block>
  <block id="8ff5ef9353360a4dc5e1da393685b59f" category="list-text">アドバンスドゾーンチェックサム（AZCS）方式のアグリゲートにゾーンチェックサム方式のスペアアレイLUNを追加すると、AZCSチェックサム方式が使用されます。</block>
  <block id="9fb22d501fd3af80199a8eab38e26970" category="paragraph">スペアアレイLUNのチェックサム方式は、コマンドを使用して確認できます<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block> 。コマンドの詳細については、マニュアルページを参照してください。</block>
  <block id="2182fa1574efeec1d0be0424ec927be5" category="summary">アレイLUNで使用するONTAPシステムを複数導入する場合は、どのアレイLUNを所有するシステムを特定する必要があります。ディスク所有権を設定すると、そのアレイLUNを所有するONTAPシステムのみがアレイLUNのデータを読み書きできるようになります。</block>
  <block id="685c5363e034fbe14020e64d0aedb865" category="doc">ディスク所有権計画時の考慮事項</block>
  <block id="c835a502a6e8cdba4455f53d9ac18395" category="paragraph">アレイLUNで使用するONTAPシステムを複数導入する場合は、どのsystem_owns_whichアレイLUNを使用するかを決定する必要があります。ディスク所有権を設定すると、そのアレイLUNを所有するONTAPシステムのみがアレイLUNのデータを読み書きできるようになります。</block>
  <block id="c6af3aab1d7c0641dec0cd56a685fe2b" category="paragraph">どのアレイLUNをどのシステムの所有にするかを計画する際は、次の点を考慮してください。</block>
  <block id="cbe97dc6261a53dab3ad7e263aeff043" category="list-text">プラットフォームでサポートされる割り当てデバイスの最大数</block>
  <block id="4b4faafb9207a990c610ba967ac70dcd" category="paragraph">Hardware Universe _は、プラットフォームごとにサポートされる割り当て可能な最大デバイス数を示しています。これはハードコードされた制限です。アレイLUNとディスクの両方を使用するシステムの場合、この上限はディスクとアレイLUNの合計の最大数です。システムに割り当てることができるアレイLUNとディスクの数を決定するときは、両方のタイプのストレージについて考慮する必要があります。</block>
  <block id="77adff04f30b75c28bb76ef798bddc7f" category="list-text">環境で使用されているさまざまなアプリケーションで生成されると予想される負荷の量</block>
  <block id="2cf8043a54d84d4e32eccf8b2423f9af" category="paragraph">アプリケーションのタイプによっては大量の要求が生成されることが多く、他のアプリケーション（アーカイブアプリケーションなど）では少ない要求が生成されることがあります。特定のアプリケーションで予想される負荷に基づいて、所有権の割り当ての検討が必要になる場合があります。</block>
  <block id="40714f48d27d86046d848b225475d274" category="summary">ONTAPで必要なアレイLUNの数とサイズを計画する場合は、アレイLUNで使用可能なスペースにチェックサム方式が及ぼす影響を考慮する必要があります。チェックサム方式は、ONTAPシステムに割り当てるアレイLUNごとに指定する必要があります。</block>
  <block id="06f1f8a732f94bbc83875844bdff9640" category="doc">アレイLUNのサイズと数を計画する際のチェックサム方式の検討</block>
  <block id="113ff745d2662faed944926858424432" category="paragraph">ストレージアレイ上のアレイLUNをONTAPシステムにマッピングすると、ONTAPはそのアレイLUNをフォーマットされていないrawディスクとして扱います。アレイLUNをONTAPシステムに割り当てるときは、チェックサム方式を指定して、rawアレイLUNのフォーマット方法をONTAPに指定します。チェックサム方式が使用可能なスペースに与える影響は、LUNに指定するチェックサム方式によって異なります。</block>
  <block id="7aa9edcf49d5f6352e2bfeb23fdf7b70" category="summary">ゾーン定義でエラーが発生すると、ホストグループ定義の再設定が必要になる場合があります。逆の場合も同様です。</block>
  <block id="cc71da48796ffe62e1bd80ca936b9788" category="doc">ゾーン定義とホスト グループ定義間の依存関係</block>
  <block id="d4a9dc17cc929f062e47c25f4f5a80be" category="paragraph">ゾーン定義を構成する際には、ONTAPシステム上のFCイニシエータポートのWWPNと、そのゾーンのストレージアレイポートのWWPNまたはWWNNの2つのポートを指定します。同様に、ストレージアレイでONTAPシステムのホストグループを設定する場合は、ホストグループのメンバーにするFCイニシエータポートのWWPNを指定します。</block>
  <block id="60cade88afea211ed83642225f11a3f0" category="paragraph">設定の一般的な順序は次のとおりです。</block>
  <block id="9f09305a9464ab97c7602ee99fb83bd3" category="list-text">ゾーン定義を作成します。</block>
  <block id="90e0793a4d862e594afd4a782427099e" category="list-text">ストレージアレイでホストグループを構成します（リストからONTAPシステム上のFCイニシエータポートのWWPNを選択します）。</block>
  <block id="572afdf42bab4221d47ef19413f26cf8" category="list-text">アレイLUNをポートに提供します。</block>
  <block id="0597b67dbae6d231f8b943c1b27a28c9" category="paragraph">ただし、ゾーン定義の前にホストグループが設定されている場合があるため、ストレージアレイのホストグループ構成にWWPNを手動で入力する必要があります。</block>
  <block id="091b00c47221e29f3168306a96bf03c0" category="section-title">一般的なエラー</block>
  <block id="4e7511c86b70aac784379167a1a6aed0" category="paragraph">ONTAPの出力では、ONTAPシステム上のFCイニシエータポートはアダプタ番号（0a、0b、0c、0dなど）で識別されます。 オンボードポートを搭載したモデルの場合も同様です。WWPNはスイッチのGUIとストレージアレイのGUIに表示されます。WWPNは16進形式で長いため、次のエラーが発生します。</block>
  <block id="3a8f39d0e1291e27ac2fc4238d428507" category="cell">WWPNの指定方法</block>
  <block id="bf67f873e4f9af2ba5c833e38a047d08" category="cell">一般的なエラー</block>
  <block id="8f4f00a13ad82eac85548e434842096d" category="paragraph">管理者がWWPNを入力</block>
  <block id="80705dbb3ec5d7de3b52d4caca157d30" category="paragraph">タイプミスが発生します。</block>
  <block id="df6ef01e480c2fbc8dcbbf024d89749a" category="paragraph">WWPNはスイッチによって自動的に検出される</block>
  <block id="a38575b0b20c0291051701b10c13c8e0" category="paragraph">選択リストからFCイニシエータポートの間違ったWWPNが選択された。</block>
  <block id="ac386a3bf0253aef7f917a6b505a5340" category="paragraph">ONTAPシステム、スイッチ、およびストレージアレイが相互に接続されている場合は、ONTAPシステムとストレージアレイポートのWWPNがスイッチで自動的に検出されます。これで、スイッチGUIの選択リストにWWPNが表示され、ゾーンの各メンバーのWWPNを入力するのではなく選択できるようになります。入力ミスを防ぐために、スイッチでWWPNを検出することを推奨します。</block>
  <block id="07a23a8f2de72aa46c0c6a9cbcf531d6" category="section-title">エラーの連鎖的影響</block>
  <block id="230a3ea5675af62adc60f606f2480b2b" category="paragraph">ファブリック接続構成の問題をトラブルシューティングする際の最初の手順は、ゾーニングが正しく設定されているかどうかを確認することです。ホストグループ定義とゾーン定義の関係を考慮することも重要です。問題を解決するには、設定プロセス中にエラーが発生した場所によっては、ゾーン定義とホストグループ定義の両方を再設定する必要があります。</block>
  <block id="45c1e71ee188a871115eeb2b37c5e7c5" category="paragraph">スイッチでWWPNを自動検出し、ゾーン定義を先に設定すると、ストレージアレイ上のLUNへのアクセスに使用するFCイニシエータポートのWWPNが、ストレージアレイGUIのホストグループ構成の選択リストに自動的に反映されます。そのため、ゾーニングエラーはストレージアレイのホストグループ選択リストにも反映されます。選択リストには、ONTAPシステムに表示される短いFCイニシエータポートラベル（0a、0bなど）ではなく、16進形式の長いWWPNが表示されます。そのため、想定していたWWPNが表示されていないことは簡単にはわかりません。</block>
  <block id="a6d0f5eb31e4a6c09a8b4db8e92822a2" category="paragraph">次の表に、特定のエラーの影響を示します。</block>
  <block id="765409008bf9a1015e4c54893d1f37d1" category="cell">スイッチのゾーン定義</block>
  <block id="e684e4acd5dbfb1bfb56ca589c646d73" category="cell">ストレージアレイでのホストグループ構成</block>
  <block id="cd5a911650bd0d320137e91599c8b42c" category="cell">ONTAP出力の症状</block>
  <block id="4618a8850daeae5f5b4ee4e64ed50804" category="paragraph">ゾーン定義に含まれるFCイニシエータポートが正しくありません。その結果、FCイニシエータポートの間違ったWWPNがホストグループ構成に反映されました。</block>
  <block id="95506d07d567951ec4d0761c3476ca15" category="paragraph">選択リストに表示されたFCイニシエータポートのWWPNを選択したが、想定していたWWPNではない。</block>
  <block id="0022f7902f81655b45e7681da6534c36" category="paragraph">想定されるFCイニシエータポートでアレイLUNが認識されない。</block>
  <block id="104f0b7f475bbc625ce16ec19052a9b5" category="paragraph">正しいFCイニシエータポートがゾーン定義に含まれている。</block>
  <block id="62f23ae28fc89fd29b58f7f4445d680f" category="paragraph">次のいずれかが原因で、ホストグループ定義に間違ったWWPNが含まれています。</block>
  <block id="21052bc7d674e7a25783ec049465265a" category="list-text">間違ったWWPNを選択した。</block>
  <block id="fc72efb0e54d529557388b4a82945c0d" category="list-text">ゾーン定義を設定する前にホストグループを手動で設定し、FCイニシエータポートのWWPNを入力したときにタイプエラーが発生した。</block>
  <block id="38682ab5967fd268bbafe54d64a1af5e" category="summary">アグリゲート内に異なるタイプのストレージを混在させる場合には、いくつかのルールが存在します。これらのルールは、アレイLUNを使用するONTAPシステムに固有のものです。どのアレイLUNおよびディスクをどのアグリゲートに追加するかを計画する際には、これらのルールを理解しておく必要があります。</block>
  <block id="dc546e075857af9f46ce82e0d6d647ae" category="doc">特定のアグリゲートに使用するアレイLUNの決定</block>
  <block id="2f27eff4cab10b6a483ec8f9bcb79ec5" category="summary">アレイLUNで使用可能なスペースには、いくつかの要因が影響します。必要なアレイLUNの数とサイズを計画する場合は、使用するチェックサム方式と設定する要素に基づいて、アレイLUNで使用可能なスペースを考慮する必要があります。</block>
  <block id="d808678dc6eea6d370b4ba7e2a7c7272" category="doc">アレイLUNの使用可能スペース減少につながる要素</block>
  <block id="8713bf6dae355ef03c171d87bfca1c78" category="paragraph">アレイLUNで使用可能なスペースを計算するときは、LUNの使用可能なスペースを減らす次の要因を考慮する必要があります。</block>
  <block id="942b627ac4d50f990ca179c5c250b153" category="list-text">ONTAP用にリザーブされているスペース</block>
  <block id="4ff36d2aadcd5148c548c2e32ab7ec73" category="list-text">コアダンプ用のスペース</block>
  <block id="b2be52657dcc6bdd5705d620e3f42722" category="list-text">ボリュームレベルのSnapshotリザーブ</block>
  <block id="6b66d9f5ebaae2e907bc958754a4ff3b" category="list-text">アグリゲートレベルのSnapshotコピー</block>
  <block id="b2b796e81f0969e2a6443b82e46a8c37" category="list-text">チェックサム方式（1つの方式を割り当てます）：</block>
  <block id="9fa8f0828e7318a0325505c534559832" category="list-text">アドバンスドゾーンチェックサム（AZCS）</block>
  <block id="2f28b42e1d6048a1abaae9ae941b7015" category="summary">ONTAPシステムの1つのFCイニシエータポートを、異なるストレージアレイの最大4つのターゲットポートに接続できます。一部のストレージアレイでは、同じストレージアレイの4つのターゲットポートに接続できます。</block>
  <block id="9a61dd35a4369d53ce579a82851de24b" category="doc">構成例：共有FCイニシエータ ポート</block>
  <block id="6ae7e1d00297ae59f14e33c6442d2598" category="paragraph">ゾーニングのベストプラクティスは、FCイニシエータとターゲットポートの各ペアを別 々 のゾーンに1対1で配置することです（同じFCイニシエータが複数のターゲットポートと通信している場合も同様）。</block>
  <block id="febbb4e4c5672eedfc0db15e0855f17d" category="section-title">共有FCイニシエータポートを_separate_storage arraysの複数のターゲットポートに接続</block>
  <block id="a0cbba39a72f650bff004df037a9eada" category="paragraph">次の図は、_different_storageアレイ上のターゲットポートとFCイニシエータポートを共有するための接続とゾーニングを示しています。</block>
  <block id="ed4a800307f8e5ed740473506b94df9c" category="paragraph">次の図の実線はシステムvs1のFCイニシエータポートからの接続を示し、点線はシステムvs2のFCイニシエータポートからの接続を示しています。</block>
  <block id="710cde3271b6eb55cd86ab979ccff693" category="image-alt">複数のアレイでイニシエータポートを共有</block>
  <block id="2f74043d0f2904cd452d0d6599fb39dd" category="paragraph">次の表は、1つのFCイニシエータポートが異なるストレージアレイの複数のターゲットポートを共有する例に対応した1対1のゾーニング定義を示しています。</block>
  <block id="b3ff996fe5c77610359114835baf9b38" category="cell">ゾーン</block>
  <block id="239aedca5ee36cd71a1cf9ea2882861e" category="cell">ONTAPシステムとFCイニシエータポート</block>
  <block id="72be3cab576c552263b273dfbaea5e16" category="paragraph">* スイッチ 1 *</block>
  <block id="3b770ebe9b04f171f0ead0e07d8e2882" category="paragraph">z1</block>
  <block id="a97790362af4f4953cfcfbc03cb63b98" category="paragraph">vs1：0a</block>
  <block id="286157157d0b0b2799be2a9a44b48055" category="paragraph">ストレージアレイ1：コントローラ1のポート1A</block>
  <block id="5cb7e380d019de63c643aef55b8534d0" category="paragraph">z2</block>
  <block id="c7634e17bd6cb186524d4882e6486393" category="paragraph">ストレージアレイ2：コントローラ1のポート1A</block>
  <block id="a61d1457beb4684e254ce60379c8ae7b" category="paragraph">z3</block>
  <block id="1c0a3c24c875dbece6c92c2fc2889c44" category="paragraph">vs2：0a</block>
  <block id="05690528f7871cc3a0aeb039892f2820" category="paragraph">ストレージアレイ1：コントローラ1のポート1B</block>
  <block id="8ed54f04419ffb305225370abdaba82d" category="paragraph">z4</block>
  <block id="39968b6039a36a4046d171e58d438695" category="paragraph">ストレージアレイ2：コントローラ1のポート1B</block>
  <block id="bb12412086f61c678c1c222a3af43eca" category="paragraph">* スイッチ 2 *</block>
  <block id="4afbd36dfbe0916ea993c5ca93ffedb5" category="paragraph">z5</block>
  <block id="66ab15ad42fec313daffec84dbb54cfa" category="paragraph">vs1：0c</block>
  <block id="5f4382b265bdac4ec07ad5c9ad22648d" category="paragraph">ストレージアレイ1：コントローラ2のポート2A</block>
  <block id="4d0ce1d0c3837c91f11658e2cf303259" category="paragraph">z6</block>
  <block id="48f9b40df90fcb4d5c3f737a8dde0967" category="paragraph">ストレージアレイ2：コントローラ2のポート2A</block>
  <block id="9ab4c1b5e09f493aa9b452766cddb7ee" category="paragraph">z7</block>
  <block id="4edac85834610ed6b56f0fb3d60245e6" category="paragraph">vs2：0c</block>
  <block id="18189c0e7144de92817edd601759dff2" category="paragraph">ストレージアレイ1：コントローラ2のポート2B</block>
  <block id="298a60807e4f1433233c2dc093f01258" category="paragraph">z8</block>
  <block id="a7a0f41211ef7d7c46e5b5983683f87e" category="paragraph">ストレージアレイ2：コントローラ2のポート2B</block>
  <block id="d695c08e99251223601cbe9e716b66ce" category="section-title">共有FCイニシエータポートを_same_storageアレイの複数のターゲットポートに接続</block>
  <block id="7db2c1b431795e17f38df267199f558f" category="paragraph">この構成は、LUNマスキング、提供、またはホストグループ機能を使用して、アクセスするターゲットポートに基づいて同じFCイニシエータに異なるLUNグループを提供できるストレージアレイでのみ使用できます。</block>
  <block id="7a7454583489a72b4a991ffe55f2a509" category="paragraph">一部のストレージアレイでは、アクセスするターゲットポートに基づいて異なる論理デバイスのセットを1つのFCイニシエータに提供できます。このタイプのストレージアレイでは、同じFCイニシエータを複数のホストグループに含めることができます。この機能を搭載したストレージアレイでは、各FCイニシエータが同じストレージアレイの複数のターゲットポートにアクセスでき、各ターゲットポートがFCイニシエータに異なるLUNグループを提供します。お使いのストレージアレイのドキュメントを参照して、同じFCイニシエータを複数のホストグループに含めることができるかどうかを確認してください。</block>
  <block id="d5302d00393fc5746d88a019452672d1" category="paragraph">次の図は、_same_storageアレイ上の複数のターゲットポートでFCイニシエータポートを共有するための接続とゾーニングを示しています。この例では、ゾーニング定義が1対1（1つのFCイニシエータから1つのターゲットポート）として設定されています。</block>
  <block id="47efa020a31bb18117f22ee28011fa5a" category="paragraph">次の図の実線はシステムvs1のFCイニシエータポートからの接続を示し、点線はシステムvs2のFCイニシエータポートからの接続を示しています。この構成には2つのLUNグループが必要です。</block>
  <block id="c82c0d8b895bb90221194642c96247d6" category="paragraph">次の表は、同じストレージアレイの複数のターゲットポートを共有する1つのFCイニシエータポートの例に対応した1対1のゾーニング定義を示しています。</block>
  <block id="89ac24dd869aeea545adf048ee6c0a21" category="cell">ストレージアレイとポート</block>
  <block id="e79bc5599ed43bf573992c327fb00274" category="paragraph">スイッチ1</block>
  <block id="974c3af19b2a39e2386d35dce4d4dd78" category="paragraph">コントローラ1のポート1A</block>
  <block id="d956f0f8d1d7be30386805ed19d98e40" category="paragraph">コントローラ1のポート1C</block>
  <block id="6edbe3c2db9aced683e7e9ea82d437fc" category="paragraph">コントローラ1のポート1B</block>
  <block id="59e3e4db3469dba9eb20b4f87dbf3fcf" category="paragraph">コントローラ1のポート1D</block>
  <block id="14b42c7d1896b7605692e8c1af5df50d" category="paragraph">スイッチ2</block>
  <block id="0dc2b3a42d8450a0b3c09adfadeedfa7" category="paragraph">コントローラ2のポート2A</block>
  <block id="585341b862b47491ceca4781cf0d9d84" category="paragraph">コントローラ2のポート2C</block>
  <block id="70c9ffc2a3eb53becae1bf2d7cc3cafc" category="paragraph">コントローラ2のポート2B</block>
  <block id="a900cec6ed2ac2fa726398b2115188e5" category="paragraph">コントローラ2のポート2D</block>
  <block id="f1b01414b2d8a1bdbc4df4d4d43f8e0a" category="summary">ストレージアレイ上の1つのターゲットポートに最大2つのONTAP FCイニシエータポートを接続できます。</block>
  <block id="3cafa0adf97f97d79e9002651dd1c94f" category="doc">構成例：共有ターゲット ポート</block>
  <block id="c6dfa2efc14fd9e7c0f8d221b03c66f7" category="paragraph">ゾーニングのベストプラクティスは、FCイニシエータとターゲット ポートの各ペアを別々のゾーンに配置する構成（1:1）です。</block>
  <block id="b94ee14a099cb7c569b81f1cca35e864" category="section-title">複数のイニシエータポートに接続された共有ターゲットポート</block>
  <block id="4b32137aaf38d5388307111499d46f6b" category="paragraph">次の図は、異なるONTAPシステムの複数のFCイニシエータポートでターゲットポートを共有するための接続とゾーニングを示しています。</block>
  <block id="5d78cb0689abd804565d174de3d6a5b2" category="image-alt">共有ターゲットポート構成の接続とゾーニングの説明が付随しています。</block>
  <block id="ce15c6840b0592c413543c405f30a1f0" category="paragraph">次の表は、HAペアのコントローラの2つのFCイニシエータポートを共有する1つのターゲットポートの例に対応する1対1のゾーニング定義を示しています。</block>
  <block id="676645a069386ea107dd51009aac22f9" category="cell">コントローラ1：ポート1A</block>
  <block id="18003de25ad1ed02fb5f1b21927cae7c" category="cell">コントローラ2：ポート2A</block>
  <block id="67ea9d2618c3b6eb0c0787d26c9ed44f" category="summary">複数LUNグループ構成を使用すると、ワークロードを複数のターゲットポートに分散してシステムパフォーマンスを向上させることができます。</block>
  <block id="f8e7acea0895104db4449897af261faa" category="doc">複数のLUNグループを使用した構成例</block>
  <block id="67cf89e5a5de6d85976eabd529477863" category="paragraph">複数LUNグループ構成は、ほとんどのストレージアレイでサポートされます。お使いのストレージアレイでこの構成がサポートされていることを確認するには、_Interoperability Matrix_を参照してください。</block>
  <block id="ceb31570bbc39d2c1b3bc780ac873081" category="paragraph">次の図は、ONTAPシステムの1つのFCイニシエータポートペア（0cおよび0f）が、1つのストレージアレイポートペア経由で1つのLUNグループにアクセスする仕組みを示しています。 また、2つ目のFCイニシエータポートペア（0aおよび0h）は、別のストレージアレイポートペアを介して同じストレージアレイ上の2つ目のLUNグループにアクセスします。</block>
  <block id="65be604bc2889ee56e601a449894f697" category="paragraph">この構成は、2ポートのアレイLUNグループを2つ使用した_スタンドアロン構成と呼ばれます。複数LUNグループ構成では、スタンドアロンシステムの代わりにHAペアを使用できます。</block>
  <block id="720dec973b789dfbd4c66653ec9a12d3" category="paragraph">この複数LUNグループ構成では、ストレージアレイ上のRAIDグループ（パリティグループ）にI/Oを分散できます。異なるFCイニシエータポートペアがストレージアレイ上の異なるLUNグループにアクセスするように構成をセットアップします。特定のLDEV（論理デバイス）はストレージアレイ上の2つの冗長ポートにのみマッピングされているため、ONTAPシステムはすべてのアレイLUNを2つのパス経由でのみ認識します。各LUNグループは、異なるターゲットポートペアを介してアクセスされます。</block>
  <block id="65e95cb4b5637d4ae478f52be4d0850c" category="paragraph">各LDEVは、外部からはLUN IDで識別されます。LDEVは、すべてのストレージアレイポートで同じLUN IDにマッピングする必要があります。このIDを使用すると、LDEVはONTAPシステムで認識されます。</block>
  <block id="1e9bb36bfa6e6f6f780055a1e99736c2" category="paragraph">同じLUN IDで2つのLDEVを参照することはできません。これは、同じIDを使用するLUNがターゲットポート上の異なるホストグループに属している場合でも同様です。同じターゲットポートではLUN IDの再利用はサポートされていませんが、ストレージアレイでは、LUNが別 々 のストレージアレイポートにマッピングされている場合にLUN IDの再利用がサポートされます。</block>
  <block id="9ba194819857500cb4881f1831505754" category="paragraph">次の表に、この例のゾーニングをまとめます。推奨されるゾーニング方法は、シングルイニシエータゾーニングです。</block>
  <block id="13933ac616b88f63a4d8fdab725a7ae5" category="cell">ONTAPシステム上のFCイニシエータポート</block>
  <block id="14a3f4c4a271cd5e56849cad18945bc9" category="paragraph">ポート0a</block>
  <block id="2204fe4f0eb440a26bd26165c7f643a0" category="paragraph">コントローラ1、ポートB</block>
  <block id="11cb573933b8a35b4eecdca928ad8523" category="paragraph">ポート0c</block>
  <block id="73a2c3e8952a3cc2a670d8dd268b7482" category="paragraph">コントローラ1、ポートA</block>
  <block id="eb78f181b9b63cfb3f7c38ed16c3979e" category="paragraph">ポート0f</block>
  <block id="53a78fbd9aa47cc76e05d0810f3dc958" category="paragraph">コントローラ2、ポートA</block>
  <block id="65a2dade0d3809181682651c571dd3fe" category="paragraph">ポート0h</block>
  <block id="f5ad9293b252491dbe47ae217dda598e" category="paragraph">コントローラ2、ポートB</block>
  <block id="01520a7d7334ede42dd14d3ab4ca37f3" category="summary">ゾーン定義でエラーが発生すると、ホストグループ定義に影響する可能性があります。逆も同様です。パスでLUNが認識されない場合は、ゾーニングとホストグループの両方の構成エラーを確認する必要があります。</block>
  <block id="9805a9c4ad8b1c5325e0fbbcc8fb8758" category="doc">ゾーニング構成エラーとホストグループ構成エラーのカスケード例</block>
  <block id="a2a0610dc8642e697f1f7b7309f16322" category="paragraph">設定の順序を次のようにします。</block>
  <block id="145f7aa7140fe2c106f47ee22d688028" category="list-text">ゾーン定義がスイッチ上に作成されました。</block>
  <block id="6141da2d3f4fe408d5ce56c19da8ba9a" category="paragraph">ONTAPシステムのFCイニシエータポート0aのWWPNをゾーン定義に追加しました。ただし、FCイニシエータポート0cのWWPNをゾーン定義に追加する予定でした。</block>
  <block id="2ef0d6fe66329cb31904f3f807b9eca4" category="list-text">ストレージアレイにホストグループが作成されました。</block>
  <block id="db98d93068a98214c906776a6ed3d864" category="paragraph">FCイニシエータポート0aのWWPNを選択しました（選択可能な唯一のWWPNであり、0cではなく0aのWWPNであることが明らかではなかったため）。</block>
  <block id="02cace75b5426fa2bcd7592ce61c17e7" category="list-text">ONTAPで、FCイニシエータポート経由でアレイLUNを表示しました。想定していたポートは0cです。</block>
  <block id="ccc5c23d8b27dcdfd4e274c2b06a7c64" category="paragraph">ただし、ゾーン定義とホストグループ定義の両方にFCイニシエータポート0aのWWPNが誤って含まれているため、0c経由のアレイLUNは表示されませんでした。</block>
  <block id="d0187e8f247077e41bd37e022f7a2af4" category="paragraph">コマンドを使用して、アレイLUNの情報を表示しました<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。</block>
  <block id="db46c0a0b24d3d17587029e8ae25ad61" category="list-text">想定していたイニシエータ経由のLUNが表示されないため、トラブルシューティングを開始します。</block>
  <block id="af2eba3b10a1002d63619d2bbb2593af" category="paragraph">ゾーニングとホストグループの両方の設定を確認する必要がありますが、次のどの手順から始めるかは重要ではありません。ホストグループの修正を先に開始するかゾーニングの修正を先に開始するかによって、異なるメッセージが表示されることがあります。</block>
  <block id="cd2fb58a6ccd9d999b89686ea12062cc" category="section-title">ゾーニングを先に確認することによるトラブルシューティング</block>
  <block id="0be873c158481543d995f694d28dbdeb" category="list-text">ONTAPシステムのゾーン定義を確認します。</block>
  <block id="77722c4f8b13970baa1f5bd0106f329c" category="paragraph">FCイニシエータポート0aのWWPNを含むゾーンが2つあり、0cのWWPNを含むゾーンがないことがわかります。</block>
  <block id="f30ef1dea9fd605cec7156885263024b" category="list-text">間違ったゾーン定義を修正し、アクティブ化します。</block>
  <block id="cb1e4e10b3049b3f54ad701740f42f76" category="paragraph">を実行している場合、イニシエータポート経由のアレイLUNは表示されませ<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block>ん。</block>
  <block id="8ce7861235e5980447d5a947982aab72" category="list-text">アレイに移動し、FCイニシエータポート0cのWWPNを追加してホストグループを再設定します。</block>
  <block id="49101be8ed7377be8e8de210f31b2cc9" category="paragraph">これで0cのWWPNがゾーン定義に追加され、アクティブ化されたため、ストレージアレイのホストグループ構成の選択リストに0cのWWPNが表示されます。</block>
  <block id="d5f0c11f4e5a9431932fc2577ce3402d" category="list-text">ONTAPシステムでを実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> FCイニシエータポート経由のアレイLUNが0c経由で表示されていることを確認します。</block>
  <block id="7ff41c490bf8e6c967db9848660a421d" category="section-title">ホストグループを先に確認することによるトラブルシューティング</block>
  <block id="fe780382b26cf269947408ec6f1511e7" category="list-text">ONTAPシステムのコンソールからを実行し、<block ref="d2de728a19b01f001173b14cbb4fea64" prefix=" " category="inline-code"></block>見つからないアダプタのWWPN（この例では-0c）を書き留めます。</block>
  <block id="e17883cf3d400de91e471bfab01e7445" category="list-text">ストレージアレイに移動し、メモしたWWPNとホストグループの選択リストに表示されたWWPNを比較して、想定していたFCイニシエータポートのWWPNが表示されているかどうかを確認します。</block>
  <block id="552d0b0b344800baf3b0117575a94742" category="paragraph">想定していたWWPNが表示されない場合は、想定していたイニシエータがゾーン定義に含まれていません。</block>
  <block id="dfa1a842a2e49e8caf05dd82695ce9f3" category="list-text">ストレージアレイでホストグループ内のWWPNを変更できる場合は、表示されているWWPNをメモしたWWPNに変更します。</block>
  <block id="e9fd746b8c817d96253def26a2d71012" category="paragraph">ストレージアレイでホストグループ内のWWPNを変更できない場合は、ゾーン定義の変更後にホストグループ定義を変更する必要があります。</block>
  <block id="e93c30e35b38d7824faf242573cc726a" category="paragraph">ゾーニングはまだ修正されていないため、想定していたイニシエータ経由のLUNは表示されません。</block>
  <block id="60a0c56548e7b1d979181171669da7b1" category="list-text">スイッチに移動し、間違ったWWPNを正しいFCポートイニシエータに置き換え、ゾーン定義をアクティブ化します。</block>
  <block id="566b14bdb8d715381ed0c24d98fdf2a6" category="list-text">前の手順でホストグループ定義のWWPNを修正できなかった場合は、ストレージアレイに移動してホストグループを再設定し、FCイニシエータポート0cのWWPNを追加します。</block>
  <block id="203f3474a73b0edc4b9fbb7f0053c57d" category="paragraph">これで、FCイニシエータポート経由でLUNにアクセスできるようになります。</block>
  <block id="90bc272d7410078f899b4f4a1aeac0b7" category="summary">ストレージアレイの特定のターゲットポートでキューに登録されているI/O要求数がそのポートで処理可能な要求数を超えると、ターゲットポートの使用が最適化されません。</block>
  <block id="a764f84d9a6c4b8cfdf863038e9d937a" category="doc">ストレージアレイターゲットポートの最適化されていない使用例</block>
  <block id="e5f84f69e99723192d4fd1c845f21bd0" category="paragraph">特定のターゲットポートのこのような最適化されていない使用状況は、コマンドの出力表示で検出できます<block ref="d90ba20b63acab53952d68665c50ec47" prefix=" " category="inline-code"></block> 。</block>
  <block id="cfde20dd35b8c84b08f246387f88f56d" category="section-title">ターゲットポートの最適化されていない使用の検出時のエラーを表示する出力例</block>
  <block id="5ae918725b12f890b10eca8cb096fd71" category="paragraph">次の例は、特定のターゲットポートの最適化されていない使用を検出した場合にコマンドで返されるエラーを示して<block ref="d90ba20b63acab53952d68665c50ec47" prefix=" " category="inline-code"></block> います。</block>
  <block id="491a63a8977e5e81db00aa39061362b6" category="summary">ゾーニング用にスイッチを設定するときにLUNセキュリティを使用すると、別のホストにマッピングされたLUNが別のホストで認識されなくなります。</block>
  <block id="0c6738627233a7f0e9d2fc0869f3e10d" category="doc">ストレージ アレイを使用した構成のゾーニング例</block>
  <block id="9c993f990d76e6751e877c6c08ec3b58" category="section-title">単一の4ポートLUNグループ構成でのゾーニング</block>
  <block id="827daaefa99df5d26fcf686d334a056f" category="paragraph">次の表に、HAペアのONTAPシステム構成例に対応するゾーニングを示します。推奨されるゾーニング方法は、シングルイニシエータゾーニングです。</block>
  <block id="afe751bc263aef0788cbf17a1014eb3e" category="cell">ONTAP システムを入力</block>
  <block id="93e9fa0fcb7aba0522283d98215b5d88" category="paragraph">vs1</block>
  <block id="8d1fc7e767a7204d770eb56c7989e03b" category="paragraph">コントローラ1</block>
  <block id="937bc752933a1d2f43140d6838632208" category="paragraph">ポート 1A</block>
  <block id="2e5372fa2a1c22c964e0ebc937132ae2" category="paragraph">vs2</block>
  <block id="13b92750c8ca93b93261b23d974fd8b2" category="paragraph">ポート1B</block>
  <block id="48ed192757d1bc6d4a36d16a10893f48" category="paragraph">コントローラ2</block>
  <block id="9fb5ee9a2670bac76369240ae031e209" category="paragraph">ポート 2A</block>
  <block id="8e3deb9fe51ba100136489ababfe5b68" category="paragraph">ポート2B</block>
  <block id="2d0b007ccfeb6f106932e6b73c328f26" category="summary">必要なアレイLUNの数とサイズを決定する際は、LUNの使用可能スペースなど、いくつかの要因を考慮する必要があります。</block>
  <block id="aa732929c1c171a41a397fc794541509" category="doc">必要なアレイLUNの数とサイズに影響する要因</block>
  <block id="4c982cdebfeee044eeb51f6bfc9c927e" category="summary">ONTAPソフトウェアが提供するユニファイドストレージソフトウェアプラットフォームでは、ストレージアレイ上のネイティブディスクシェルフとLUNの両方を簡単に管理できます。システムを停止することなく、必要なときに必要な場所にストレージを追加できます。この機能は、FlexArray仮想化ソフトウェア（旧称Vシリーズ）によって提供されます。</block>
  <block id="f97e90ce12d568dd027cd3de8ef86098" category="doc">FlexArray仮想化テクノロジの概要—ストレージにアレイLUNを使用</block>
  <block id="fff5e61294432c210eebed43aba6de07" category="paragraph">ONTAPソフトウェアが提供するユニファイドストレージソフトウェアプラットフォームでは、ストレージアレイ上のネイティブディスクシェルフとLUNの両方を簡単に管理できます。システムを停止することなく、必要なときに必要な場所にストレージを追加できます。この機能は、_ FlexArray仮想化ソフトウェア_（旧称Vシリーズ）によって提供されます。</block>
  <block id="61a33cfcfcb0f4c7a45415e5b5786e28" category="paragraph">次の図の構成では、ストレージアレイへの接続ライセンスが設定されたONTAPシステムが、ストレージアレイのLUNをプールし、クライアントに提供しています。</block>
  <block id="e626919bf47716a65b89d05f7de529f8" category="paragraph">ONTAPシステムは、ONTAPファイルシステムボリュームの形式（ONTAP管理機能を使用して管理）、またはSCSIターゲット（クライアントが使用するLUNを作成）として、クライアントにストレージを提供します。どちらの場合も（ファイルシステムクライアントとLUNクライアント）、アレイLUNを使用できるシステムでは、複数のアレイLUNを1つ以上のアレイLUNアグリゲートにまとめます。ONTAP環境では、これらのアレイLUNアグリゲートをStorage Virtual Machine（SVM）に関連付け、ONTAPがファイルまたはLUNとしてクライアントに提供するONTAPボリュームを作成できます。</block>
  <block id="284cf7c176560cddaaddd3963456ef7f" category="summary">アレイLUNの使用可能容量は、チェックサム方式などのいくつかの要素によって左右されます。あるサイズのアレイLUNで使用可能な容量、または目的のストレージ容量を提供するために必要なアレイLUNのサイズは、式を使用して計算できます。</block>
  <block id="c50dd2be639369091517b2a8c9a4e116" category="doc">チェックサム方式に基づくアレイLUNサイズの計算式</block>
  <block id="37fdc65776c7b9ea501cc1bfe56f2efc" category="paragraph">使用可能容量_を確保するために必要なアレイLUNのサイズは、チェックサム方式などのいくつかの要素によって左右されます。使用可能な容量は、ストレージに使用可能なスペースの量です。</block>
  <block id="6393cc5c9a519eb5fa1853ccbacce6dd" category="paragraph">次の表に、必要なアレイLUNサイズの計算方法を示します。</block>
  <block id="9036b8bb42581b00bde5ce7cc730ae93" category="cell">知っていること</block>
  <block id="85f5ae3d644eaad3c7c0857f0d357141" category="cell">確認する項目</block>
  <block id="87fb11425fbee7246378c99e96ce00ce" category="paragraph">アレイLUNのサイズ</block>
  <block id="eaf1c05162816fd2b64d44890a1ccee7" category="paragraph">ストレージに使用可能な容量（使用可能な容量）。すべての要素に必要なスペースの量を考慮する必要があります。</block>
  <block id="d62df0e3414306a700f049e3b2b24797" category="paragraph">アレイLUNに必要なストレージ容量</block>
  <block id="559095c6715e6bae382f8a7c8946fb1b" category="paragraph">必要なアレイLUNのサイズ。必要なストレージ容量と他の要素に必要なスペースを考慮する必要があります。</block>
  <block id="f2ee19a53b24365099a643de0988ad81" category="paragraph">これらの式の2TBは2TiB（2199023255552バイト）を表し、ONTAPによる測定値の計算方法では2097.152GnaBまたは2.097TnaBになります。</block>
  <block id="dc355e4f5f5f69b713add40bca61911a" category="section-title">使用可能容量の計算式</block>
  <block id="f16220ba66bd8d5198869b59d1655db2" category="paragraph">アレイLUNのサイズがわかっている場合は、次の式を使用して、アレイLUNでストレージに使用可能な容量を判断できます。この式では、Snapshotリザーブを考慮しています。</block>
  <block id="bd005246d1ce9157cf8f671cad8c423e" category="list-text">Yはストレージに使用可能な容量です。</block>
  <block id="32aae35af90e24ec95f548324acb40ec" category="list-text">NはアレイLUNの合計容量です。</block>
  <block id="d23d8cfbfd2f53f600e9e7890d5f2f17" category="cell">チェックサム方式</block>
  <block id="313a6a3d25aa041ee3dc3cbd65d4f22b" category="cell">計算式</block>
  <block id="103affc4b7c2edd5bc3380117e800cf5" category="paragraph">bcs --アレイLUN &lt; 2TB</block>
  <block id="edd4dddaefdf8b7e66cce71092a5a564" category="paragraph">N x｛0.875 x 0.9 x 0.99 x（1 - Snapshotリザーブ）｝= Y</block>
  <block id="a5675fd555bac629da4227377b56d9a8" category="paragraph">bcs --アレイLUN≧2TB以上</block>
  <block id="0918f4ad4189e783187abd63c0530403" category="paragraph">N x｛0.875 x 0.9 x 0.998 x（1 - Snapshotリザーブ）｝= Y</block>
  <block id="dc512e88acdf7ce1b9aa842b53bc7100" category="paragraph">AZCS --アレイLUN &lt; 2TB</block>
  <block id="126fe150ea1bae44005249b710934cf6" category="paragraph">N x｛0.984 x 0.9 x 0.99 x（1 - Snapshotリザーブ）｝= Y</block>
  <block id="dc7c330602c0631b54ed07fd481b8a89" category="paragraph">AZCS --アレイLUN≧2TB以上</block>
  <block id="472f1d8413a5b80257c0b7178a05564a" category="paragraph">N x｛0.984 x 0.9 x 0.998 x（1 - Snapshotリザーブ）｝= Y</block>
  <block id="384b1ec15b0de575b6b53932857c062c" category="section-title">例1：Snapshotリザーブの有無による計算</block>
  <block id="dce128266715b0f467e9b8bbeb564012" category="paragraph">次の例では、アレイLUNの合計容量は4GBで、ボリュームのSnapshotリザーブはData ONTAP 8.1.1のデフォルト（5%）に設定されています。</block>
  <block id="998721646612615dcfbc7017c2bd44d4" category="paragraph">次の例は、2TB未満のアレイLUNを示しています。</block>
  <block id="e5e6a65513a3f010c933d6809ba234e4" category="paragraph">BCS（アレイLUN &lt; 2TB）</block>
  <block id="c5f2729b0550a8c44308a5b5bafe5403" category="paragraph">4 x｛0.875 x 0.9 x 0.99 x 0.95｝= 2.96GB（ストレージに使用可能なスペース）</block>
  <block id="351f9ff77545b61091b7de9237f4a419" category="paragraph">AZCS（アレイLUN &lt; 2TB）</block>
  <block id="ad19e9808e21d9439f6de060807124df" category="paragraph">4 x｛0.984 x 0.9 x 0.99 x 0.95｝= 3.33GB（ストレージに使用可能なスペース）</block>
  <block id="0b0bd72e50eff5a1577538b8e4c99971" category="section-title">必要な最大アレイLUNサイズの計算式</block>
  <block id="ea96856bcd54a4205b5d43d175a8d063" category="paragraph">目的のストレージ容量を確保するために必要なアレイLUNの容量がわかっている場合は、次の計算式を使用して、LUNのスペースを必要とする要素を考慮し、必要なアレイLUNの合計サイズを算出できます。</block>
  <block id="2cdc296bd3df6dbb712760a650e534a6" category="list-text">Yは、必要なアレイLUNの正確なスペース量です。</block>
  <block id="c1c30e2ce3e9a7c2268e2072154c652e" category="list-text">Snapshotコピーを使用する場合は、Snapshotリザーブが考慮されます。</block>
  <block id="03fe7119f1c27d14a9d84c2b161f0651" category="paragraph">Y÷｛0.875 x 0.9 x 0.99 x（1 - Snapshotリザーブ）｝=実際に必要な容量</block>
  <block id="4f58b22a8ae4eae93387aeeb27467853" category="paragraph">Y÷｛0.984 x 0.9 x 0.99 x（1 - Snapshotリザーブ）｝=実際に必要な容量</block>
  <block id="3d2fd4917c4dc693f00000ee3ee6fff0" category="section-title">例2：Snapshotリザーブの有無による計算</block>
  <block id="3fb866341c64088ea8508a32eb2bece8" category="paragraph">この例では、ボリュームのSnapshotリザーブがData ONTAP 8.1.1のデフォルト設定（5%）です。</block>
  <block id="92fef6bad71361774f992ac682a4298d" category="paragraph">10GB÷｛0.875 x 0.9 x 0.99 x 0.95｝=13.5GB（実際に必要な容量）</block>
  <block id="9264f681069a4dde026f60cba52ae966" category="paragraph">10GB÷｛0.984 x 0.9 x 0.99 x 0.95｝=12.05GB（実際に必要な容量）</block>
  <block id="6bed46c2e49d2c6d29da959e2e6c1c0c" category="section-title">例3：Snapshotリザーブなしの計算</block>
  <block id="47f0322461c46db8d41df97fab3727bb" category="paragraph">ストレージに使用可能な容量として10GBが必要です。次の例は、Snapshotコピーを使用しない場合のアレイLUNの実際のサイズを計算する方法を示しています。</block>
  <block id="7d07d4c42d9780959e32ae559edd78bc" category="paragraph">10GB÷｛0.875 x 0.9 x 0.99｝=12.8GB（実際に必要な容量）</block>
  <block id="190945dc896b39779e6b926b8c04a9c6" category="paragraph">10GB÷｛0.984 x 0.9 x 0.99｝=11.41GB（実際に必要な容量）</block>
  <block id="6e7758c893a0ca83553c82a7773d255a" category="summary">ネイティブディスクシェルフにVシリーズシステムを接続する場合は、冗長性やその他のガイドラインについてポート間接続の計画で検討する必要があります。</block>
  <block id="d59a2c018d7b5769606c6db434690404" category="doc">ネイティブディスクシェルフにVシリーズシステムを接続する場合のガイドライン</block>
  <block id="2decc15fece106a300b8f6f066a41677" category="section-title">ディスクに必要なFCイニシエータポートの数</block>
  <block id="adc1a0be5732302afee68d1130804ae7" category="paragraph">Vシリーズシステムをディスクシェルフに接続するために必要なFCイニシエータポートの数は、VシリーズシステムがスタンドアロンシステムかHAペアに含まれているかによって異なります。</block>
  <block id="254f642527b45bc260048e30704edb39" category="cell">構成</block>
  <block id="3320c081a7cd23a94c7e7851ab97ea3a" category="cell">FCイニシエータポート数</block>
  <block id="53a653cb1221b03c1cf4fe37c2604cde" category="paragraph">スタンドアロン システム</block>
  <block id="8d25203534e7be55a48a0af4d6aa3b8f" category="list-text">1つのループを使用している場合：1つのFCイニシエータポート。</block>
  <block id="2e3da4999266b7760a213eb35a1909df" category="list-text">2つのループを接続している場合：2つ（各ループに1つ）</block>
  <block id="bd655c82000686db5b76b879e6e9d516" category="paragraph">HAヘア</block>
  <block id="a251c807c815c240cfc1024b4e6680bf" category="list-text">マルチパスストレージを使用している場合：各ループに2つ</block>
  <block id="b1cf50dbb1c6b2a0831e2dc14c0478d4" category="list-text">マルチパスストレージを使用していない場合：構成内の各ループについて、コントローラごとに1つ</block>
  <block id="d2026caae6346338375eccfd4b9b9775" category="section-title">Vシリーズシステムとディスク間の接続</block>
  <block id="fdc6c64abc37e548cd48b3cbe4fabc72" category="paragraph">ネイティブディスクシェルフにVシリーズシステムをケーブル接続する手順は、FASシステムをネイティブディスクシェルフにケーブル接続する場合と同じです。ポート間接続方式を作成する場合は、このガイドおよび次の表にあるONTAPおよびハードウェアのガイドに、ディスクおよびディスクシェルフのセットアップと管理に関する情報が記載されています。</block>
  <block id="b49879b3be5900b216c7904e276ea691" category="cell">参照先</block>
  <block id="72c9a7820006f625b8b21ded1c89052c" category="paragraph">ディスクのサポート（サポートされるディスク速度、ディスク容量など）</block>
  <block id="9a5699d46e02460e967b858f9f64fa24" category="paragraph">ラックまたはシステムキャビネットへのVシリーズシステムの設置</block>
  <block id="9f0bd2b7069d1b983c9a9d96c8f7fbf7" category="paragraph">新しいシステムでは、通常、このタスクは工場出荷時に実行されます。手順が必要な場合は、キャビネットのガイドを参照してください。</block>
  <block id="de155be4c06f9bd3ed253134bdbb06c2" category="paragraph">スタンドアロンのVシリーズシステムへのディスクシェルフの接続</block>
  <block id="063989f907d0f4766ce2e3fbeff9b3e7" category="paragraph">使用しているプラットフォームのセットアップガイド</block>
  <block id="ce4e6ad5a0163d0fd1053f856fd80e4e" category="inline-link">『 Installation and Setup Instructions 32xx Systems 』</block>
  <block id="3878f4a9f9503e65aab9579b2c674a3e" category="list-text"><block ref="3878f4a9f9503e65aab9579b2c674a3e" category="inline-link-rx"></block></block>
  <block id="81f3021997d436ea644b548182205ff7" category="inline-link">『Installation and Setup Instructions 62xx Systems』</block>
  <block id="12da5f1ce436b8761077e51da6ad89f9" category="list-text"><block ref="12da5f1ce436b8761077e51da6ad89f9" category="inline-link-rx"></block></block>
  <block id="7cc5a51ed0a7e3bcf83023ae909a0413" category="paragraph">ディスクシェルフへのHAペアの接続</block>
  <block id="2fb654e5399843c45685502bcc696315" category="inline-link">ハイアベイラビリティ構成</block>
  <block id="d81fa1630f84bf817d6cd2849b5c13a9" category="paragraph"><block ref="d81fa1630f84bf817d6cd2849b5c13a9" category="inline-link-rx"></block></block>
  <block id="bed008c6e0fd05dbb786c3c1ff841fb6" category="paragraph">ディスクシェルフの追加</block>
  <block id="aece89e8c4c20b691b896b2e08920b57" category="paragraph">ディスクシェルフのタイプに応じたガイド。</block>
  <block id="684f626f1a242da24974f8490e221b35" category="paragraph">ディスクシェルフの移動</block>
  <block id="f64011b8f74591cd358fbdec0f82e473" category="paragraph">ディスク管理</block>
  <block id="9c92896894a8fe3d79aeae61fe2ddf98" category="inline-link">ディスクおよびアグリゲートの管理</block>
  <block id="15bfd3af526ded4faf305774a07ed419" category="paragraph"><block ref="15bfd3af526ded4faf305774a07ed419" category="inline-link-rx"></block></block>
  <block id="dac9e12f55962c0685f1997b3b21977c" category="summary">特定のONTAPシステムまたはONTAPを実行しない特定のホスト向けの構成を計画する場合は、ストレージアレイポートにアクセスするすべてのイニシエータが及ぼす影響を考慮する必要があります。</block>
  <block id="bec083e7ed615e3d308b3a4914b5a8aa" category="doc">適切なターゲット キュー深度の指定ガイドライン</block>
  <block id="f28befd7219e7873e47e21d32994e237" category="paragraph">1つのターゲットポートに複数のイニシエータが含まれている環境でターゲットキュー深度を設定する際には、すべてのイニシエータからターゲットポートに送信されるコマンドの総数を考慮する必要があります。</block>
  <block id="bb8eee2a4b1c3105864238aa54f4320a" category="paragraph">適切なターゲットキュー深度を指定する際のガイドラインは次のとおりです。</block>
  <block id="60ee1d54ba12b46d8a7920e7607eac95" category="list-text">0（ゼロ）の値は設定しないでください。</block>
  <block id="3e38ba42038b043b29c24daeda358d4a" category="paragraph">値0は、未処理のコマンドに制限がないことを意味します。</block>
  <block id="dac75a257fe52871bb8ed0e00282e112" category="list-text">特定のイニシエータがターゲットポートに送信する可能性のあるコマンドの量を考慮します。</block>
  <block id="31df242ba971489e3235f692a506a137" category="paragraph">その後、より多くの要求を送信する可能性のあるイニシエータにはより高い値を設定し、より少ない要求数を送信する可能性のあるイニシエータにはより低い値を設定できます。</block>
  <block id="5684fc2bb7f242317eb4349a279deeff" category="list-text">ONTAPを実行しないホストは、ホスト用のガイドラインに従って設定します。</block>
  <block id="e04a9c0ef39b83ab488dc4c33c5b1339" category="list-text">ワークロードがポートによって異なる場合は、ターゲットポート単位でターゲットキュー深度を設定することを検討してください。</block>
  <block id="5eb380fbe4c4f9af83ce034db72a7ff2" category="summary">ストレージアレイ管理者は、アレイLUNを作成し、ONTAPシステムの指定したFCイニシエータポートで使用できるようにする必要があります。</block>
  <block id="83388f2dd41d5d8220afd0d42f392de8" category="doc">アレイLUNをホストで使用可能にする方法</block>
  <block id="512ff72751265e41acc83ecbc5b9dca7" category="paragraph">LUNをホストで使用できるようにするプロセス、およびそのプロセスを説明する用語は、ストレージアレイベンダーによって異なります。LUNをホストで使用できるようにするためにストレージアレイ管理者が実行する基本的なプロセスは次のとおりです。</block>
  <block id="4d949f180225820222a8a1d906f8abc0" category="list-text">論理デバイス（LDEV）を作成します。</block>
  <block id="35ff035426e7d8a8d8564d27e992ad7a" category="paragraph">_ldev_は、一部のベンダーで使用されている用語で、ディスクから構成された論理RAIDストレージを指します。</block>
  <block id="433366848627376c40c5d95ba7ff49c5" category="list-text">ホストグループ（または同等のベンダー）を作成します。</block>
  <block id="c98cb0f088c5b0c3fc517bc03614f93c" category="paragraph">ホストグループには、LDEVの認識を許可するホストのイニシエータポートのWWPNが含まれます。</block>
  <block id="02f075bb46c082b53d2e3fa87aa3bd6b" category="paragraph">管理を簡易化するために、ほとんどのストレージアレイでは1つ以上のホストグループを定義できます。特定のWWPN（ポート）とWWN（ホスト）を同じグループのメンバーにすることができます。次に、特定のアレイLUNをホストグループに関連付けます。ホストグループ内のホストは、そのホストグループに関連付けられたLUNにアクセスできます。そのホストグループにないホストは、これらのLUNにアクセスできません。ベンダーによって、この概念を表す用語が異なります。ホストグループの作成プロセスはベンダーによって異なります。</block>
  <block id="3e5469d8db8d174e2093194030de7798" category="list-text">LDEVをホストグループにLUNとしてマッピングします。</block>
  <block id="e871584e453b96010ee006ad544436a4" category="summary">ONTAPシステムに提供されたアレイLUNは、そのアレイLUNを使用するようにONTAPを設定するまで使用できません。</block>
  <block id="da78d2eb44cab4bce13f9a26bacddec6" category="doc">アレイLUNをONTAPストレージで使用できるようにする方法</block>
  <block id="c4661a03b2ba7227af4282eb4c2d9209" category="paragraph">ストレージアレイ管理者がアレイLUNをONTAPからアクセスできるように設定しても、次の両方のタスクが完了するまでONTAPでアレイLUNをストレージに使用することはできません。</block>
  <block id="774fe3f9b46a1f134ae1fba41ea8e99c" category="list-text">1つのONTAPシステム（アレイLUNの使用ライセンスあり）をアレイLUNの_owner_に割り当てておく必要があります。</block>
  <block id="b3c9bf3402d3247c7c1d65f789ffc560" category="list-text">アレイLUNをアグリゲートに追加する必要があります。</block>
  <block id="0b29e637b416c4eb40d663dbdf416e42" category="paragraph">アレイLUNをONTAPシステムに割り当てると、割り当てられたシステムを所有者として識別するためのデータがONTAPからアレイLUNに書き込まれます。この論理的な関係は、_disk ownership _と呼ばれます。</block>
  <block id="7fef3b1e65e3f5c3fce1549b701b25ea" category="paragraph">アレイLUNをONTAPシステムに割り当てると、そのLUNはそのシステムが所有するスペアLUNになり、他のONTAPシステムでは使用できなくなります。</block>
  <block id="e5f2a05ac0be5d020bb5d81f2cbd6864" category="paragraph">スペアアレイLUNは、アグリゲートに追加するまでストレージに使用できません。以降、ONTAPでは、アレイLUNの所有者のみがLUNに対してデータの書き込みと読み取りを実行できるようになります。</block>
  <block id="fdb23b2a0125a51bf9827f43bb92c620" category="paragraph">HAペアでは、両方のノードが同じストレージを認識できる必要がありますが、アレイLUNの所有者となるのは一方のノードだけです。所有者ノードに障害が発生した場合は、パートナーノードがアレイLUNへの読み取り/書き込みアクセスをテイクオーバーします。元の所有者ノードを使用できなくなった問題が解決すると、元の所有者ノードが所有権を再開します。</block>
  <block id="f10a23f92b2f492f3d507dc4a7a5f498" category="summary">ONTAPシステム上のすべてのFCイニシエータポートは、数字とアルファベットを組み合わせたラベルで識別されます。ラベルは、ポートがマザーボード上にあるか、拡張スロット内のカード上にあるかによって異なります。</block>
  <block id="72a2c33d07c3d2eafcab3c4fbbb9eace" category="doc">FCイニシエータ ポートの命名方法</block>
  <block id="456ae700c2531b3f70f272273e821b7a" category="list-text">マザーボード上のポート番号</block>
  <block id="52b2011f81b5a7a528e16feccb5156cf" category="paragraph">ポートには、0a、0b、0c、0dなどの番号が付けられます。</block>
  <block id="8d7926901ce39f8b955ec31538715308" category="list-text">拡張カードのポート番号</block>
  <block id="2c22a001587f2f4b4185ee6b0d667a21" category="paragraph">ポートには、拡張カードが取り付けられているスロットに従って番号が付けられます。スロット3のカードは、ポート3Aおよび3Bになります。</block>
  <block id="a3fdc4933ca96769e80d76a307a15459" category="paragraph">FCイニシエータポートには1と2のラベルが付けられます。ただし、ソフトウェアはこれらのラベルをAおよびBとして参照します。これらのラベルは、ユーザインターフェイスおよびコンソールに表示されるシステムメッセージに表示されます。</block>
  <block id="923b4e23e39f8c14967a02f1598596a1" category="summary">各アレイLUNにクラスタ全体で一意の名前が割り当てられます。これは、アレイLUNへのパスが複数ある場合でも同様です。これは、以前のリリースでは、各アレイLUNに、ある時点でそのLUNにアクセスするパスに基づいて複数の名前が付けられていたのとは異なります。</block>
  <block id="b31334a73fdd644fec9837001b949016" category="doc">ONTAPで表示されるアレイLUN名</block>
  <block id="920384349e2a1ab85f5ae5e3b0263375" category="paragraph">コマンドを実行すると、各アレイLUNにマッピングされていた以前の名前を確認できます<block ref="1ae6174aec416d349a1e6089092af407" prefix=" " category="inline-code"></block> 。</block>
  <block id="5c8bbec1e2f1cfe255f1f42aeb2b7e9f" category="section-title">storage disk show --disk &lt;disk name&gt;-fields diskpathnamesコマンドの出力例</block>
  <block id="dc9167b05fab7002bc0342217b65301f" category="summary">ONTAPアグリゲートには、それぞれチェックサム方式が関連付けられます。アグリゲートのチェックサム方式は、アグリゲートに追加されたアレイLUNのチェックサム方式によって決まります。</block>
  <block id="e5cfd74f14371dff91b683a4620ce16a" category="doc">アレイLUNアグリゲートのチェックサム方式の決定方法</block>
  <block id="b45fd1ad88bdca9d3be95f8dce69a2fb" category="paragraph">アグリゲートのチェックサム方式は、そのアグリゲートに最初に追加されたアレイLUNのチェックサム方式によって決まります。チェックサム方式は、アグリゲート全体（アグリゲート内のすべてのボリューム）に適用されます。アグリゲートにチェックサム方式が異なるアレイLUNを混在させることはできません。</block>
  <block id="d979ac0ecc64505a6645d52f3fb427a9" category="list-text">ブロックチェックサム方式のアグリゲートでは、_block_タイプのアレイLUNを使用する必要があります。</block>
  <block id="22de6cdbd4f06b2fbfd9befeb1622468" category="list-text">アドバンスドゾーンチェックサム（AZCSまたはadvanced_zoned）方式のアグリゲートでは、_zoned_タイプのアレイLUNを使用する必要があります。</block>
  <block id="b112aa688d729ff7de19157b3f9b127b" category="paragraph">アグリゲートにアレイLUNを追加する前に、追加するLUNのチェックサム方式を確認しておく必要があります。その理由は次のとおりです。</block>
  <block id="3cb10cf45da15f52c01debc702b818a1" category="list-text">チェックサム方式が異なるアレイLUNを同じアグリゲートに追加することはできません。</block>
  <block id="c59800019756b0a638c06580b0e7665d" category="list-text">アグリゲートを別のチェックサム方式に変換することはできません。</block>
  <block id="05dd78bfbec3cb3af94f3096387e9ed2" category="paragraph">アグリゲートを作成するときに、追加するアレイLUNの数を指定することも、追加するLUNの名前を指定することもできます。アグリゲートに追加するアレイLUNの数を指定する場合は、同じチェックサム方式のアレイLUNが使用可能である必要があります。</block>
  <block id="dba099f01ed4d6f4be1158bb77193e6d" category="summary">ストレージ環境に複数LUNグループ構成を実装すると、システムパフォーマンスを向上させることができます。この構成を実装するには、ONTAPシステムとストレージアレイで特定のセットアップタスクを実行する必要があります。</block>
  <block id="2391ce4793762ccea96c14a6ad216b3c" category="doc">複数LUNグループ構成の実装要件</block>
  <block id="91e9b52fe90312680e329d1900b2f03e" category="paragraph">複数LUNグループ構成は、ほとんどのストレージアレイでサポートされます。お使いのストレージアレイでこの構成がサポートされていることを確認するには、_Interoperability Matrix_を参照してください。</block>
  <block id="45ff0f848acb8beb2e0d17ae33f4a5d3" category="paragraph">複数LUNグループ構成の場合は、ストレージアレイ管理者と協力して_storage array_で次の項目を設定する必要があります。</block>
  <block id="0b25ec16e81dd4a49289f247b3fc7901" category="list-text">ONTAPシステム用に割り当てられたアレイLUNにアクセスできるように、できるだけ多くのポートを使用します。</block>
  <block id="563c0fefdbeccb42870c38166f08db8a" category="list-text">ホストグループ（またはご使用のベンダーの同等機能）を使用して、ONTAPシステムのFCイニシエータポートに提供するアレイLUNグループを定義します。</block>
  <block id="958e16bc3bdfd1bf0a311b11bf2bc387" category="paragraph">複数LUNグループ構成を実装するには、ONTAPシステムで次の項目を設定します。</block>
  <block id="2fd17a0945bc7af1cd868201388997da" category="list-text">アレイLUNグループごとに1つのFCイニシエータポートペアを使用します。</block>
  <block id="f66080bae4587d51b3cd21fc19101b12" category="paragraph">各FCイニシエータポートペアは、冗長パスを介してストレージアレイ上の異なるLUNグループにアクセスします。</block>
  <block id="f518034a2edd8e2ae574040cb35e3bc2" category="list-text">ONTAP構成で大規模なアグリゲートを作成し、複数のRAIDグループ（パリティグループ）のアレイLUNをそのアグリゲートに追加します。</block>
  <block id="a7cd6d57f2b784db8f9967d8afe40adf" category="paragraph">これにより、I/Oがより多くのディスクに分散されます。複数のRAIDグループにI/Oを分散し、1つの大容量アグリゲートを作成することで、パフォーマンスが大幅に向上します。</block>
  <block id="a55e3bef903b4411c8e3191444f6dd74" category="paragraph">複数LUNグループ構成を実装するには、_switch_で次の項目を設定する必要があります。</block>
  <block id="de0804589d17ca90678ffdc7815d95d1" category="list-text">スイッチゾーニングを設定して、ONTAPシステムのFCイニシエータポートが各アレイLUNグループへのアクセスに使用するターゲットポートを定義します。</block>
  <block id="13569b55f6881ae8ee6b1c3caf5c25e6" category="summary">ONTAPシステムの両方のFCイニシエータからすべてのアレイLUNへの代替パスを設定して、Single Point Of Failure（SPOF；単一点障害）を回避することが重要です。</block>
  <block id="e9f0e15bc2ea28521990e742260ea830" category="doc">無効なパス設定：代替パスが設定されていません</block>
  <block id="aba2706cdadee2b68ac1588c23748f0e" category="paragraph">次の構成は無効です。ONTAPシステムの各FCイニシエータポートからストレージアレイの各LUNへの代替パスが提供されていません。同じONTAPシステムの両方のFCイニシエータポートが、同じスイッチを介してストレージアレイに接続されています。</block>
  <block id="882228af18063ead770353a73dacecc6" category="image-alt">この図には説明が付随しています。</block>
  <block id="e9b41d50c19fb096ff62ed04ed73ab72" category="paragraph">この無効な例では、次のゾーニングが設定されているとします。</block>
  <block id="1381cb9fb63c4b1905a571733c6c2011" category="list-text">vs1の場合：</block>
  <block id="c96c6381866f9d14813068cd6fd9c207" category="list-text">0aは、コントローラ1のポートAを認識するようにゾーニングされています。</block>
  <block id="f537e86321d72aec20b568b889bb3be3" category="list-text">0cは、コントローラ1のポートBを認識するようにゾーニングされています。</block>
  <block id="277e064fe498b01de4be4c399531c1fa" category="list-text">vs2の場合：</block>
  <block id="4661d2e1761d39443174e6cbe8d01087" category="list-text">0aは、コントローラ2のポートAを認識するようにゾーニングされています。</block>
  <block id="db6b0795799b8d0d8dddc8b510002e14" category="list-text">0cは、コントローラ2のポートBを認識するようにゾーニングされています。</block>
  <block id="ebe273dcab8575c5c48bb4f0805dd219" category="paragraph">この設定例では、各スイッチがSPOFになります。</block>
  <block id="761d668a4cda40c5f42516f3378d9044" category="paragraph">これを有効な設定にするには、次の変更を行う必要があります。</block>
  <block id="a6a1fb9b5d168f5248effcdb196a92cf" category="list-text">vs1のFCイニシエータポート0cをスイッチ2に接続する必要があります。</block>
  <block id="972ace5752e7f572a35e0534df819ab1" category="list-text">vs2のFCイニシエータポート0aをスイッチ1に接続する必要があります。</block>
  <block id="9a3a02b1d631f19bb8f4ef763181a685" category="list-text">適切なゾーニングを設定する必要があります。</block>
  <block id="5df76fc468ac74f677db6b1aae902db3" category="paragraph">ストレージアレイで複数のポートを使用していて、選択したポートセットで特定のLUNセットを構成することがサポートされている場合は、特定のFCイニシエータポートがファブリック上で提供されているすべてのアレイLUNを認識できる必要があります。</block>
  <block id="307552e5295b464f99cdbb2239f1a21c" category="summary">無効なパス設定は、アレイLUNへのパスが冗長でない場合やアレイLUNへのパスの数がONTAPの要件を満たしていない場合に実行できます。</block>
  <block id="8b1e96c1579611cbdaf96df0d9f98161" category="doc">無効なパス設定例</block>
  <block id="8f2fda82f1f797b98fb234619651d484" category="summary">ルートボリュームの場所は、ONTAPシステムをネイティブディスクと一緒に購入したかどうか、またはアレイLUN用に設定されたONTAPシステムにディスクを追加するかどうかによって異なります。</block>
  <block id="50f402d12e4e3f3a971f8f79200310a7" category="doc">ルート ボリュームの場所</block>
  <block id="4d4893e7f399908838009b33b74b4967" category="paragraph">ONTAPシステムでのルートボリュームの場所を決定する際には、次のガイドラインに従います。</block>
  <block id="d044cab419aac80ebd37c6ed92ed1172" category="list-text">ルートボリュームは、ストレージアレイまたはネイティブディスクシェルフに配置できます。</block>
  <block id="2f199c47e2b07423f60c0bf3a4efc84f" category="paragraph">ただし、ONTAPシステムにネイティブディスクとアレイLUNの両方がある場合は、ネイティブディスクにルートボリュームをインストールする必要があります。</block>
  <block id="15ea6758568ba49c8005eae92150ee0d" category="paragraph">ストレージシステムをディスクと一緒に購入した場合、出荷時にネイティブディスクにルートボリュームがインストールされています。</block>
  <block id="30810ae66e68bedcb8ebc4d0d53c28cd" category="list-text">HAペアでは、両方のノードの同じタイプのストレージ（ネイティブディスクシェルフまたはストレージアレイ）にルートボリュームを配置することを推奨します。</block>
  <block id="8c1f1bede5170a05ceff47696a6e78e4" category="list-text">ディスクとアレイLUNの両方を使用するMetroCluster構成で新しい構成をセットアップする場合は、ディスクにルートボリュームを作成する必要があります。</block>
  <block id="804db2850b9fe4feed47bd36bb186f7c" category="paragraph">アレイLUNを使用する既存のMetroCluster構成にディスクを追加する場合は、ルートボリュームをアレイLUNに残しておくことができます。</block>
  <block id="0c895c788eb2120ab408ca435cc73ae9" category="summary">ノードに割り当てられたアレイLUNに対してストレージアレイ管理者が設定の変更（サイズの変更など）を行う場合は、ストレージアレイでLUNを再設定する前にONTAPでいくつかの作業を実行しなければならないことがあります。</block>
  <block id="dfc0ce1df15d5554bdbb90919b0307bc" category="doc">ONTAPによるアレイLUNの管理</block>
  <block id="46e811e427f656a18b2dede426c769e6" category="summary">ストレージアレイから提供されるアレイLUNは、アレイLUNを使用するONTAP構成の最小サイズと最大サイズの要件の範囲内である必要があります。最小サイズまたは最大サイズの要件を満たしていないアレイLUNがONTAPによって検出されると、エラーメッセージが表示されます。</block>
  <block id="5631be0db0a9d77cd134c50343e2e0c1" category="doc">ONTAP構成でサポートされるアレイLUNの最小サイズと最大サイズ</block>
  <block id="8ffb24c41dba40b5f4a86df5d3438efd" category="paragraph">アレイLUNの最小サイズと最大サイズは、ONTAPで定義される測定単位に従って計算されます。ONTAPでのGBとTBの定義は次のとおりです。</block>
  <block id="0db84a6322446a6204b9fed59691de18" category="cell">1つ...</block>
  <block id="ecaeeb5614ff3ec9e0f9a46cb2f1a500" category="cell">等しい...</block>
  <block id="79cba1185463850dedba31f172f1dc5b" category="paragraph">GB</block>
  <block id="a89ba1de8859c97d7ac49f253342d9d0" category="paragraph">1000 x 1024 x 1024バイト（1000 MB）</block>
  <block id="ff88442a425c06d961f97bccb11ddf5d" category="paragraph">TB</block>
  <block id="bf14b78e147d954449ee8cea7fba848c" category="paragraph">1000 x 1000 x 1024 x 1024バイト（1000 GB）</block>
  <block id="f3885e91aa1a2f1fa93273457778b3e2" category="paragraph">測定単位の計算式は、ストレージアレイベンダーによって異なります。ベンダーの測定単位を使用して、ONTAP構成でサポートされる最小サイズと最大サイズに相当するアレイLUNサイズを計算する必要があります。</block>
  <block id="7533a4237acde7aa022f199ab95124c2" category="paragraph">ONTAPでサポートされるLUNの最大サイズは、ONTAPのリリースによって異なります。アレイHardware Universeの最小サイズと最大サイズについては、_ LUN_を参照してください。</block>
  <block id="7250c73a38699f31c4c9f2b0e23dd064" category="paragraph">データ（ストレージ）LUNのアレイLUNの最小サイズは、ルートボリュームのアレイLUNの最小サイズとは異なります。</block>
  <block id="7b264f05fd7156edc2db29248781deda" category="summary">ルートボリュームにシステムファイル、ログファイル、コアファイル用の十分なスペースを確保するには、ルートボリュームのサイズをアレイLUNのサポートされる最小サイズよりも大きく設定する必要があります。これらのファイルは、システムに問題が発生した場合にテクニカルサポートに提供する必要があります。</block>
  <block id="9b4283eaba9436bb95ef2745d8f7c6e7" category="doc">ルートボリュームに必要なアレイLUNのサイズ</block>
  <block id="04d0f6b8eab81a96ac0e17f610e9bf18" category="paragraph">_ lun _には、ルートボリュームのアレイHardware Universeの最小サイズを示します。</block>
  <block id="acdde329bc2b6b80041ad1a3daa32a80" category="summary">ONTAPシステムあたりの必要なアレイLUN数は、ルートボリュームの場所によって異なります。</block>
  <block id="5c6dadc005224aa67b5685a5c270943f" category="doc">1つのONTAPシステムに必要なアレイLUNの最小数</block>
  <block id="be7728f0d9d971d25091f20c64ee9507" category="paragraph">ルートボリュームはディスクまたはアレイLUNのいずれかに配置できます。次に、ルートボリュームの場所によって、必要なアレイLUNの最小数が決まります。ルートボリュームがストレージアレイ上にある場合は、各スタンドアロンONTAPシステム、およびHAペア内の各ノードが少なくとも1つのアレイLUNを所有する必要があります。ルートボリュームがネイティブディスク上にある場合、必要なアレイLUNはデータストレージ用のアレイLUNだけです。</block>
  <block id="7bb474f06c97e2bbd06f4900960b1f3d" category="paragraph">アレイLUNを使用するMetroCluster構成で、ルートボリュームがストレージアレイ上にある場合は、アレイLUNが2つ（各サイトから1つ）必要です。ルートボリュームをミラーリングするには、2つのLUNが必要です。</block>
  <block id="fc65b46ebc6a2d8a714d0df7d5d7e569" category="summary">特定のLUNに対するI/O要求を、そのLUNへの使用可能なすべての最適パスに分散できます。これは、複数のパスが使用可能であるにもかかわらず、特定のLUNに対するI/O要求が単一のアクティブな最適パス経由でのみ送信されていた以前のリリースとは異なります。</block>
  <block id="02d93414f767a20a5223a6138ac89c79" category="doc">アレイLUNへの複数のパスを使用した負荷の分散</block>
  <block id="e8f3e6f03ebd4ffdbff84f8611b4322a" category="paragraph">特定のLUNに対するI/O要求を複数のパスに分散させると、次のようなメリットがあります。</block>
  <block id="e7c53b8dceb13a4e7e5966e8ace17c99" category="list-text">使用可能な最適パスすべてを最大限に利用できるため、効率が向上</block>
  <block id="33fe7e3989f28714ab122c9ef86f51e9" category="list-text">複数パスでのロードバランシングによるパフォーマンスの向上</block>
  <block id="c21cd4fb72328b2732380f33f0f9e101" category="paragraph">たとえば、アクティブ/アクティブアレイでは、特定のLUNに対するI/O要求を、そのLUNで使用可能な4つのターゲットポートすべてに分散できます。非対称アクティブ/アクティブアレイLUNの場合は、I/O要求を特定のLUNのすべての最適パスに分散できます。</block>
  <block id="508435c99edde9fd7821020fdb694cc8" category="section-title">特定のLUNの複数パス間のロードバランシングを表示するコマンド</block>
  <block id="830d377a2e06501ec941c00e58b97ff7" category="paragraph">特定のLUNの負荷が複数のパスに分散されている状況を確認するには、次のコマンドを実行します。</block>
  <block id="0f831425c5023da5bbb53bd41f242ed0" category="list-text"><block ref="fff790cf62ab2bcf7cfa78c64dfe5a06" prefix="" category="inline-code"></block> に、特定のアレイLUNの使用可能なパスにI/O負荷が分散されている状況を示します。</block>
  <block id="1d4394f4bc199b82e3a90c159702b3e3" category="list-text"><block ref="a2783a2692b7fa060e82e748a5f71c0c" prefix="" category="inline-code"></block> では、特定のストレージアレイに接続されたONTAPシステム上のすべてのイニシエータポートにI/O負荷が分散されている状況が表示されます。</block>
  <block id="1e8cc88df49a4ee5a4a395982c3ef748" category="list-text"><block ref="fa4b92ffae8229b241cfae1ace5b952a" prefix="" category="inline-code"></block> では、特定のストレージアレイ上のすべてのターゲットポートにI/O負荷が分散されている状況が表示されます。</block>
  <block id="e2e44a4d4411d1e96b2ab8dd20fd2160" category="summary">ONTAPシステムでサポートされるストレージアレイモデルに応じて、ONTAPシステムに複数のストレージアレイまたは単一のストレージアレイを接続できます。</block>
  <block id="bb1fd7e5100b6edb6322682fbea0acaf" category="doc">ONTAPシステムに複数のストレージアレイを接続する場合の考慮事項</block>
  <block id="19d62755ca60fe3eb9053d05d4b43513" category="paragraph">ONTAPシステムでストレージアレイが1つしかサポートされないストレージアレイモデルは、Interoperability Matrixで確認できます。</block>
  <block id="7800ba550a16a77ad02960e0c30ff1ea" category="paragraph">複数のストレージアレイをONTAPシステムに接続する場合は、次の点を考慮してください。</block>
  <block id="da0067442f2181ee7605d110d32f6718" category="list-text">サポートされている同じストレージアレイモデルの複数のアレイをONTAPシステムに接続できる場合、導入できるストレージアレイの数に制限はありません。</block>
  <block id="a8570ebee7b8df029ed8a99b2992488b" category="list-text">サポートされているベンダーと同じストレージアレイでも異なるベンダーのストレージアレイでもかまいません。</block>
  <block id="344acf1f8bf41c073984bfe54128780c" category="paragraph">同じベンダーのストレージアレイの場合は、すべて同じファミリーのストレージアレイでも異なるファミリーのストレージアレイでもかまいません。</block>
  <block id="b35230027f2867b01313dbad1318783e" category="summary">アレイLUNを使用するためのONTAPシステムのセットアッププロセスは、ONTAPシステムをディスクと一緒に購入したかどうかによって異なります。</block>
  <block id="663574e21fe265e840f0b1628f586a67" category="doc">アレイLUNと連携するためのONTAPのセットアップ</block>
  <block id="55ce6d4669657802ce437d8ee912bc53" category="paragraph">ディスクシェルフと一緒に購入したONTAPシステムは、ONTAPソフトウェアがインストールされた状態で出荷されます。このような構成では、ルートボリュームを作成したり、ライセンスとONTAPソフトウェアをインストールしたりする必要はありません。</block>
  <block id="703c0a50bc2fac67b4ea342c0673e333" category="paragraph">ディスクシェルフと一緒に購入しなかったシステムには、ONTAPソフトウェアをインストールできます。このようなシステムでは、まずONTAPをインストールしてからクラスタをセットアップする必要があります。</block>
  <block id="3a1182b27a60db955a8e198220626648" category="summary">アレイLUNを使用するONTAP構成を計画する場合は、ストレージアレイが特定のONTAPリリースでサポートされているかどうかを確認する必要があります。また、相互運用性とサポート情報を確認して、すべてのシステムがアレイLUNを使用する構成の要件を満たしていることを確認する必要があります。</block>
  <block id="b6bef8b69610114481e3c0cc78019773" category="doc">アレイLUNを使用する構成の計画</block>
  <block id="4907479f980c80676020bb00b393ba0e" category="summary">ONTAPシステムのFCイニシエータポートとストレージアレイポートの間の接続を計画するには、冗長性を確保する方法を決定し、アレイLUNへのパス数の要件を満たす必要があります。</block>
  <block id="04898ef1982e219da5747b91c3acc7fc" category="doc">ポート間の接続方法の計画</block>
  <block id="6f3505f901f37777556668aaf8f0445e" category="summary">アレイLUNのONTAP RAIDグループを設定する前に、アグリゲートのサイズ、RAIDグループの数とサイズ、およびアレイLUNのサイズを計画する必要があります。データの要件に最も適したRAIDグループを使用すると、アレイでデータが適切に保護され、その可用性が確保されます。</block>
  <block id="9703591c0363f7c9ea9ff8cc7e4caba2" category="doc">ONTAP RAIDグループの計画に関する考慮事項</block>
  <block id="8ff7b387ed339a9cda7767a4cbfabffd" category="paragraph">ONTAP RAIDグループの計画では、次のタスクを実行します。</block>
  <block id="9f36beaa921bfc5525447648a079c374" category="list-text">データの要件に最も適したアグリゲートのサイズを計画します。</block>
  <block id="f98ca694fd3d223cd30f249f0b44f06b" category="list-text">アグリゲートのサイズに必要なRAIDグループの数とサイズを計画します。</block>
  <block id="706b804c83a5599a138744e07acb95cb" category="list-text">ONTAP RAIDグループで必要なアレイLUNのサイズを計画します。</block>
  <block id="d1e0cba99b8953f2ca1702f442fefcc9" category="list-text">パフォーマンスへの影響を回避するには、特定のONTAP RAIDグループに含まれるすべてのアレイLUNのサイズを同じにします。</block>
  <block id="56814397251a8f46ca3cee5f16b7cfc8" category="list-text">アレイLUNのサイズは、同じアグリゲート内のすべてのRAIDグループで同じにする必要があります。</block>
  <block id="54b4a332dad728d453499404aed791c5" category="list-text">ストレージアレイ管理者に、アグリゲートに必要なサイズと数のアレイLUNを作成するよう依頼します。</block>
  <block id="5d6a5081b41eb6c12fd64940876dc178" category="paragraph">パフォーマンスが向上するようにアレイLUNを最適化するには、ストレージアレイのベンダーから提供されているドキュメントの手順に従ってください。</block>
  <block id="a26eaa09729fe01e80a54a31c1880629" category="inline-link">_ディスクとアグリゲートの管理_</block>
  <block id="0573b3e4b91f94427dfeaaee2a885262" category="paragraph">ストレージアレイで使用するONTAP RAIDグループの設定に関するその他の推奨事項については、を参照してください<block ref="e915d35c063384abfce57038e105cb8e" category="inline-link-rx"></block>。</block>
  <block id="7302aea57dd4ecbb36c4dd29e8b08ee1" category="summary">ONTAPシステムをストレージアレイと一緒に使用している場合は、LUNセキュリティ方式を使用して、ONTAPシステムが所有するアレイLUNがONTAPシステム以外のシステムによって上書きされないようにする（またはその逆）必要があります。</block>
  <block id="c94fa3f032400f7514377fe79707a117" category="doc">ストレージアレイでのLUNセキュリティの計画</block>
  <block id="868017e1b3055aeb6c0558bbf1a92f8e" category="paragraph">LUNセキュリティは、特定のアレイLUNにアクセスできるホストを分離する方法です。LUNセキュリティは、概念的にはスイッチゾーニングに似ていますが、ストレージアレイで実行されます。_lun security_and_lun masking_は、この機能を表す同等の用語です。</block>
  <block id="756d3281ba816da49f0e58f63b093805" category="paragraph">ONTAPディスク所有権を使用すると、あるONTAPシステムが所有するアレイLUNを別のONTAPシステムが上書きすることを防止できます。ただし、ONTAP以外のホストがアクセスできるアレイLUNをONTAPシステムが上書きしないようにすることはできません。同様に、上書きを防止する手段がなければ、ONTAPシステムで使用されているアレイLUNがONTAP以外のホストによって上書きされる可能性があります。</block>
  <block id="59f610aa1ec1f5d5a9f9e0fa76397b2e" category="summary">ONTAPでアレイLUNを使用するには、ストレージアレイ管理者がまずストレージアレイにLUNを作成し、LUNをONTAPで使用できるようにする必要があります。その後、ONTAP管理者は、ストレージアレイで使用可能になったアレイLUNを使用するようにONTAPを設定する必要があります。</block>
  <block id="89324ec62166935670ba86e939876712" category="doc">ONTAPでアレイLUNを使用するための計画</block>
  <block id="c307f0347321e5b0f00deebffcc9b39f" category="paragraph">ONTAPで使用するアレイLUNのプロビジョニング方法を計画する際には、次の考慮事項を考慮する必要があります。</block>
  <block id="356c20f71077869f8c18f20b1e780968" category="list-text">ONTAPでサポートされるアレイLUNのタイプ</block>
  <block id="e943e693fdf85db6d2b3403990ae0b91" category="list-text">ONTAPアレイLUNの最小サイズと最大サイズ</block>
  <block id="171d5301fc570316094c2c309b2e3d8f" category="list-text">必要なアレイLUNの数</block>
  <block id="a49bd1ced073bf67bab2163c9102c56f" category="paragraph">ONTAPはアレイLUNを仮想ディスクと見なします。</block>
  <block id="b13fdaf57e1a08b32ec121d8fc25f83b" category="summary">パスは、ONTAPシステムとストレージアレイ間の物理接続です。ONTAPシステムとストレージアレイの間にSingle Point Of Failure（SPOF；単一点障害）が発生しないようにするには、冗長パスが必要です。</block>
  <block id="b47624d709523b5d396e617d97f10046" category="doc">アレイLUNへのパスの計画</block>
  <block id="5248b9eab9a406d5b77a2e1d11c62589" category="summary">ストレージアレイRAIDグループ内のLUNのサイズと数を計画し、ホスト間でRAIDグループを共有するかどうかを決定する必要があります。</block>
  <block id="cd84e76cb89a90955016cd5f279eeaa3" category="doc">RAID実装の計画</block>
  <block id="3b012d39d620ec097337797464151281" category="summary">ONTAPシステムでアレイLUNを使用する場合は、ストレージアレイとスイッチの管理者に依頼して、ONTAPシステムと連携するようにバックエンドデバイスを設定する必要があります。</block>
  <block id="64385fe6ede386c4491b30f992c520b6" category="doc">アレイLUNを使用するONTAPシステムの計画概要</block>
  <block id="638a0c6cd08f34aab940dc60816c6a96" category="paragraph">次の表は、主な計画作業と、各作業に役立つ情報の参照先をまとめたものです。</block>
  <block id="e824939aeee2378123d1bfebc84be54e" category="cell">計画タスク</block>
  <block id="937b6206429706852b5e5f8d54a13a81" category="cell">シヨウホウノサンシヨウセン</block>
  <block id="a3a521680ec673a1f79cabb13d5ee067" category="paragraph">ONTAPと連携するようにストレージアレイを設定するための要件を特定する</block>
  <block id="3a7d7c44f7239e5ef0daa4186bb216a1" category="paragraph">ONTAPでアレイLUNを使用する場合のガイドライン</block>
  <block id="620008a16d0d31ab5a1694caeaf75dd2" category="paragraph"><block ref="620008a16d0d31ab5a1694caeaf75dd2" category="inline-xref-macro-rx"></block></block>
  <block id="b4445c23884301ce720f650013893af6" category="paragraph">アレイLUNに関するONTAPの制限の確認</block>
  <block id="f025c21b8308bff226639bd86493a919" category="paragraph">LUNセキュリティ方式の決定、ストレージアレイでのアクセス制御の設定、スイッチを導入する場合はスイッチでのゾーニングの設定</block>
  <block id="ab48edd366b6e4c33583342d874ab9d0" category="inline-xref-macro">ストレージ アレイのLUNセキュリティ計画</block>
  <block id="2d656672bf34930eb454d09b44fe12c3" category="list-text"><block ref="2d656672bf34930eb454d09b44fe12c3" category="inline-xref-macro-rx"></block></block>
  <block id="d4ca82368b64397e20a55281fa2b31e8" category="inline-xref-macro">ゾーニングの要件</block>
  <block id="684e59816d13f777ed746850d8939975" category="list-text"><block ref="684e59816d13f777ed746850d8939975" category="inline-xref-macro-rx"></block></block>
  <block id="5066deb5f4270a3a2da23540a65e0e81" category="paragraph">ONTAPシステムとストレージアレイ間のポート間接続方式を確認する</block>
  <block id="9975bbe8861815c8f9417da2d97dcd13" category="list-text"><block ref="9975bbe8861815c8f9417da2d97dcd13" category="inline-xref-macro-rx"></block></block>
  <block id="a75e824ed22c726b985a64653b6bbd27" category="paragraph">どのONTAPシステムがどのアレイLUNを「所有」するかの判別（ディスク所有権）</block>
  <block id="b2157836b4e4bf6e9beffa1abfae4c82" category="list-text"><block ref="b2157836b4e4bf6e9beffa1abfae4c82" category="inline-xref-macro-rx"></block></block>
  <block id="53f2462178712ede2ca2861f93c1e5d5" category="inline-xref-macro">アレイLUNの所有権の割り当て</block>
  <block id="d133070bb0891f2b50e596a105ae33dd" category="list-text"><block ref="d133070bb0891f2b50e596a105ae33dd" category="inline-xref-macro-rx"></block></block>
  <block id="5037046d0d20a72a1875c7f8f0393c07" category="summary">ネイティブディスクシェルフは、新規または既存のVシリーズシステムに設置できます。ただし、ネイティブディスクシェルフをVシリーズシステムに設置する場合は、FASシステムに設置する場合と比較して、いくつかの追加要素を考慮する必要があります。</block>
  <block id="c2dd13bf1eff407aae484b522164f42e" category="doc">ネイティブディスクを使用するVシリーズシステムの計画概要</block>
  <block id="eb0ecc50fe839b85f02f5738fe1eb945" category="section-title">ディスクを使用するVシリーズシステムの基本的なセットアップの計画に関するその他の考慮事項</block>
  <block id="a8f1a07ba6b488647ec4aac36bbbe485" category="paragraph">ネイティブディスクを使用するVシリーズシステムの基本的なセットアップとインストールの要件を決定する際には、次の点を考慮する必要があります。</block>
  <block id="13fb9bc508a410ce95ca5aa655ac71eb" category="list-text">ディスクシェルフと一緒に購入したVシリーズシステムは、出荷時点でルートボリュームが設定され、ライセンスとONTAPソフトウェアがインストールされています（FASシステムの場合と同様）。</block>
  <block id="9bc2b2beff0c0bbd3b7b20ec1bed8897" category="list-text">Vシリーズシステムをディスクシェルフと一緒に購入しなかった場合は、ONTAPソフトウェアと該当するライセンスをインストールする必要があります。</block>
  <block id="c8d9cea5dcaaeba48b926077b7ac0b69" category="list-text">ONTAPは、Vシリーズシステムに接続されているネイティブディスクに自動的に所有権を割り当てます。</block>
  <block id="c53d3edcc455f613de04a90f113c60c5" category="section-title">VシリーズシステムでディスクとアレイLUNの両方を使用する場合の計画に関する追加の考慮事項</block>
  <block id="19bfa1f53f3f8acb324a85fecaa6003b" category="paragraph">次の表は、計画に関するその他の考慮事項と、各タスクに役立つ情報の参照先をまとめたものです。</block>
  <block id="5171643f62d3089f23909b42eec65437" category="cell">計画に関する考慮事項</block>
  <block id="1edfe6f6297f17bc7e331338856b207c" category="cell">ガイドラインの参照先</block>
  <block id="abeff23a87e1d9d5da8ec509a8952c59" category="paragraph"><block ref="abeff23a87e1d9d5da8ec509a8952c59" category="inline-xref-macro-rx"></block></block>
  <block id="d9015581e5fa1f408aaaae4b2cea8c10" category="paragraph">Vシリーズシステムでサポートされる最大数の範囲内で割り当てることができるディスクとアレイLUNの合計数</block>
  <block id="eeb8b0d5f5d6d8778f829400cc119d88" category="paragraph">FCイニシエータポートの用途</block>
  <block id="1df7c4bec4d6cb23d626894f8478cfa8" category="inline-xref-macro">FCイニシエータ ポートの用途別要件</block>
  <block id="ec331c3b497ecaa5ba0ea7e72c560a5f" category="paragraph"><block ref="ec331c3b497ecaa5ba0ea7e72c560a5f" category="inline-xref-macro-rx"></block></block>
  <block id="8e2d23956382208e082025f0a7e140be" category="paragraph">ディスクに格納するデータのタイプとアレイLUNに格納するデータのタイプ</block>
  <block id="27efc84e2635bdf13e1f7b46e7ac0379" category="paragraph">管理が必要なデータの種類を評価し、ネイティブディスクまたはアレイLUNのどちらにデータを格納できるかを決定する必要があります。</block>
  <block id="3439963800c8057bd74ac7f542e45b25" category="summary">ノードがクラスタに追加される前、またはシステムがメンテナンスモードのときのアレイLUN名は、Data ONTAP 8.3より前に使用されていた形式（クラスタ構成前の形式）に従っています。</block>
  <block id="6f577dbe3653998d6be84b7f845de62a" category="doc">クラスタ構成前のアレイLUN名の形式</block>
  <block id="be98d681b51d02a6828eee5a47b7b37a" category="paragraph">ノードがクラスタに追加される前、またはシステムがメンテナンスモードのときのアレイLUN名は、Data ONTAP 8.3より前に使用されていた形式（_pre-cluster_format）に従っています。</block>
  <block id="d2d47b120b703619033bc30c527fab4e" category="paragraph">アレイLUNにはパスに基づく名前が付けられ、ONTAPシステムとストレージアレイの間にあるデバイス、使用されているポート、およびSCSI LUN IDで構成されます。SCSI LUN IDは、ホストへのマッピング用にストレージアレイが外部に提供する、パス上のSCSI LUN IDです。</block>
  <block id="80317dbcb1847c479f20cf445e227457" category="paragraph">アレイLUNをサポートするONTAPシステムでは、各LUNへのパスが複数存在するため、各アレイLUNに複数の名前が付けられる可能性があります。</block>
  <block id="c251dcff5d4b04938ce46bf92c8b7a7a" category="section-title">ONTAPシステムのアレイLUN名の形式</block>
  <block id="b94e5e2ef2e1af099c0cbb7af394e7fb" category="cell">コンポーネントの説明</block>
  <block id="4e4e9a3c74ffafdd7400bec54125834f" category="paragraph">直接接続</block>
  <block id="ae3934203b9a772af1085318fcb43cdf" category="paragraph"><block ref="2f63c8008e1c79aa7c81d632b47c0be8" prefix="" category="inline-code"></block></block>
  <block id="5c2fd59f98aee8a4e96d0b1a5db25f4d" category="paragraph"><block ref="28ad433d4852cc935dbfa07928f3912e" prefix="" category="inline-code"></block> は、クラスタノードの名前です。ONTAPでは、パスに基づく名前がクラスタ内で一意になるように、LUN名の先頭にノード名が付加されます。 adapterは、ONTAPシステム上のアダプタ番号です。</block>
  <block id="621aa5e453056cb88f8eeaf2cdccac01" category="paragraph"><block ref="b80bb7740288fda1f201890375a60c8f" prefix="" category="inline-code"></block> は、ストレージアレイ上のチャネルアダプタポートです。</block>
  <block id="9d1118c712a1454d042395f2f826e428" category="paragraph"><block ref="c22a55021b626d4633bb703e9ebcbbf9" prefix="" category="inline-code"></block> は、ストレージアレイがホストに提供するアレイLUN番号です。</block>
  <block id="31e44fb018e020a6fa0edb1c324a8334" category="paragraph">例：<block ref="b736ddf837e1c0dde31dbe57e158c409" prefix=" " category="inline-code"></block></block>
  <block id="a27c828159188c1e1cec306fe279d9e2" category="paragraph">ファブリック接続</block>
  <block id="9aaabd55eb32641d1bf223c61c632e24" category="paragraph"><block ref="a1857b2b61d635f618675de5f97618d3" prefix="" category="inline-code"></block></block>
  <block id="5eab6c751e6e5268382df1631fa3077c" category="paragraph"><block ref="28ad433d4852cc935dbfa07928f3912e" prefix="" category="inline-code"></block> はノードの名前です。ONTAPでは、パスに基づく名前がクラスタ内で一意になるように、LUN名の先頭にノード名が付加されます。<block ref="b0abf86ae1af6c8d52fba5690a7c8bdc" prefix=" " category="inline-code"></block> は、スイッチの名前です。</block>
  <block id="8093819c9f685761b26f20dada8bc3ae" category="paragraph"><block ref="901555fb06e346cb065ceb9808dcfc25" prefix="" category="inline-code"></block> は、ターゲットポート（エンドポイント）に接続されているスイッチポートです。</block>
  <block id="127d24b01792e3bbe8888928ddfc9a30" category="paragraph"><block ref="b80bb7740288fda1f201890375a60c8f" prefix="" category="inline-code"></block> は、デバイスIDです。</block>
  <block id="100c55a7e95f717dedb292cf9f98d384" category="paragraph">例：<block ref="dcc1c5ab4765ce5d21d60c17400338f7" prefix=" " category="inline-code"></block></block>
  <block id="3f54a09a70cc9d1528b35d59a5eaf07d" category="summary">アレイLUNがすでに（ONTAPで）特定のONTAPシステムに割り当てられている場合、ストレージ管理者がストレージアレイでアレイLUNの再設定を行う前に、ONTAPによってアレイLUNに書き込まれた情報を削除しておく必要があります。</block>
  <block id="d19971f2903399bff319771bce7f8190" category="doc">ストレージアレイでアレイLUNを再設定するための前提条件</block>
  <block id="f7d7b72498d76d1854656b619cae4f31" category="paragraph">ストレージアレイがONTAPにアレイLUNを提供すると、ONTAPはそのアレイLUNに関する情報（サイズなど）を収集し、その情報をアレイLUNに書き込みます。ONTAPでは、アレイLUNに書き込んだ情報を動的に更新できません。そのため、ストレージアレイ管理者がアレイLUNを再構成する前に、ONTAPを使用してアレイLUNの状態を_unused_に変更する必要があります。ONTAPから見ると、このアレイLUNは未使用です。</block>
  <block id="da982e61671b8595cca5f56ff656427e" category="paragraph">アレイLUNの状態を未使用に変更すると、ONTAPは次の処理を実行します。</block>
  <block id="6d22b96f3a64266ca9cbf61833ab94a0" category="list-text">アレイLUNへのI/O処理を終了する</block>
  <block id="b2b9faf686c53545c5d36964fde276da" category="list-text">RAID構成情報のラベルと永続的予約をアレイLUNから削除する。これにより、アレイLUNはいずれのONTAPシステムにも所有されていない状態になります。</block>
  <block id="a7c45fa418b76f698f6590e449aeb5fd" category="paragraph">この処理が完了すると、アレイLUNにONTAP情報が残っていません。</block>
  <block id="a81954eaf841787d1979d6cb00e913e2" category="paragraph">アレイLUNの状態が未使用に変更されたら、次の処理を実行できます。</block>
  <block id="797ace2a891c875049ba5583a0c874b2" category="list-text">アレイLUNからONTAPへのマッピングを削除し、他のホストで使用できるようにします。</block>
  <block id="9545eec3a8b025ce03a251e2a36ab054" category="list-text">アレイLUNのサイズを変更するか、構成を変更します。</block>
  <block id="e10353beb2a83c40391568cc6db6de2d" category="paragraph">アレイLUNのサイズや構成を変更したあとにONTAPで使用を再開するには、アレイLUNをONTAPに再度提供し、ONTAPシステムに再度割り当てる必要があります。ONTAPでアレイLUNの新しいサイズまたは構成が認識されます。</block>
  <block id="87661799370d0e6454ce90529bf6567c" category="summary">ONTAPで使用できるアレイLUNのRAID保護は、ストレージアレイによって提供されます。ONTAPはRAID保護を提供しません。</block>
  <block id="eac64a8dd8996cb418b7e1491961ef11" category="doc">アレイLUNのRAID保護</block>
  <block id="eec41317329d0e05017db078196c9870" category="paragraph">ONTAPはアレイLUNにRAID 0（ストライピング）を使用します。ONTAPは、ストレージアレイでさまざまなRAIDタイプをサポートしていますが、ストレージ保護を提供しないRAID0を除きます。</block>
  <block id="26e981321a561f73b50ab10ff64bbaa2" category="paragraph">ストレージアレイで_raid groups_onを作成する場合は、ディスク障害によってデータが失われたりデータへのアクセスが失われたりしないように、ストレージアレイのベンダーのベストプラクティスに従って、ストレージアレイに対する十分なレベルの保護を確保する必要があります。</block>
  <block id="4c9c293b4118723d9c98df8e953f6958" category="list-text">ストレージアレイ上の_raid group_は、定義されたRAIDレベルを形成するディスクの配列です。</block>
  <block id="7533bba8c90395cff4d8694167111115" category="paragraph">各RAIDグループがサポートするRAIDタイプは1つだけです。RAIDグループに対して選択するディスクの数によって、そのRAIDグループがサポートするRAIDタイプが決まります。このエンティティを表す用語は、ストレージアレイベンダーによって異なります（RAIDグループ、パリティグループ、ディスクグループ、パリティRAIDグループなど）。</block>
  <block id="d5e78a646217bfd12a656b5e7d207091" category="list-text">ONTAPのネイティブディスクシェルフではRAID 4とRAID-DPがサポートされますが、アレイLUNではRAID 0のみがサポートされます。</block>
  <block id="d6a9aed7d8f472b42b34b96a733b44e0" category="summary">ONTAPは、アレイLUNへのパスを4つまたは2つサポートします。</block>
  <block id="21b745932a0e08672a922d4e3e5716a9" category="doc">必要なアレイLUNへのパス数</block>
  <block id="1d79492d9cb38cbcd3c7ca52c3229ea9" category="paragraph">ONTAPは、ストレージアレイが少なくとも2つの冗長ストレージアレイポートで（つまり少なくとも2つの冗長パスを介して）特定のアレイLUNにアクセスを提供することを前提かつ必須の条件としています。</block>
  <block id="f00d6921b495796a411ea2a1663e772e" category="paragraph">ある特定のLUNにアクセスするために選択するストレージアレイ上のポートには、単一点障害（Single Point of Failure）を回避するために、別のコンポーネント（代替のコントローラ、クラスタ、エンクロージャなど）が含まれていることを確認してください。これは、1つのコンポーネントで障害が発生してもアレイLUNへのすべてのアクセスが失われないようにするためです。</block>
  <block id="14b3bca2c100918b473424f915086e85" category="summary">ONTAPシステムは、冗長なFibre Channel（FC；ファイバチャネル）ネットワークを介してストレージアレイに接続する必要があります。接続障害への対策として、またONTAPシステムに影響を与えることなくファブリックのポートやスイッチをオフラインにしてアップグレードや交換を行うためには、FCネットワークが2つ必要です。</block>
  <block id="6c96cb0ba09a37382dd3614664685866" category="doc">パス内のコンポーネントの冗長セットアップの要件</block>
  <block id="c83b995f8485fd3b503806e77bf231aa" category="section-title">ONTAPシステムの冗長性要件</block>
  <block id="d317fa1c541abdb5346b698d2d214dbc" category="list-text">各接続を、ONTAPシステム上のポートペアの別 々 のFCイニシエータポートに接続する必要があります。</block>
  <block id="9e917a2b7b598e9fd766f8ff33f3a61e" category="list-text">同じFCイニシエータポートペアの各FCイニシエータポートを別 々 のバスに配置する必要があります。</block>
  <block id="ba01e3352005dd6c6987b20efba2116a" category="section-title">FCスイッチの冗長性要件</block>
  <block id="17e4f1fec3b0b9bbbb223e14d88aadca" category="list-text">冗長スイッチを使用する必要があります。</block>
  <block id="0011911cd254b977806e51cdd7c83407" category="section-title">ストレージアレイの冗長性要件</block>
  <block id="0c3e41ae4cb4a77b272a8c55b35437a3" category="paragraph">次の図は、冗長性を確保するためにストレージアレイポートが正しく選択されたかどうかを示しています。左の例のパスは正しく設定されています。アレイLUNへのパスは冗長で、各接続がストレージアレイの別 々 のコントローラのポートに接続されているためです。</block>
  <block id="597f53a7a1a69fca2a57361336494758" category="image-alt">アレイLUNへのパスは冗長にする必要があります。両方のパスが同じストレージアレイコントローラに接続されているのは正しくありません。</block>
  <block id="2910fd49d055d6613f62df3bffa3180c" category="summary">ストレージアレイにONTAPシステムを接続する方法を計画する場合は、冗長性、パス設定、およびその他のガイドラインについてポート間接続の計画で検討する必要があります。</block>
  <block id="0037841f7a156092392f6039d99cb340" category="doc">ストレエシアレイニセツソクスルタメノヨウケン</block>
  <block id="e192f388b6dd1685ac45f602d9ee7ca9" category="paragraph">接続を設定するための要件は次のとおりです。</block>
  <block id="b4257242f67b6d4d13eb5f43fcfe2ea6" category="list-text">ストレージアレイ上の冗長ポートペアの各接続を、ONTAPシステム上の別 々 のFCイニシエータポートに接続する必要があります。</block>
  <block id="bb6e04d2c0b801ae1ce15c852b3f728a" category="list-text">FCスイッチで使用するポートを冗長にする必要があります。</block>
  <block id="5d80908530c766258bc0c1df93dc9067" category="list-text">SPOFを回避するために接続を設定する必要があります。</block>
  <block id="f3b6cb3ce2be4345c30c18d18f9dad4d" category="list-text">パスの数が、お使いのONTAPリリースでサポートされているパスの数を超えることはできません。</block>
  <block id="6d435001a144baf0f78a66c3c2f2c433" category="list-text">複数のターゲットポートでFCイニシエータポートを共有する場合や、複数のFCイニシエータポートでターゲットポートを共有する場合は、該当するルールに従う必要があります。</block>
  <block id="cb24c7795c9a5780f32d206ce1bbb306" category="list-text">ストレージアレイでサポートされるポートあたりのホストグループあたりのLUN数が、ONTAPシステムで使用されているLUNの数より少ない場合は、ONTAPシステムとストレージアレイの間にケーブルを追加する必要があります。</block>
  <block id="3b449d970d7fcb097ffcf12889366f8b" category="summary">アレイLUNを使用するONTAP構成でFCイニシエータポートを使用する場合は、ポートペアの冗長性、HBA用のポート設定、ターゲットポートへの接続、アレイLUNの制限、および異なるストレージやデバイスへの接続に関する特定の要件に従う必要があります。</block>
  <block id="02c6babb8244dfe4f4f527ef127528de" category="doc">FCイニシエータポートを使用するための要件</block>
  <block id="a4e1482618e73423ab85f9a061fc2e66" category="cell">機能</block>
  <block id="bff338362bb591cb74ba821ff32e4fe2" category="cell">要件</block>
  <block id="f692c8b4ef6ec001b4daf36bd56a55bb" category="paragraph">ポートペアの冗長性</block>
  <block id="67d516f29781fb553235a7260507d75c" category="paragraph">ONTAPシステムをアレイLUNに接続する際は、冗長なFCイニシエータポートペアを使用する必要があります。</block>
  <block id="e9d69b8e2366ee66cd320019b44b44eb" category="paragraph">HBAノホオトセツテイ</block>
  <block id="d0e33cedc2da6aebf5659e56e0877fc7" category="paragraph">ディスクまたはアレイLUNへのアクセスに使用するすべてのHBAを_initiator_portsとして設定する必要があります。</block>
  <block id="cb9153008fc47f17c590f2b92ee9d026" category="paragraph">ストレージアレイのターゲットポートへの接続</block>
  <block id="ceb4083d8fdd4be5a4e2e29025d5b83e" category="paragraph">同じFCイニシエータポートをストレージアレイ上の複数のターゲットポートに接続できます。</block>
  <block id="2ca7e9ef5c1799e452697c6bb840a680" category="paragraph">1つのターゲットポートに最大2つのFCイニシエータポートを接続できます。</block>
  <block id="a28f20ece8d63743baeab597d8ba9dcd" category="paragraph">アレイLUNの制限</block>
  <block id="84bd4e3c92709f3f1eb5f66dab51b413" category="paragraph">1つのFCイニシエータポート経由で認識できるアレイLUNの数には制限があります。これらの制限はONTAPのリリースによって異なります。</block>
  <block id="f7e48514e15d33af172a6aab8231e0a0" category="paragraph">別のストレージやデバイスへの接続</block>
  <block id="f43d092f57d92fb2db7efb86a7fab9f7" category="paragraph">ONTAPシステムを次のコンポーネントに接続するには、別のFCイニシエータポートを使用する必要があります。</block>
  <block id="0629603d05db387d1253ef68ff3c1ead" category="list-text">ディスクシェルフ</block>
  <block id="936263aa8a5425fe84a14888345f081f" category="list-text">アレイLUN</block>
  <block id="5fa1f27a4db085455efad8586d12878b" category="list-text">テエフテハイス</block>
  <block id="6b47c69de45fffa94471e09dee4d8e23" category="paragraph">ONTAPシステムに必要な数の内部ポートがない場合は、HBAを追加購入する必要があります。</block>
  <block id="e0e2858f368ffa91e335098cea8a6e9c" category="summary">アグリゲートについて計画するときは、複数のストレージをアグリゲートに混在させる場合のルールを考慮する必要があります。異なるストレージタイプやベンダーまたはベンダーファミリーのアレイLUNを同じアグリゲート内に混在させることはできません。</block>
  <block id="df6984c19754cd47aa4d46c6cf778134" category="doc">アレイLUNのアグリゲートに複数のストレージを混在させる場合のルール</block>
  <block id="3096cdb9379cfaaf1b099336d2df3111" category="paragraph">同じアグリゲートへの次の追加はサポートされていません。</block>
  <block id="11b53d58a065fa403e6e31dfb918ede7" category="list-text">アレイLUNトテイスク</block>
  <block id="c2974ca99e6971d284fe5d265e14137a" category="list-text">チェックサム方式が異なるアレイLUN</block>
  <block id="bcfc90b55065c0b3d90d485dd7710812" category="list-text">ドライブタイプ（FCとSATAなど）や速度が異なるアレイLUN</block>
  <block id="2474203193a1bb5959b63856ee864fa3" category="list-text">異なるストレージアレイベンダーのアレイLUN</block>
  <block id="6334e4144ce15796b5d57620c122a4e9" category="list-text">異なるストレージアレイモデルファミリーのアレイLUN</block>
  <block id="9ad53ef03f4dcffe29b35460512ef06e" category="summary">ストレージアレイ上の単一のターゲットポートに最大2つのONTAP FCイニシエータポートを接続できます。各ターゲットポートは、2つのFCイニシエータポート（各クラスタノードから1つ）にゾーニングされます。ONTAPシステムに接続されたターゲットポートを他のホストと共有することはできません。</block>
  <block id="170e1fa6bc517987c388fc4c867e22cd" category="doc">複数のFCイニシエータ ポートでターゲット ポートを共有する際のルール</block>
  <block id="2813d0e1c5a38469c29e59b23afe8869" category="paragraph">1つのターゲットポートを複数のイニシエータで共有すると、ONTAPシステムとの接続でのストレージアレイポートの使用を最適化できます。</block>
  <block id="61a62994ad80ca94837e6db58031e3ba" category="paragraph">この構成でのルールは次のとおりです。</block>
  <block id="37606d44e9cd1cc1beecfc5704ece8c6" category="list-text">ONTAPシステムがHAペア構成の場合、各ノードが同じターゲットポートと共有できるFCイニシエータポートは1つです。</block>
  <block id="9ec3b9b46fedea6572713c270c6323ac" category="list-text">すべてのストレージ アレイが、同じベンダーまたは同じモデル ファミリーであることが必要です。</block>
  <block id="427a9a7442d8834c642248053d93b151" category="list-text">MetroCluster構成では、単一のターゲットポートを複数のFCイニシエータポートに接続できます。</block>
  <block id="4ddc7e51f9fce1c06a782766c657beea" category="summary">ONTAPシステムのFCイニシエータポートは、別 々 のストレージアレイにある最大4つのターゲットポートに接続できます。FCイニシエータポートを複数のターゲットで共有すると、使用するFCイニシエータポートの数を最小限に抑えたい場合に便利です。</block>
  <block id="c2149cfa4e1f03a5c15396a1c532ad33" category="doc">複数のターゲット ポートでFCイニシエータ ポートを共有する際のルール</block>
  <block id="7ca86ab92356e0cd5822c7c40248e26b" category="paragraph">ONTAPシステムのFCイニシエータポートは、_separate_storageアレイ上の最大4つのターゲットポートに接続できます。FCイニシエータポートを複数のターゲットで共有すると、使用するFCイニシエータポートの数を最小限に抑えたい場合に便利です。</block>
  <block id="e68f40cb62385b2fe3a5e849e3f3a42b" category="paragraph">また、アクセスするターゲットポートに基づいてFCイニシエータに異なる論理デバイスのセットを提供できる場合は、FCイニシエータポートを_same_storageアレイ上の最大4つのターゲットポートに接続することもできます。</block>
  <block id="b9cad40603b56ee5143a4b548d158f96" category="paragraph">1つのFCイニシエータポート経由で認識できるアレイLUNの数には制限があります。これらの制限はリリースによって異なります。</block>
  <block id="081554d2d04bbd58260d6f53f2a757c0" category="section-title">_separate_storage arraysの複数のターゲットポートにFCイニシエータポートを接続する場合のルール</block>
  <block id="f903bf0f94d967cc0e66ea7929e00429" category="list-text">すべてのストレージアレイが同じベンダーモデルファミリーに属している必要があります。</block>
  <block id="28a7980eb97b5b65ca78fc1e5fcb6aae" category="list-text">MetroCluster構成では、単一のFCイニシエータポートを複数のターゲットポートに接続できます。</block>
  <block id="19f322ca6f14bca6e7e1fde4d381ccc9" category="list-text">1つのFCイニシエータポートを、複数のストレージアレイの最大4つのターゲットポートに接続できます。</block>
  <block id="ca2910bd585c5875e2a637a6bb752088" category="list-text">同じFCイニシエータポートから複数のターゲットポートにアクセスする場合でも、FCイニシエータとターゲットポートの各ペアを別 々 のゾーンに1対1で配置する必要があります。</block>
  <block id="e0021c53c17e6ac79300b81063308315" category="section-title">_same_storage array上の複数のターゲットポートにFCイニシエータポートを接続する場合のルール</block>
  <block id="9fbdc58d0d03fb9f1e284f359479350e" category="paragraph">一部のストレージアレイでは、アクセスするターゲットポートに基づいて異なる論理デバイスのセットを1つのFCイニシエータに提供できます。このタイプのストレージアレイでは、同じFCイニシエータを複数のホストグループに含めることができます。この機能を搭載したストレージアレイでは、各FCイニシエータポートが同じストレージアレイの複数のターゲットポートにアクセスでき、各ターゲットポートがFCイニシエータに異なるLUNグループを提供します。使用しているストレージアレイで同じFCイニシエータを複数のホストグループに含めることができるかどうかを確認するには、ストレージアレイのドキュメントを参照してください。</block>
  <block id="13312c2b50bad6be41112fc279c4f743" category="paragraph">この構成のルールは次のとおりです。</block>
  <block id="a97d1ad5190a8589ca33a67b40511017" category="list-text">単一のFCイニシエータポートをストレージアレイ上の最大4つのターゲットポートに接続できます。</block>
  <block id="8d5f5407fb82bdd0e36d232153c65ff7" category="list-text">同じFCイニシエータから複数のターゲットポートにアクセスする場合でも、FCイニシエータとターゲットポートの各ペアを別 々 のゾーンに1対1で配置する必要があります。</block>
  <block id="7a506d817ab4e436e21478d392c167aa" category="summary">一般的なストレージアレイは、異なるベンダーのホストにストレージを提供します。ただし、ONTAPでは、一部のストレージアレイをONTAPシステム専用にする必要があります。</block>
  <block id="67957d00b566430a3ef7ee89c5d2eb7e" category="doc">ホスト間でのストレージ アレイの共有</block>
  <block id="c0e28b776e3fbc4ceb9d172d89a2c315" category="paragraph">ご使用のベンダーのストレージアレイをONTAPシステム専用にする必要があるかどうかを確認するには、_Interoperability Matrix_を参照してください。</block>
  <block id="4adc401c8ae4c785828285c144ca88b9" category="summary">問題と思われる状況であっても、システムの動作を妨げるものではないため、ONTAPの観点からはエラーではない場合があります。バックエンド構成をチェックするONTAPコマンドでは、システムの動作を妨げない構成は特定されません。</block>
  <block id="03a3c09229323c43ea8ad2b5324a05d5" category="doc">バックエンド構成をチェックするコマンドで識別されない状況</block>
  <block id="54ec8272f12f270f83c706e403452d9f" category="paragraph">、、などのコマンドを実行<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block><block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block><block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> しても、次のような状況は通知されません。</block>
  <block id="84317cf7d06dc5c21fb1e713c05c5547" category="list-text">ベストプラクティス（つまり必須ではない）に従っていない構成</block>
  <block id="aa22697a23076e4c32c79ea1befa970e" category="list-text">一時的な状態で発生する可能性がある状況</block>
  <block id="da998a789ead96203d6b134743a0772d" category="paragraph">たとえば、あるLUNグループから別のLUNグループへのLUNの移行が完了するまでは、の出力に想定よりも多くのLUNグループが表示されることがあります<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。</block>
  <block id="7960839d30129660033b890dd65fa91a" category="list-text">意図した構成と一致しない状況</block>
  <block id="17818d43421252532af9bc22b78d1dbc" category="paragraph">たとえば、複数のLUNグループを設定する必要がある場合に1つしか設定されていなくても、単一のLUNグループはサポートされているためONTAPではエラーとみなされません。</block>
  <block id="b2923373e2eb118c513dfab25116b008" category="summary">スタンドアロンのONTAPシステムおよびHAペアのノードでは、使用可能なスペアディスクがない場合は、コアダンプを格納できるサイズのスペアアレイLUNを作成する必要があります。</block>
  <block id="1f93a9bdbffb7f1a61612801ad266c60" category="doc">コアダンプ用スペアアレイLUNの要件</block>
  <block id="a52eca13f09724cb65f9dd7f5b640c5e" category="paragraph">ディスクとアレイLUNの両方を使用するシステムでは、スペアディスクがあればコアダンプ用にスペアアレイLUNは必要ありません。スペアアレイLUNもスペアディスクもない場合は、コアをダンプする場所がありません。</block>
  <block id="62450b3b7004508920b3d612e21f1213" category="paragraph">コアダンプには、メモリおよびNVRAMの内容が含まれています。システムがパニック状態になると、ONTAPはスペアアレイLUNまたはスペアディスクにコアをダンプします（スペアが存在する場合）。リブート時には、スペアからコアが読み取られて、ルート ファイルシステム上のコア ダンプに保存されます。その後、テクニカルサポートはコアダンプを使用して問題のトラブルシューティングを支援できます。</block>
  <block id="23b549cad0e5a664b4ed4da72600f8f5" category="paragraph">_LUN_には、各プラットフォームのスペアコアアレイHardware Universeの最小サイズが含まれています。</block>
  <block id="96d1e6553110824d384729fd9c3ed01a" category="summary">ストレージアレイのLUNを使用するシステム構成の実装には、バックエンド実装とフロントエンド実装の2つの段階があります。各ステージのタスクの概要を理解しておくと、構成を計画する際に役立ちます。</block>
  <block id="2c50abe4213626cdc8878787385de8c2" category="doc">アレイLUNを使用するシステムの実装段階</block>
  <block id="ced3d49b94ba990250073838e7fec833" category="section-title">ステージ1：バックエンド実装</block>
  <block id="e67d82c270b0f08e4b0176fa203a3bd5" category="paragraph">バックエンド実装のセットアップには、ストレージアレイを使用するONTAPシステムのセットアップに必要なすべてのタスク（ONTAPソフトウェアのインストールまで）が含まれます。</block>
  <block id="211c4f37f431a0cc59af6ffd598add2d" category="paragraph">バックエンド実装をセットアップするタスクは次のとおりです。</block>
  <block id="c5fb11fb57477e4b3721e24f2969cd55" category="list-text">アレイLUNの作成とフォーマット</block>
  <block id="bf50b4767c8d96536f6cd85bc037f527" category="list-text">ポートの割り当て</block>
  <block id="d223aabe6d0751ac7fb17d3493f3c6c7" category="list-text">ケーブル接続</block>
  <block id="5ea751298e2e5f812e8eb01f64079b29" category="list-text">スイッチのゾーニング（該当する場合）</block>
  <block id="14e936f6d95364c2621075edea3de9fe" category="list-text">ONTAPで、ONTAPシステムへの特定のアレイLUNの割り当て</block>
  <block id="2a0db7fffdc9e96196af3848e0af9c89" category="list-text">ONTAPで、ネットワークにONTAPシステムをセットアップするための情報を指定する</block>
  <block id="9b49ef693c86a5a18205007ebae041de" category="list-text">ONTAPソフトウェアのインストール</block>
  <block id="a098f2df74a023697247c49fe8a94838" category="paragraph">ディスクシェルフと一緒に購入したONTAPシステムは、ONTAPソフトウェアがインストールされた状態で出荷されます。このような構成では、ルートボリュームを作成したり、ライセンスとONTAPソフトウェアをインストールしたりする必要はありません。</block>
  <block id="1a62c7f411bc32fba580d8787c97bea7" category="paragraph">ONTAPシステムをディスクシェルフと一緒に購入しなかった場合は、クラスタをセットアップする前にONTAPを設定する必要があります。</block>
  <block id="ef0d50e92902d5e6b416c2d733c7e584" category="section-title">ステージ2：フロントエンド実装</block>
  <block id="e50d31e868ef0ff06ffd90182d7a2e18" category="paragraph">フロントエンド実装をセットアップするタスクは、ディスクを使用するシステムの場合と同じです。たとえば、次のようなタスクがあります。</block>
  <block id="e99f760f7714b65e275bf2d5e21cde02" category="list-text">すべてのプロトコル（NAS、FC、またはその両方）に対するONTAPシステムの設定</block>
  <block id="7c29944fa69a1cf0255c576162fe08fd" category="list-text">SnapVault、SnapMirror、SnapValidator、SnapshotコピーなどのONTAP機能の設定</block>
  <block id="0143110749426f58bc59b70cbf52b7db" category="list-text">ボリュームとアグリゲートの作成</block>
  <block id="3ba44acabea522a82b32e3e64ad8989c" category="list-text">データ保護の設定（テープへのNDMPダンプを含む）</block>
  <block id="1ca5c2367061934e7917cd41fffd5758" category="summary">アレイLUNを使用するMetroCluster構成をセットアップする前に、その構成で使用するONTAPシステムおよびストレージが基本的なサポート要件を満たしていることを確認する必要があります。</block>
  <block id="ae4be5861069da077376f21078e7d091" category="doc">アレイLUNを使用するMetroCluster構成の要件</block>
  <block id="ff581d9caac07c96da9d76e5e797bec2" category="paragraph">アレイLUNを使用するMetroCluster構成をサポートするための基本的な要件は次のとおりです。</block>
  <block id="90775b4a19822df00ba862d8e28cec6b" category="list-text">MetroCluster構成でアレイLUNをサポートするVシリーズシステムとFASシステムの両方を使用できます。</block>
  <block id="2a8f2f88a26972b8d9a975b24d4f425e" category="paragraph">ただし、MetroCluster構成で使用するすべてのONTAPシステムが同じモデルであることを確認する必要があります。</block>
  <block id="e1e1d3e6d97bb8792cdb7b6398b120f4" category="list-text">ONTAPシステムでは、ネイティブディスクのみ、ストレージアレイ上のLUNのみ、またはその両方を使用できます。</block>
  <block id="7bf7705346610a9834998b7da77ebc75" category="list-text">ネイティブディスクとアレイLUNの両方を使用するMetroCluster構成をセットアップする場合は、FC-to-SASブリッジとそれらのブリッジでサポートされるネイティブディスクを使用する必要があります。</block>
  <block id="625ea75873804c924d5174a9b54b393e" category="list-text">ONTAPシステムとストレージアレイがMetroCluster構成でサポートされていることを_Interoperability Matrix_で確認しておく必要があります。</block>
  <block id="f235d75eb31192e4ac7a6d122aa712ec" category="paragraph"><block ref="f235d75eb31192e4ac7a6d122aa712ec" category="inline-link-rx"></block></block>
  <block id="4640e14a8873daa94cfe8ee1f0d4a51e" category="summary">ONTAPシステムは、ストレージアレイとファブリック接続構成で接続できます。ファブリック接続構成は、スタンドアロンシステムとHAペアの両方でサポートされます。直接接続型の構成は、一部のストレージアレイおよび一部のONTAPリリースでのみサポートされます。</block>
  <block id="10d21c29c687f1172992be9ea323a3eb" category="doc">ONTAPシステムからストレージアレイへの接続でサポートされる方法</block>
  <block id="7b772ad528992e442088c2636352d59d" category="paragraph">特定のストレージアレイおよびONTAPを実行するプラットフォームでサポートされる接続方法については、Interoperability Matrixを参照してください。</block>
  <block id="dc5da38b804a6f64af8cb0b46d7fbc68" category="summary">ONTAPでは、ターゲットポートでのリソース競合イベント（I/Oキューがいっぱいになった、コマンドがタイムアウトした、HBAリソースが不足しているなど）を検出できます。</block>
  <block id="e7bb0af6e450bed818f181043a613011" category="doc">ターゲットポート利用ポリシーの設定</block>
  <block id="2d328f994920454870cf3079a4c4ac60" category="paragraph">特定のアレイターゲットポートでこのようなイベントが検出された場合は、コマンドを使用してターゲットポート利用ポリシーを設定できます<block ref="6471bfb6d6a035a875fcf233e57a0b67" prefix=" " category="inline-code"></block> 。</block>
  <block id="e20e01c59755f6ea66d3a3cba55e9f85" category="paragraph">次の表に、ターゲットポートに関連付けられた2つの利用ポリシーを示します。</block>
  <block id="51359e8b51c63b87d50cb1bab73380e2" category="cell">ポリシー</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">説明</block>
  <block id="d04be8c6dc02ac306fe156a50f7a226f" category="paragraph">*標準*</block>
  <block id="429cfb54c2cdf0711db5f4e3a684c192" category="paragraph">特定のアレイターゲットポートでリソース競合を検出すると、ONTAPはターゲットポートのキュー深度を減らしてターゲットポートへのI/Oを調節します。ターゲットポートの各リソース競合イベントに対するターゲットポートキュー深度の削減量は* defer *ポリシーよりも少なくなります。その後、ターゲットポートキュー深度は* defer *ポリシーよりも速く増加します。*normal*はデフォルトポリシーです。</block>
  <block id="63300c3b9c0368ab50df368abc019225" category="paragraph">*延期*</block>
  <block id="60b71c536daec98d1314e99126ed8f06" category="paragraph">特定のアレイターゲットポートでリソース競合を検出すると、ONTAPはターゲットポートのキュー深度を減らしてターゲットポートへのI/Oを調節します。ターゲットポートの各リソース競合イベントのターゲットポートキュー深度の削減量は* normal *ポリシーよりも大きくなります。その後、ターゲットポートキュー深度の増加は、* normal *利用率ポリシーよりも遅くなります。</block>
  <block id="c6dcaba5506696cac8f975f553364dac" category="section-title">アレイターゲットポート利用ポリシーを表示および変更する出力例</block>
  <block id="3da4f3d49e1a0d2994ff02e9418b138f" category="paragraph">次のコマンドは、アレイターゲットポートに関連付けられているターゲットポート利用ポリシーを表示します。</block>
  <block id="9da0099a6227fc40d8007dbd117fc591" category="paragraph">デフォルトでは、特定のアレイターゲットポートのI/Oポリシーは* normal *です。ポートに関連付けられているI/Oポリシーを変更するには、次のコマンドを実行します。</block>
  <block id="5f6bd006c468629ec9bebdea07c7e7e3" category="summary">ターゲットキュー深度は、ストレージアレイターゲットポートのキューに格納できる（未処理の）ONTAPコマンドの数を定義します。ONTAPはデフォルト値を提供します。デフォルトのターゲットキュー深度はほとんどの環境に適していますが、パフォーマンスの問題を修正するために変更することができます。</block>
  <block id="af538b6816b18ebc337f2e156e0a3776" category="doc">ターゲットキュー深度のカスタマイズ</block>
  <block id="fd938df9609d5a367669a7a904c9ed24" category="paragraph">デフォルトのターゲットキュー深度はONTAPのリリースによって異なります。</block>
  <block id="6f423872a68e0b730d1713024ee07e3b" category="list-text">ONTAPのデフォルトは512です。</block>
  <block id="855536e1d9404ad65aaca7876c75d48b" category="list-text">Data ONTAP 8.2より前のすべてのリリースでは、デフォルトは256です。</block>
  <block id="076ff8d144643ffd01698ab01fde8616" category="paragraph">複数のイニシエータがターゲットポートを共有するようにストレージアレイを構成している場合は、すべてのイニシエータのキューバッファに保存される未処理のコマンド数がストレージアレイで処理可能な数を超えないようにする必要があります。そうしないと、すべてのホストのパフォーマンスが低下する可能性があります。キューバッファで処理できるコマンド数はストレージアレイによって異なります。</block>
  <block id="6435f680b53e8c38eb8192ccc0270251" category="paragraph">ターゲットキュー深度は、「ターゲットキュー長」、「Q-Depth」、「MaxThrottle」と呼ばれることもあります。</block>
  <block id="c3f7a2695446c9b4887591d47ddfd347" category="summary">本番環境に導入する前に問題を解決できるように、初回インストール時に構成を検証する必要があります。</block>
  <block id="6e0edda8805e465b2e834ba50fea8ad6" category="doc">ストレージアレイを使用した構成のトラブルシューティング</block>
  <block id="307de666b6a253ebba071eac677c8b3c" category="summary">ストレージ構成で複数のLUNグループを使用すると、容量を追加したり、より多くのターゲットポートにワークロードを分散してシステムパフォーマンスを向上させたりできます。</block>
  <block id="b2e80576076dd2105604a530c60fd3ea" category="doc">複数のLUNグループを使用する利点</block>
  <block id="7b3cc9adf4110f62cd77dc824020c5b0" category="paragraph">a_lun group_は、ONTAPシステムが同じパスでアクセスする、ストレージアレイ上の論理デバイスのセットです。ストレージアレイ管理者は、論理デバイスのセットをグループとして構成し、アクセスできるホストのWWPNを定義します。ONTAPでは、このデバイスセットを_lun group_と呼びます。</block>
  <block id="c29f237315219acadb75a3742c180fb4" category="paragraph">複数のLUNグループを使用する利点は次のとおりです。</block>
  <block id="836c2fc81a7600cb44cb760fe13b07e1" category="list-text">特定のFCイニシエータポートペアでサポートできるLUNの数には制限があります。</block>
  <block id="3a8461d49978d8b077e7e80107b17a5c" category="paragraph">特に大規模なストレージアレイの場合、必要な容量が単一のLUNグループで提供可能な容量を超えることがあります。そのため、複数のLUNグループを使用すると効果的です。</block>
  <block id="dd91d132c03ee1556231aec7ed65ac7b" category="list-text">複数のFCイニシエータポートペアにアレイLUNの負荷を分割できます。</block>
  <block id="2235f3ad685940f90c8a6d85e4390a79" category="paragraph">複数のLUNグループの使用は、すべてのストレージアレイでサポートされているわけではありません。複数のLUNグループを使用した構成がストレージアレイでサポートされているかどうかを確認するには、_Interoperability Matrix _を参照してください。</block>
  <block id="6a8402572382cc856541fd2c211d2e35" category="summary">単一の4ポートアレイLUNグループ構成は、ONTAPのすべてのリリースのすべてのストレージアレイで使用できます。</block>
  <block id="b4a2111b15052351b4d323f6876abb92" category="doc">有効なパス設定：ファブリック接続構成における単一の4ポートアレイLUNグループ</block>
  <block id="c372d4374db19cda23505dd6b775e6b3" category="paragraph">次の図は、単一の4ポートアレイLUNグループを含む構成でのパス設定を示しています。</block>
  <block id="cd791e6edd9b27b98ba2e1cfcc69ab80" category="paragraph">この単一の4ポートLUNグループ構成では、アレイLUNがストレージアレイ上の4つのポートにマッピングされます。アレイLUNグループは、HAペアの両方のノードに対して、異なるアレイターゲットポートで提供されます。ただし、各ノードは2つのパスを介してのみエンドツーエンドでアレイLUNを認識できます。ゾーニングは、ノード上の各FCイニシエータポートが単一のターゲットアレイポートにのみアクセスできるように設定されています。</block>
  <block id="6418fd74e37c0ed7dc65e438e9943c73" category="paragraph">想定数のLUNグループが設定されたかどうかを確認する場合は、出力を有効な出力と比較すること<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> を推奨します。次の<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 出力例は、この構成（単一のアレイLUNグループ）で想定されるの出力を示しています。</block>
  <block id="b55eea1e98c93aac95651acd9aa63783" category="summary">8ポートのLUNグループ構成を使用すると、LUNグループあたりのポート数が少ない場合よりも優れたパスの冗長性と負荷分散が必要な大規模なクラスタ環境で、ストレージアレイをONTAPシステムに接続できます。</block>
  <block id="a82e2b033bc512c939748e575c5b4c56" category="doc">有効なパス設定：8ポートアレイLUNグループ構成</block>
  <block id="323a2738ea278d5ac9e55cd2592f8240" category="paragraph">この構成は、バックエンド接続をクロスさせる構成とさせない構成のどちらでも設定できます。</block>
  <block id="eab92b062d88f5a787455165b56c41f6" category="section-title">バックエンド接続をクロスさせる場合</block>
  <block id="6ee5deacde4274399a30aea644ea92b6" category="paragraph">バックエンド接続をクロスさせる構成では、同じストレージアレイコントローラから両方のファブリックスイッチ（冗長）にFC接続を設定します。</block>
  <block id="ca542474774bb72118c30d15038ad980" category="paragraph">バックエンド接続をクロスさせない場合よりも、この接続方式ではスイッチポートとストレージアレイポートの両方が有効に使用されるため、スイッチやストレージアレイコントローラの障害による影響が軽減されます。</block>
  <block id="eb1fb0f7b338edf94dcaf3339570ed48" category="paragraph">コントローラ2台のみのストレージアレイでは、クロスさせない8ポートアレイLUNグループ構成よりも、クロスさせる8ポートLUNグループ構成が推奨されます。</block>
  <block id="c070519663eb53631f69adafa1b633bc" category="paragraph">8ポートアレイLUNグループのクロス構成は、各ノードから専用のパスがある場合（各パスで1つのFCイニシエータが1つのターゲットポートにゾーニングされている場合）にのみ可能です。</block>
  <block id="f8c2888b9918f7206252be827e1f4bd7" category="paragraph">この図はバックエンド接続をクロスさせる構成を示しています。ONTAPシステムとスイッチおよびストレージアレイの接続方法に注目してください。vs1は、ストレージアレイコントローラ1のポート1Aとコントローラ2のポート2Cに接続する場合はスイッチ1を使用し、コントローラ2のポート2Aとコントローラ1のポート1Cに接続する場合はスイッチ2を使用します。</block>
  <block id="936fa93ff8ced1639ef736f966f88554" category="paragraph">次の表は、バックエンド接続をクロスさせる8ポートアレイLUNグループのゾーニングをまとめたものです。推奨されるゾーニング方法は、シングルイニシエータゾーニングです。</block>
  <block id="4ba3c4981042a99c6f7527506ae69ee2" category="paragraph">vs1、ポート0a</block>
  <block id="ca1f40a10bf19615b03d61c1ebb494c3" category="paragraph">コントローラ1、ポート1A</block>
  <block id="f7fd19c551000b214a9d09dcb066dbea" category="paragraph">vs2、ポート0a</block>
  <block id="3ee6e3d12702ca00c22657c99cc3f991" category="paragraph">コントローラ1、ポート1B</block>
  <block id="e701326d4b070a8f63f8588d4a0e0ac5" category="paragraph">vs1、ポート0b</block>
  <block id="b949760d78910480269d3d4fd668510d" category="paragraph">コントローラ2、ポート2C</block>
  <block id="fdb724f3558e5d3112bbc75df73fdeae" category="paragraph">vs2、ポート0b</block>
  <block id="902d6f31d7dc54cc68a54b52e4e6f6cb" category="paragraph">コントローラ2、ポート2D</block>
  <block id="91e3eec93f9149facb7e7f6e963c9355" category="paragraph">vs1、ポート0c</block>
  <block id="7e7f033df16c689c2792beb4b9bf0aef" category="paragraph">コントローラ2、ポート2A</block>
  <block id="d63f00b6d9ac7b553ebcd48b1fba8637" category="paragraph">vs2、ポート0c</block>
  <block id="f74b2879399136de30be82eae607b1c6" category="paragraph">コントローラ2、ポート2B</block>
  <block id="d73b87966ed4206bbd599b231e4f4386" category="paragraph">vs1、ポート0d</block>
  <block id="931fd79d6278e5eef1c6c5d05a2dd3a2" category="paragraph">コントローラ1、ポート1C</block>
  <block id="db4c5ca7663f31863c8205640a060c52" category="paragraph">vs2、ポート0d</block>
  <block id="9c1f10ae4ded56a8ade06fcf29a5b830" category="paragraph">コントローラ1、ポート1D</block>
  <block id="41014acf92efabfe41e1faffb81c2303" category="section-title">バックエンド接続が_not_crossedになる場合</block>
  <block id="f89cdeb4630a85d8f596d3d2b6304630" category="paragraph">バックエンド接続をクロスさせない構成では、同じストレージアレイコントローラからのFC接続を1つのファブリックスイッチにのみ設定します。</block>
  <block id="ca87a4650ca4aa7a7f9f6994aeff3e2e" category="paragraph">次の図は、バックエンド接続をクロスさせない8ポートアレイLUNグループを含む構成でのパス設定を示しています。</block>
  <block id="f708ddd77506943236f021adf39deb95" category="paragraph">次の表は、バックエンド接続をクロスさせない場合の8ポートアレイLUNグループのゾーニングをまとめたものです。推奨されるゾーニング方法は、シングルイニシエータゾーニングです。</block>
  <block id="aecd52b968d15fe0860ead9aabb6aedd" category="section-title">FCイニシエータあたりのアレイLUNの最大数に関する考慮事項</block>
  <block id="fece44db1969cc60e89743fe46795461" category="paragraph">8ポートアレイLUNグループを使用する構成では、ONTAPでサポートされるFCイニシエータポートあたりのアレイLUN数を超えることはできません。</block>
  <block id="08bf2e6402704ceceed0d03dcfd52120" category="summary">単一の2ポートアレイLUNグループを含むファブリック接続スタンドアロンシステムは、すべてのONTAPリリースのほとんどのストレージアレイでサポートされます。</block>
  <block id="ddcc6e98ee11daf7eebfc21e110ac278" category="doc">有効なパス設定：単一の2ポートアレイLUNグループを含むスタンドアロンシステム</block>
  <block id="0ef9415f9412860b4ac9d41db25d420d" category="paragraph">ストレージアレイが異なれば、たとえ同じベンダーのものであっても、例とは異なるラベルがポートに付けられている場合があります。ストレージアレイで、選択するポートが代替コントローラのポートであることを確認する必要があります。</block>
  <block id="6d7919ab66e73b8b9c88379e81879a87" category="paragraph">次の図は、スタンドアロンONTAPシステムにおける単一の2ポートアレイLUNグループを示しています。</block>
  <block id="745d41c2aa5583eff64bc687d20322f1" category="paragraph">インストールを検証する際に、コマンド出力を以下の例と照合して、LUNグループの数が想定どおりであること、および冗長パスがあることを確認できます。</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="paragraph-title">例</block>
  <block id="5d1cc0df873e797aa4e9e611ab15f09b" category="paragraph">次の例は、図の構成（各アレイLUNへの2つの冗長パスを含む単一のLUNグループ（LUNグループ0））で想定されるの出力を示しています<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。（図に一致する出力内の冗長パスは、アレイターゲットポート名20** 1A** 00a0b80fee04および20** 2A** 00a0b80fee0420です）。</block>
  <block id="771b187b97ac5a7033e0785007b96fe7" category="summary">システムを本番環境に導入する前に、バックエンド構成のエラーを検出して解決することが重要です。</block>
  <block id="dba9bf5cbe8e2c5c17a5214f8434a8f6" category="doc">ストレージアレイを含むインストール環境の検証</block>
  <block id="d7d769d8e91367536a0c26f369020ca9" category="paragraph">バックエンド構成を検証する2つの段階は次のとおりです。</block>
  <block id="14fdbcd95a6e66b3e9a8731a84014d2c" category="list-text">ONTAPとストレージアレイの連携を妨げるバックエンド構成エラーがないか確認します。</block>
  <block id="6485eb8986015b701112020aa07aa265" category="paragraph">これらのエラーは、によってフラグ付けされ<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>ます。これらのエラーは修正する必要があります。</block>
  <block id="715219de747f8ea68a94a29929dcaaa4" category="list-text">設定が意図したとおりであることを確認しています。</block>
  <block id="d3e4f1411041e47fb5479ea4906efd21" category="paragraph">システムの観点からはエラーではなく、意図したとおりではない状況がいくつかあります。たとえば<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、の出力にはLUNグループが2つ表示されていますが、想定しているLUNグループは1つです。この文書では、そのような状況を「意図」に合わない状況と呼んでいます。</block>
  <block id="c18df370e769cc61faafee3370757e76" category="paragraph">次の図は、最初にシステムの観点から構成エラーがないことを確認し、次に想定どおりにインストールされていることを確認するワークフローを示しています。</block>
  <block id="40b63d7f202a81e80ece67c8c4c5b307" category="image-alt">最初にstorage array config showを実行します。指示があった場合</block>
  <block id="c674bdd076b2125938c0405099bf6b81" category="summary">ONTAPは、リンクの使用状況を定期的に監視します。リンク障害に対するONTAPの応答は、障害が発生した場所によって異なります。</block>
  <block id="6ebc9b779965bcefd885c948bdf35d0a" category="doc">リンク障害が発生した場合の動作</block>
  <block id="3a0ba574b757065cebdd92c9c5a1a09f" category="paragraph">ONTAPは、リンクの使用状況を定期的に監視します。リンク障害に対するONTAPの応答は、障害が発生した場所によって異なります。</block>
  <block id="ec42fda10baf30bfa91eeda62fbf9388" category="paragraph">次の表に、ファブリック接続構成で障害が発生した場合の動作を示します。</block>
  <block id="906928911e8a18154f29c169e49198d1" category="cell">リンクで障害が発生した場合のリンク</block>
  <block id="c1325f6903ebb5ebb2bb519a73ddb1b0" category="cell">作業</block>
  <block id="227c8c49e76052e40091075a9b207d31" category="paragraph">ONTAPシステムとスイッチ</block>
  <block id="dc572c3d8479d65aeb1d0abf2f139ff6" category="paragraph">ONTAPはすぐに通知を受信し、他のパスにトラフィックを送信します。</block>
  <block id="a70393546f3886d534da23e2b2b2cadb" category="paragraph">スイッチとストレージアレイ</block>
  <block id="879873e48cd746eb9f3f32a2e46841b9" category="paragraph">ONTAPシステムとスイッチの間のリンクはまだ確立されているため、ONTAPはリンク障害の発生をすぐには認識しません。I/Oがタイムアウトすると、ONTAPは障害が発生したことを認識します。ONTAPは、元のパスでトラフィックの送信を3回再試行し、そのトラフィックを他のパスにフェイルオーバーします。</block>
  <block id="11f04b4dfbb5bbdb79a222660d7b5c10" category="summary">アレイLUNへの冗長パスは、インストール後およびファブリックのメンテナンス作業中に確認する必要があります。</block>
  <block id="8ccab4151c7c413d47131c6231102d97" category="doc">アレイLUNへの冗長パスを確認するタイミング</block>
  <block id="7da732258b6806f143e8b3a3c9220e6e" category="paragraph">次の作業を実行するときは、パスの冗長性を再確認する必要があります。</block>
  <block id="6fa548f2ea82ea7bbec17cd526290147" category="list-text">初期インストール</block>
  <block id="302fa341e2ffe4f86ac59e54ebf203a6" category="list-text">ファブリックのメンテナンス：次に例を示します。</block>
  <block id="7ba3ff5bb085587c4199b2501ee1b145" category="list-text">インフラのアップグレード前、アップグレード中、アップグレード後</block>
  <block id="905ed0d15bc380d2474a02514218e0c5" category="list-text">メンテナンスのためにスイッチを使用停止にする前後</block>
  <block id="1650de6cfd3a5204b710d802fd5d2af1" category="paragraph">アレイLUNへのアクセスが中断されないようにするために、ONTAPシステムとストレージアレイ間のスイッチを取り外す前に、パスが冗長パスとして設定されていることを確認してください。</block>
  <block id="a5b6b021ff9002c5848a2d26e83200cc" category="list-text">ストレージアレイでハードウェアをメンテナンスする前後</block>
  <block id="2bca702c2fe1efc279f4753e70c506c3" category="paragraph">たとえば、ホストアダプタとポートが配置されているハードウェアコンポーネントをメンテナンスする場合は、パスの冗長性を再確認する必要があります。（このコンポーネントの名前はストレージアレイモデルによって異なります）。</block>
  <block id="1eefb1c24d47aae5c6e7188625d5ccdd" category="paragraph">特定のストレージアレイのサポート内容（サポートされる構成など）</block>
  <block id="6cfb282c437aaeff532b513c426f6d17" category="summary">ゾーニングを使用すると、ストレージ管理者は、特定のONTAPシステムがアクセスできるアレイLUNを制限できます。ONTAPでは、アレイLUNが各イニシエータポートの1つのターゲットポートでのみ認識される必要があります。</block>
  <block id="6a57dbf2177105ed83db82c67a5368fb" category="doc">ストレージアレイを使用した構成でのゾーニング</block>
  <block id="3778364da0b8a6c653daaf7a8cbd1b26" category="paragraph">Fibre Channel（FC）スイッチでゾーニングを設定すると、接続されているノード間のパスを定義して、共通のFC SANに接続されているデバイス間の認識や接続を制限できます。</block>
  <block id="6a85e48c78b51caf3a90cd76890f58a9" category="summary">ストレージ アレイを使用した構成で推奨されるゾーニングは、1対1のゾーニングです。1対1のゾーニングでは、各ゾーンに1つのFCイニシエータポートと1つのストレージアレイターゲットポートが含まれます。</block>
  <block id="3d548dbc670bf9a2781780b2b940ad71" category="doc">ストレージ アレイを使用した構成で推奨されるゾーニング</block>
  <block id="cd3fcd6a368ed731ab96525a961262b4" category="paragraph">1対1のゾーニングを作成する利点は次のとおりです。</block>
  <block id="4eb3095c99b351ce72b4d1a0ac482147" category="list-text">特定のアレイLUNにアクセスできるポートの数を制限します。</block>
  <block id="d45c0b023fcfc88d3c43ca50e2a0dd4e" category="list-text">FCイニシエータONTAPシステムが相互の検出を試行しないため、検出とブートにかかる時間が短縮されます。</block>
  <block id="93a1870fd45cc4eca7127772a4c509f5" category="summary">ONTAP FlexArray情報ライブラリへようこそ。ここでは、クラスタをストレージアレイと連携するように設定する方法について説明します。</block>
  <block id="8bb648e186f590f9b6a3596a6801b253" category="doc">FlexArray®仮想化インストール要件およびリファレンス</block>
  <block id="ce6f786c0c0f40ceff81b1d8273749f7" category="summary">すべてのパスを同じストレージアレイコントローラに設定するとSingle Point Of Failure（SPOF；単一点障害）のある構成になるため、ONTAPではサポートされていません。storage errors showコマンドを使用すると、同じストレージアレイコントローラに接続するようにパスが設定されているアレイLUNを特定できます。</block>
  <block id="39b24f9fa89626f28012e2818d60b270" category="doc">あるアレイLUNへのすべてのパスが同じストレージアレイコントローラにある</block>
  <block id="e8105432f0d9ff2b6d3a53d7b499e929" category="paragraph">すべてのパスを同じストレージアレイコントローラに設定するとSingle Point Of Failure（SPOF；単一点障害）のある構成になるため、ONTAPではサポートされていません。コマンドは、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 同じストレージアレイコントローラに接続するようにパスが設定されているアレイLUNを特定します。</block>
  <block id="6c69196b8345d65b470725c4c40e6993" category="paragraph">このエラーを修正するまで、ONTAPではアレイLUNをONTAPシステムに割り当てることはできません。</block>
  <block id="9fbdde521fb53bdc326355b385f98991" category="section-title">storage errors showのメッセージ</block>
  <block id="b72ac10807b29c77f5b7e4b80ea40414" category="section-title">説明</block>
  <block id="fdb4db08376910fe673f4e04aae2f245" category="paragraph">このエラーは、アレイLUNへのパスが同じストレージアレイコントローラまたはFRUに接続するように設定されていることが原因で発生します。</block>
  <block id="66c5796617c70dfeeb5ba5f30404c437" category="paragraph">冗長性を確保するには、アレイLUNへの4つのパス、複数のダイレクタを搭載したFRUを搭載したストレージアレイ（EMC SymmetrixやHDS USPなど）、またはデュアルコントローラを搭載したストレージアレイ（EMC CX、HP EVAなど）を使用することを推奨します。ただし、パスを単一のストレージアレイコントローラまたはFRUを経由するように設定すると、そのような機能を使用してもSPOFを含む構成になります。アクティブ/アクティブストレージアレイでは、FRU全体が1つの障害ドメインとみなされます。たとえば、EMC Symmetrixストレージアレイでは、同じFEBEボード上に複数のチャネルディレクタがあります。すべてのパスが同じFEBEボードを通過すると、ボードを交換する必要がある場合にすべてのパスが失われるため、FEBEボードは1つのフォールトドメインと見なされます。</block>
  <block id="28e7f6d553e63cd22b6510cc1ecf9095" category="paragraph">次の図は、単一の障害ドメインがないようにアレイLUNへの冗長パスを設定する場合の、正しいストレージアレイポートと間違ったストレージアレイポートの選択を示しています。左の例のパスは正しく設定されています。アレイLUNへのパスは冗長で、各接続がストレージアレイの別 々 のコントローラのポートに接続されているためです。右の例では、アレイLUNへの両方のパスが同じコントローラに接続されているため、SPOFが設定されます。</block>
  <block id="3902eddb9d2f5f8c067889411a715b23" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドは、同じ障害ドメインにあるアレイLUNを表示します。この問題は、の出力で[TPGN]列（ターゲットポートグループ番号）でも確認できます<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block> 。イニシエータポートペアの各イニシエータには、異なるTPGNが表示されます。ペアの両方のイニシエータでTPGNが同じである場合は、両方のイニシエータが同じ障害ドメインに属しています。</block>
  <block id="b04aa2fcf08739edb464c3ab6f186b86" category="paragraph">次の<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block> 例は、イニシエータ0aおよび0c経由でアクセスされるLUN 30のTPGN 1を示しています。パスが冗長構成の場合、各イニシエータに表示されるTPGNは異なります。</block>
  <block id="2fa6235aced0b5f5febb10e1e7c41407" category="paragraph">この例の完全なUIDは、600508B4：000B6314：00008000：01660000：00000000：00000000：00000000：00000000：00000000：00000000：00000000です。スペースのため、この例では省略されています。</block>
  <block id="3f207ce1448ab06ed1b21c567b363717" category="section-title">トラブルシューティングと問題解決</block>
  <block id="fb92d4afa5af799d71e0e47cf415f884" category="paragraph">アレイLUNへのパスを再設定して、冗長なストレージアレイコントローラまたはFRUに接続する必要があります。</block>
  <block id="27bf83631b61f768632ab5ec7877f942" category="list-text">もう一方のコントローラの冗長ターゲットポートにケーブルを追加します。</block>
  <block id="33ff66548d07e4428b146911db2a719b" category="paragraph">SPOFが発生しているコントローラからケーブルを取り外す前に、代替コントローラにケーブルを追加して、この問題を修正しながら冗長性を維持する必要があります。パスの数を1つに減らすのではなく、問題の修正中にパスの数を3つに一時的に増やすため、冗長性が確保されます。</block>
  <block id="ea1cb169526575b7c32eac69f5afe493" category="list-text">SPOFを設定したコントローラからケーブルを1本取り外します。</block>
  <block id="4391dc0a8c2501e7c6f5bec003bfc97a" category="paragraph">これで、アレイLUNへの2つの冗長パスが作成されました。</block>
  <block id="39067850758ffdc0b6340394454ef386" category="list-text">ONTAPコマンドラインから、次のコマンドをもう一度入力し、エラーが修正されたことを確認します。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="6550a6d62cfca4a19df9f7cb75fae47e" category="summary">ONTAPでは、アクセス制御アレイLUNはサポートされません。アクセス制御LUNが提供されている場合は、storage errors showの出力にアラートが表示されます。</block>
  <block id="b59abc18de07f249a2838cf61aae1d93" category="doc">アクセス制御LUNがONTAPに提供される</block>
  <block id="7175e731404c418bdbdfc8dc7f721023" category="paragraph">ONTAPでは、アクセス制御アレイLUNはサポートされません。アクセス制御LUNが提供されている場合は、の出力にアラートが表示され<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="c9a7dd34c976769fd29432ba21870a73" category="paragraph">ONTAPではストレージアレイLUNのみがサポートされます。E-Seriesアクセス制御LUNなどのアレイLUNがONTAPに提供された場合<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、の出力は正常な状態で、アクセス制御LUNは次の例のようにLUNグループ内に表示されます。画面下部の警告メッセージに問題があることが示されます。を実行して、アクセス制御LUNが提供されたこと、およびアクセス制御LUNがどのLUNであるかを確認する必要があり<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="175d0bf36dff2c0c29ddfdc3e8350449" category="list-text">ストレージアレイで、アクセス制御LUNをマスクします。</block>
  <block id="69929ec8103980b4ed86d74db80312ab" category="list-text">ONTAPでを再度実行し、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> アクセス制御LUNがONTAPに提供されなくなったことを確認します。</block>
  <block id="1e25e100102f9e59c153a88b3104da3a" category="summary">アレイLUNのサイズを計画する際は、ONTAPのアレイLUNの最小サイズと最大サイズの制限に従う必要があります。これらの制限はONTAPのリリースによって異なります。storage errors showの出力に、サイズの要件を満たしていないアレイLUNが表示されます。</block>
  <block id="6356a767e1aa1442ed94f740a8a204ef" category="doc">アレイLUNのサイズがサポートされる値以下です</block>
  <block id="978b78d1e8b493868c2769321a1bd8a4" category="paragraph">アレイLUNのサイズを計画する際は、ONTAPのアレイLUNの最小サイズと最大サイズの制限に従う必要があります。これらの制限はONTAPのリリースによって異なります。の出力には、サイズの要件を満たしていないアレイLUNが表示され<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="15a9774f7574e358b1d012dbed7d1083" category="paragraph">サイズに問題があるアレイLUNをONTAPシステムに割り当てることはできません。</block>
  <block id="1d00e7dce692e8dc3f6877f035e3a616" category="paragraph">または</block>
  <block id="fee9e1cad3d21cc941bdd5e36e9018af" category="paragraph">このメッセージは、アレイLUNがONTAPでサポートされるアレイLUNの最小サイズより小さい場合、または最大サイズを超えた場合に生成されます。アレイLUNのサイズがサポートされる値よりも大きくなったり小さくなったりする主な理由は次のとおりです。</block>
  <block id="e7977cf777a5857c08400068e896906d" category="list-text">ストレージアレイ管理者が、ONTAPアレイLUNのサイズ制限を、ベンダーが定義している測定単位に変換しなかった。</block>
  <block id="b378ef8d656f6aed345bf6057273630f" category="paragraph">一部のベンダーでは、アレイLUNのサイズ制限をONTAPとは異なる方法で計算し、アレイLUNの最小サイズと最大サイズの制限を決定しています。</block>
  <block id="e6afcb7337a35c15c80e0974b1244a20" category="paragraph">_ lun _に、サポートされるアレイHardware Universeの最大サイズと最小サイズの制限値を示します。</block>
  <block id="c1c0598d98c2ad431e1df1d2986deadc" category="list-text">アレイLUNが、ONTAPとサイズ制限が異なる別のホスト用である。</block>
  <block id="ce917fe307a3beab55e97222fa4bfb62" category="paragraph">オープンSANでは、他のホスト用のアレイLUNがマスクされていない場合、ONTAPが認識されます。</block>
  <block id="e3d749990d8a6147540732a09f5f76bc" category="paragraph">認識されているアレイLUNのサイズに問題がある場合、ONTAPでエラーメッセージが生成されます。</block>
  <block id="4ee4419701052ada6bb4d1751f1cdd75" category="list-text">の出力を確認して<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 、サイズに問題があるアレイLUNを特定します。</block>
  <block id="5ef64706f465468c8a2cbc730d724f68" category="list-text">サイズに問題があるアレイLUNがONTAP用である場合、ストレージアレイ管理者はONTAPの要件に合わせてアレイLUNのサイズを変更し、ONTAPに再度提供する必要があります。</block>
  <block id="43257107a9f5463b5fd3fa4056f1eeb2" category="list-text">サイズに問題があるアレイLUNが別のホスト用である場合、ストレージアレイ管理者はそのアレイLUNをマスキングしてONTAPで認識されないようにする必要があります。</block>
  <block id="a1c365342d83ef8419fbc334e504d241" category="list-text">問題を修正したら、を再度実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> エラーが解消されたことを確認します。</block>
  <block id="aa20b032081f0dec5a8c0fb8b88a998c" category="summary">アレイLUNでホストされているデータをネイティブ形式のONTAPにインポートできます。foreignとマークされているアレイLUNの内容をインポートするプロセスは、インポート時にアレイLUNに外部ホストが予約されている場合に影響する可能性があります。</block>
  <block id="07a8f194cac565723fb3b36167faba09" category="doc">アレイLUNがforeignとマークされており、予約されています</block>
  <block id="15c756cb242a232e8f61dbd983fd85e8" category="paragraph">アレイLUNでホストされているデータをネイティブ形式のONTAPにインポートできます。foreign *とマークされているアレイLUNの内容をインポートするプロセスは、インポート時にアレイLUNに外部ホストが予約されている場合に影響する可能性があります。</block>
  <block id="568a7a98d89a07f08d754cea27591bfb" category="paragraph">このエラーは、ONTAP管理者がインポートプロセスを開始する前に、LUN上の外部ホストアプリケーションによって作成された予約がクリアされない場合に発生します。インポート処理が失敗し、コマンドの出力にメッセージが表示されます<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 。</block>
  <block id="27f0e97332067bed88f24f1dbcade864" category="paragraph">インポート処理を実行するには、予約をクリアする必要があります。</block>
  <block id="e0e9674a627633c81602dbe782944677" category="paragraph">この問題を解決するには、ストレージアレイ管理者がアレイLUNから永続的予約を削除する必要があります。</block>
  <block id="4261fc46c094d0599ee42826c6c10d9e" category="paragraph">永続的予約は、アレイLUNデータにネイティブ形式でアクセスする外部ホストから削除するか、ONTAPコマンドを使用して削除できます。次のONTAPコマンドを使用して予約を削除できます。</block>
  <block id="f5d9f64646b098d891a844e224bc7315" category="list-text">の出力を確認して、予約があるアレイLUNを特定します。次の例を参照して<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ください。</block>
  <block id="94cd14318c7ed844232dad1c75799141" category="list-text">_admin_modeにアレイLUNの内容をインポートできないため、コマンドを実行して<block ref="0581d0d071ad835f74bf419081ce5d75" prefix=" " category="inline-code"></block> _advanced_modeに切り替えます。</block>
  <block id="c3d0528eb664b63a23699f2832ab5f0e" category="list-text">コマンドを使用し<block ref="07391ed2a70412ea685a0e5f6e6152d3" prefix=" " category="inline-code"></block> て、特定されたアレイLUNから永続的予約を削除します。</block>
  <block id="f277b29620cdccbef9e81a0a652403c4" category="list-text">コマンドを使用し<block ref="76ffc50817aa4cd6214aa0061339fdf6" prefix=" " category="inline-code"></block> て、アレイLUNの内容をONTAPにインポートするプロセスを開始します。</block>
  <block id="ad1f95e95bfb1ec6e69a7c3ab8d57bce" category="summary">ONTAPでは、特定のONTAPシステムが認識するアレイLUNは、同じフェイルオーバーモードに設定する必要があります。一部のストレージアレイでは、アレイLUNへのパスごとに異なるフェイルオーバーモードを設定することができます。</block>
  <block id="7fe6ee56f8577f0bc875be3bc1d5c898" category="doc">アレイLUN間でフェイルオーバーモードが競合している</block>
  <block id="162cfdb79f4f86a3cb842595c2dbfc17" category="paragraph">EMC CLARiXストレージアレイなど、一部のストレージアレイでは、FCイニシエータポートによってフェイルオーバーモードを設定できます。このようなストレージアレイでは、同じONTAPシステムのFCイニシエータから認識されるアレイLUNに異なるフェイルオーバーモードを設定することができます。ONTAPでは、特定のONTAPシステムからアレイLUNへのパス間でフェイルオーバーモードが異なる構成はサポートされていません。</block>
  <block id="78e2a5b091e589afa7f33dd6c8e46c23" category="paragraph">FCイニシエータによるアレイLUNのフェイルオーバーモードの設定がストレージアレイで許可されている場合は、ONTAPシステムが認識するアレイLUNでフェイルオーバーモードの設定に問題がないことをインストールの検証プロセスで確認する必要があります。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドでは、アレイLUNに異なるフェイルオーバーモードが設定されているとアラートが表示され、EMSメッセージが生成されます。</block>
  <block id="74a45545ab730e718b95ea8fd1ff6bd5" category="paragraph">アレイLUNのフェイルオーバーモード設定が一貫していなくてもシステムは動作しますが、この問題はできるだけ早く解決する必要があります。そうしないと、パスで障害が発生した場合に、ONTAPシステムが正常に動作しなかったり、フェイルオーバーが実行されなかったり、システムがパニック状態になったりする可能性があります。</block>
  <block id="0877bb3f4810641a8eb98f0635f51bdb" category="paragraph">ONTAPでは、ONTAPを実行するノード間で、異なるフェイルオーバーモード設定がサポートされます。たとえば、ノードAでアレイLUNへのパスにアクティブ/パッシブモードを使用し、ノードBで同じアレイLUNへのパスにALUAを使用できます。</block>
  <block id="46af1ff1f21fc19137280bafaea3e8c2" category="paragraph">LUNの初期化中にONTAPで検出された最初のパスのフェイルオーバーモードが、ONTAP特定のONTAPシステムのLUNへのすべてのパスのフェイルオーバーモードとみなされます。その後検出されたパスのフェイルオーバーモードが最初のパスのフェイルオーバーモードと一致しない場合、ONTAPはエラーメッセージを表示します。</block>
  <block id="515663632ca1d0cb2db823c43a379b8c" category="paragraph">次の<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 例では、ONTAPから、mysystem1のFCイニシエータ0aで認識されるLUN EMC-1.128のフェイルオーバーモードが_proprietary _であり、そのアレイLUNの最初のパスでONTAPが検出したフェイルオーバーモードと異なることがわかります。</block>
  <block id="413dc77591ded7d3429d4347e7b22c1c" category="paragraph">ストレージアレイでフェイルオーバーの不一致を修正する必要があります。ただし、この問題を修正する手順は、最初のパスでONTAPが検出したフェイルオーバーモードが、ONTAPシステムからアレイLUNへのすべてのパスに使用するフェイルオーバーモードであるかどうかによって異なります。</block>
  <block id="eb4878ab48ead56d0c9c6f6a88f9a5cd" category="list-text">と入力します（インストールの検証プロセスで入力していない場合）。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="ac3c3d8218ef374b55067196c9f67cf1" category="paragraph"><block ref="3b15a40b2aa035a12fa64ab3bb4bbcdb" prefix=" " category="inline-code"></block>修正が必要な問題がある場合は、コマンドを実行するように指示され<block ref="151f929b03b8410799a173907e1b0ec0" prefix=" " category="inline-code"></block> ます。</block>
  <block id="0d407531a2137393190f9041fd89a30a" category="list-text">の出力を確認して<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 、ONTAPの想定と一致しないアレイLUNのフェイルオーバーモード設定を確認します。</block>
  <block id="2d6cb0fc202fffa14fd9846105c99fc4" category="cell">最初のパスで検出されたフェイルオーバーモード</block>
  <block id="21580ae8d219ab8f0d34434cc4c7efff" category="cell">必要な処理</block>
  <block id="fbdfff9c2ebd4e2d9fed90eabfc337d1" category="paragraph">必要なもの</block>
  <block id="8f97050ba45f2499f87c3be526b550e9" category="paragraph">希望するフェイルオーバーモードはALUAで、ONTAP最初のパスで検出されたフェイルオーバーモードはALUAである</block>
  <block id="637fc14a0fd745ac90c0f4df6abda12a" category="paragraph">エラーメッセージに表示されたイニシエータのフェイルオーバーモードをストレージアレイで変更しONTAPます。手順3に進みます。</block>
  <block id="b0095c682a37af2c53c256553dc3eb5c" category="paragraph">希望とは異なる</block>
  <block id="c085538ad4b19d76cea3ec5f4564b85d" category="paragraph">希望するフェイルオーバーモードはアクティブ/パッシブだが、ONTAP最初のパスで検出されたフェイルオーバーモードはALUAである</block>
  <block id="1fabaa7f733eabc7bf2802f047665cc4" category="paragraph">アレイLUNがONTAPシステムで認識されないようにします。手順4に進みます。</block>
  <block id="958bf9559c5661f13d721671501a864d" category="list-text">イニシエータのフェイルオーバーモードを変更する必要がある場合は、次の手順に従って不一致を修正してください。</block>
  <block id="700f53abeb9b26a2d1bed7e0b852a30d" category="paragraph">この手順は、最初のpath_is_で目的のフェイルオーバーモードが検出された場合に使用します。</block>
  <block id="bfbde2686118ee284dae3a52ad28f64d" category="list-text">ONTAPで、2番目のパスをオフラインにします。</block>
  <block id="c54cd3867f605957eeddb01ab97c308f" category="list-text">エラーメッセージに示されたイニシエータのフェイルオーバーモードをストレージアレイで変更しONTAPます。</block>
  <block id="4302172ae645c69cfa944a124a3cf0e2" category="list-text">ONTAPで、2番目のパスをオンラインに戻します。</block>
  <block id="dcfa595cd90a10571633eabc75f5c8de" category="list-text">不一致の問題を修正するためにONTAPシステムでアレイLUNが認識されないようにする必要がある場合は、アレイLUNがスペアであるかアグリゲートに含まれているかに応じて、次のいずれかの方法を選択します。</block>
  <block id="720b9d4b9fd41483e93d2784b90d9c83" category="paragraph">最初のパス_で検出されたフェイルオーバーモードが希望どおりでない場合は、これらの方法のいずれかを使用します。</block>
  <block id="64eec0361499c67c472452842fe09265" category="cell">方法1：アレイLUNがスペア（アグリゲートの一部ではない）である</block>
  <block id="67c70872c3955c4e98464201c43e36b3" category="cell">方法2：LUNがアグリゲートに含まれている</block>
  <block id="34c9c7a8f4a1003d42498ed900ae2bdf" category="paragraph">この方法では、ONTAPシステムをリブートする必要はありません。</block>
  <block id="5c6fb741cdb148e82d28cf80936a05db" category="list-text">ONTAPで、該当する各スペアLUNに対して次のコマンドを実行します。<block ref="c779cebf2d19af405bc377d5a4333546" prefix=" " category="inline-code"></block></block>
  <block id="936a0eefa7dc0e027d766ccd8dcba1c8" category="list-text">ストレージアレイで、該当する各アレイLUNをONTAPシステムへのすべてのパスでマスクします。</block>
  <block id="706dd475e96ca98cb910e5c265e3e56f" category="list-text">1分ほど待ってから、アレイLUNがONTAPシステムで認識されなくなったことを確認します。</block>
  <block id="31b0ff0db3f031f4bb67a3ff18f68284" category="list-text">ONTAPシステムの各FCイニシエータに同じフェイルオーバーモードを設定します。</block>
  <block id="0d56b2c7d26ead6b0d9eba27f957b655" category="list-text">該当するすべてのアレイLUNをONTAPシステムに再度提供します。</block>
  <block id="2db43662065422f0310615328d412923" category="paragraph">ONTAPが次回LUN検出を実行するときに、LUNを検出する必要があります。</block>
  <block id="d0d1e30343d01b4b597173e4e94d8987" category="list-text">を実行して、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> フェイルオーバーモードのエラーが解消されたことを確認します。</block>
  <block id="3548aa80c5d4d7c64eb02f6f8437d9b7" category="paragraph">この方法では、ONTAPシステムをリブートする必要があります。</block>
  <block id="328bded7897b5981be620e89eca27de9" category="list-text">ONTAPシステムをリブートし、Loaderプロンプトを表示したままにします。</block>
  <block id="8f10e8dbbfc5db36a2accbf2934fbfdd" category="list-text">ストレージアレイで、このシステムのFCイニシエータのフェイルオーバーモード設定を確認し、必要に応じて目的のフェイルオーバーモードに更新します。</block>
  <block id="719995ffceffe18b9725fe8ce3f22e3e" category="list-text">ONTAPシステムをリブートします。</block>
  <block id="e5d3fd4b59ed865b68a6a06007230a05" category="summary">ONTAPのいくつかのコマンドは、ストレージアレイの構成に関する情報（バックエンド構成エラーを含む）を提供します。これらのコマンドは、インストールの検証やトラブルシューティングに特に役立ちます。</block>
  <block id="a8b7678d83c35ba2b05cafe46e0ccb81" category="doc">バックエンド構成の確認用コマンド</block>
  <block id="2a6607df2bb8de0ff32b60de6f892b45" category="paragraph"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block>コマンドは、インストールの検証時に最初に使用するコマンドです。また、システムが想定どおりに動作していない場合や、エラーメッセージが表示された場合に使用する最初のコマンドでもあります。</block>
  <block id="95680a39887791d32bf13b01c397d195" category="paragraph">次の表に、インストールの検証とトラブルシューティングに特に役立つコマンドを示します。</block>
  <block id="ee97be03cb04119af45014d815621ce1" category="cell">コマンド</block>
  <block id="c9e8190f768032a3064dd5f7922aca1d" category="paragraph"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix="" category="inline-code"></block></block>
  <block id="e75ea2a96ce4ad7c99849fdc2bcf8b75" category="paragraph">アレイLUNを使用するONTAPシステム環境でのバックエンドデバイスの構成に関する情報をストレージアレイレベルで提供します。このコマンドは、ストレージアレイとクラスタの接続方法を表示します。アレイLUNを使用するONTAPシステムとストレージアレイの連携に支障をきたす問題がONTAPで検出された場合、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> を実行すると、を実行してエラーの詳細を確認するように指示されます<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 。</block>
  <block id="fa7a32587af1467e5fc89736935711fb" category="paragraph">このコマンドは、構成が意図したとおりに設定されていることを確認する場合にも役立ちます。たとえば、の出力で、想定数のアレイLUNグループが作成されたことを確認できます。</block>
  <block id="6d5fdc4d63e5218c7ca2c0a0416817c2" category="paragraph"><block ref="de435a76b3e591bd7f040f87f88fe217" prefix="" category="inline-code"></block></block>
  <block id="6058464099941ade595076bc32a97569" category="paragraph">クラスタに認識されるすべてのストレージアレイ、または指定したストレージアレイに関する情報を表示します。提供されたアレイLUNの数がシステムの容量を超えると、ONTAPで検出できなかったLUNの数が[Error]テキストフィールドに表示されます。特にメモリ不足のシステムでは、この問題に注意する必要があります。</block>
  <block id="962eef15326ad855a5a0625edce49105" category="paragraph"><block ref="287f29cba279612dd4284ff8e8536bd2" prefix="" category="inline-code"></block></block>
  <block id="5f9e1f87025f698628b33bd5d5cc76bb" category="paragraph">特定のパス上の特定のアレイLUNへのI/Oを一時的に中断します。パスは、リブート時またはを実行すると再びアクティブになり<block ref="e9a2aeb600821c0310520590fefe5eb0" prefix=" " category="inline-code"></block>ます。一部のストレージアレイでは、アレイLUNを削除または移動するために一定期間I/Oを停止する必要があります。</block>
  <block id="349ebc15db01dea0c47c6dad3b3c3e39" category="paragraph"><block ref="287f29cba279612dd4284ff8e8536bd2" prefix=" " category="inline-code"></block>IBM DSストレージアレイではコマンドを使用できません。</block>
  <block id="37529505e72be3782b17b9d384a8096a" category="paragraph"><block ref="e9a2aeb600821c0310520590fefe5eb0" prefix="" category="inline-code"></block></block>
  <block id="6dbd95234796f3e2187ea23fcff0d2d6" category="paragraph">I/Oフローを再開できます。これは休止の逆です。<block ref="e9a2aeb600821c0310520590fefe5eb0" prefix=" " category="inline-code"></block>コマンドは、主にハードウェアのメンテナンス時（ケーブルやGBICを取り外す場合など）や、アレイLUNへのパスが誤って休止された場合に使用します。パスの休止後にこのコマンドを実行する必要があるとは限りません。たとえば、新しくマッピングされたアレイLUNをONTAPで検出できます。</block>
  <block id="0457fdb9406a149c8d9ed9b199fc31f3" category="paragraph"><block ref="d90ba20b63acab53952d68665c50ec47" prefix="" category="inline-code"></block></block>
  <block id="2ae398e0feda492571aaf4834d7f65a3" category="paragraph">クラスタで認識されるストレージアレイに関する情報（名前、ベンダー、モデル、 およびフェイルオーバータイプ。</block>
  <block id="aef2d68ce514382ca5e133b7ec208ecf" category="paragraph"><block ref="242f4ce1948273386f8bb487bdd3732f" prefix="" category="inline-code"></block></block>
  <block id="43a56904cf125aa547f02296199d11cb" category="paragraph">パラメータを指定せずにを入力すると、<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block> すべてのディスクおよびアレイLUNについて、名前、使用可能なサイズ、コンテナタイプ、位置、アグリゲート、 そして所有者。パラメータとしてディスク名またはアレイLUN名を指定してを入力すると<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block> 、そのディスクまたはアレイLUNの詳細（割り当て済みまたは未割り当て）、所有者、アレイLUNのパスなど）が表示されます。出力は3つのセクション（アレイLUNに関する情報、アレイLUNへのパスに関する情報、およびアレイLUNに関連するエラー）に分かれます。</block>
  <block id="7579e6e8e891fe424124a1b5bd956e78" category="paragraph"><block ref="561b286e376eb6dc19cf504b1bd46d0a" prefix="" category="inline-code"></block></block>
  <block id="90a28327dbea650666e593d89b61a791" category="paragraph">パラメータを指定してを入力すると、<block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block><block ref="79fbfda8b7386fc7acd19e719fbde2c6" prefix=" " category="inline-code"></block> ディスクレベルおよびアレイLUNレベルの構成エラーの詳細が表示されます。コマンドの出力はコマンドの出力に似ていますが<block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block> 、に<block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block> は、ノード、クラスタ、ベイの位置などのパラメータで出力をフィルタリングするためのオプションが用意されています。</block>
  <block id="c748c086399e23f8955ada480c83cfbd" category="paragraph"><block ref="78daa9bac8cf0c6fd85c934dee156359" prefix="" category="inline-code"></block></block>
  <block id="3924980d727db384fe0582de22d7fa62" category="paragraph">バックエンド構成エラーの詳細がディスクレベルおよびアレイLUNレベルで表示されます。パラメータとしてアレイLUN名を指定してshowを入力すると<block ref="0aee518ce1a2203e4e40fdc46f3fcea1" prefix=" " category="inline-code"></block> 、指定したアレイLUNに関連する構成エラーの詳細が表示されます。これらのエラーは、ストレージアレイと連携するようにONTAPを設定する前に解決しておく必要があります。</block>
  <block id="b987e4f9e0778908beb83e23ee3871cd" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix="" category="inline-code"></block></block>
  <block id="17e5413c39fa512c66fd0d785ce16f2a" category="paragraph">ONTAPシステムとストレージアレイの連携に支障をきたすバックエンド構成エラーの詳細をアレイLUNレベルで表示します。で特定されたエラーは、ストレージアレイに対してONTAPを設定する前に修正する必要があります<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 。</block>
  <block id="32e7da7753dc2e1caa157a76367e09fe" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドでは、ディスク構成エラーに関する情報は提供されません。ディスクとアレイLUNの両方の構成エラーに関する情報を表示するには、コマンドまたはコマンドを使用し<block ref="098a533340b7b8ccf2735271ea020139" prefix=" " category="inline-code"></block><block ref="78daa9bac8cf0c6fd85c934dee156359" prefix=" " category="inline-code"></block> ます。</block>
  <block id="8e4aa4c1fb114d81ef43ee2e42c5096d" category="summary">ストレージアレイの同じターゲットポート上の各アレイLUNには一意のLUN IDを割り当てる必要があります。storage errors showの出力には、同じターゲットポートで同じLUN IDが割り当てられているLUNが表示されます。</block>
  <block id="179ab77fe07f4f0a8d9dbbc42a896884" category="doc">ターゲット ポートでLUN IDが重複している</block>
  <block id="9f36d8775187712cd067cb7ed54f2963" category="paragraph">ストレージアレイの同じターゲットポート上の各アレイLUNには一意のLUN IDを割り当てる必要があります。の出力に<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> は、同じターゲットポートで同じLUN IDが割り当てられているLUNが示されます。</block>
  <block id="c8cdeb57f369a52fc3ce9e05ae1ab044" category="paragraph">通常、ターゲットポートでLUN IDが重複する原因はゾーニングエラーです。ある管理者が、ONTAPシステムの複数のFCイニシエータを別 々 のホストグループに割り当ててストレージアレイに複数のLUNグループを作成したにもかかわらず、別 々 のホストグループのイニシエータが同じターゲットポートにアクセスできるように誤ったゾーニングを設定した場合。</block>
  <block id="2ad80db6463b62cdb12a09c4100df305" category="paragraph">このようなゾーニングエラーがあると<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、の出力には、ターゲットポートが同じ2つのLUNグループが表示されます。</block>
  <block id="eb350b8df2422581b6dc9f18c7979816" category="section-title">問題のシナリオ</block>
  <block id="0ca7a096820c08a924f03bf820955bb3" category="paragraph">管理者は、4つのLDEV（a、b、c、d）をONTAP用にマッピングしたいと考えています（2つのLUNグループそれぞれに2つのLDEV）。このシナリオでは、ストレージアレイがイニシエータポートにLDEVを提供するとします。イニシエータがストレージアレイにアクセスするターゲットポートは考慮されません。つまり、ホストグループはターゲットポートに固有ではありません。LUNグループの作成には、ゾーニングを使用して各イニシエータがアクセスするターゲットポートを制御する必要があります。</block>
  <block id="3f2082b4e54a2012253d1c50865f9636" category="paragraph">HP EVAなどの一部のストレージアレイでは、ホストグループはすべてのターゲットポートで同じです。Hitachiなどの他のストレージアレイでは、ホストグループはターゲットポートに固有です。</block>
  <block id="086593c9eca93a9b605ea857981a372d" category="paragraph">管理者は、次のように2つのホストグループを正しく設定して、2つのLUNグループを作成します。</block>
  <block id="ff12299f300cd26e63c1a821713da997" category="cell">ホストグループ</block>
  <block id="9f0d9ebb58895ef69f669f5c28a2689d" category="cell">ホストグループ内のFCイニシエータ</block>
  <block id="1f897f088dad9b3de1cb1d6d89e130a7" category="cell">LDEVと関連付けられているLUN ID</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="paragraph">1</block>
  <block id="c28fea466df67765e3e96d17af0fd91b" category="paragraph">0a0c</block>
  <block id="4d2e124f1b49eb60a7cd6a5dd9ac622b" category="paragraph">LDEV A / LUN 1LDEV b / LUN 2</block>
  <block id="b8e0ba0ce5d035b1987a67dc22ba54c8" category="paragraph">0b 0d</block>
  <block id="b1ae37646d6a90f4999483131ec6491e" category="paragraph">LDEV c / LUN 1LDEV d / LUN 2</block>
  <block id="4af7f256dac51fd61b45bca97931419a" category="paragraph">ゾーニングは次のように設定する必要があります。</block>
  <block id="ec0d9ef5c8fdd72aa9d4ac5df2b9a51d" category="list-text">ホストグループ1のイニシエータ0aと0cをターゲットポートペア1Aと2Aにゾーニングします。</block>
  <block id="e8079ab1c55d6219885a39b6cdeac39a" category="list-text">ホストグループ2のイニシエータ0bと0dをターゲットポートペア1Bと2Bにゾーニングします。</block>
  <block id="8b379355dc8e6e9667bfbd949807bd47" category="paragraph">上記の表で、LDEV aとLDEV cのLUN ID（L1）が同じであることに注目してください。同様に、LDEV bとLDEV dのLUN ID（L2）はどちらも同じです。異なるターゲットポートでのLUN IDの再利用はサポートされているため、ゾーニングが正しく設定されていれば、LUN IDの重複は問題になりません。</block>
  <block id="db0788511ffbb438d82c79b868a1cf2f" category="paragraph">このシナリオで問題となるのは、次の表に示すように、ゾーニングの設定時に一部のイニシエータが間違ったゾーンに配置されることです。</block>
  <block id="47f8770b3d8aeb7f22efae5a967ac4bf" category="paragraph">スイッチvnbr200es25</block>
  <block id="46fa8c3d7b3cc14a2d3d89f1631c76bb" category="paragraph">ポート0b</block>
  <block id="260a0bf152107a86da1cf2fffa427942" category="paragraph">ポート1A（1Bではなく）</block>
  <block id="26f61d23aba4131eebca03b4936ec446" category="paragraph">スイッチvnci9124s53</block>
  <block id="01552889b97ff6021c975d7c45939e21" category="paragraph">ポート0d</block>
  <block id="b15f76e53878913d21e67e123ff55a1f" category="paragraph">ポート2A（2Bではなく）</block>
  <block id="3cdf33728a36147fd17cdb09f99a87c1" category="paragraph">次の図は、ゾーニングエラーの結果を示しています。</block>
  <block id="cc7c651fd6c511b7d513ef1cced0ca1d" category="paragraph">図からわかるように、2つのLUNグループが作成されます。ただし、ゾーニングエラーのため、LUNグループ0とLUNグループ1が同じターゲットポートペア（1Aと2A）に配置されており、各ターゲットポートペアにLUNグループが1つずつ配置されているわけではありません。</block>
  <block id="c583bb98b9dfb18ed4c05edbac73d800" category="paragraph"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block>この例では、の出力に2つのLUNグループが表示されています。問題は、2つのLUNグループのターゲットポートが同じであることです。</block>
  <block id="40fd9bbec75eefd51c523f0a2f3a0ab9" category="paragraph">の出力を次に示します<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 。この例では、問題のあるLUNが特定されています。</block>
  <block id="0618e19ca5c359ee74225dfc859abf3b" category="paragraph">この<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 例では、4つすべてのLDEVのUIDが表示されていますが、一意のLUN IDはLUN 1とLUN 2の2つだけです。 4つではなく。</block>
  <block id="564d247a7b93ff0517c0bf741a6cee87" category="paragraph">ストレージアレイ管理者は、異なるホストグループのイニシエータが同じターゲットポートにアクセスできないようにゾーニングを修正する必要があります。</block>
  <block id="385281308f899bae9903bd9bee747ff6" category="list-text"><block ref="3b15a40b2aa035a12fa64ab3bb4bbcdb" prefix=" " category="inline-code"></block>の出力で、同じターゲットポートにアクセスしているイニシエータを探します。</block>
  <block id="1f0d3b7f2f3f9c895a3da6040bbfbbe8" category="list-text">エラーの詳細を表示するには、次のコマンドを入力します。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="ce8a7696f6569fbc0829e2858f8289a8" category="list-text">LUN IDが重複しているLDEVを特定します。</block>
  <block id="26e3af73ef202df9c1d7f47ff5c7b04c" category="list-text">同じONTAPシステムの複数のイニシエータがマッピングされているコントローラ1の各ターゲットポートについて、2つのFCイニシエータが同じターゲットポートに_not_talkingになるようにゾーニングを変更します。</block>
  <block id="04eb5ad8f940522a032da7223b56ba89" category="paragraph">異なるホストグループのイニシエータを同じゾーンに配置することはできないため、この手順を実行します。この手順は、アレイLUNへのパスが常に確保されるように、一度に1つのイニシエータで実行する必要があります。</block>
  <block id="81452ffee17324f746f0c04544599fa7" category="list-text">コントローラ2で同じ手順を繰り返します。</block>
  <block id="d23697f0b730538508eaf4c6ccdd9dd1" category="list-text">ONTAPにと入力し<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 、エラーが修正されたことを確認します。``</block>
  <block id="b00c6abd48470a5fb35996618e369d29" category="summary">ONTAPでアレイLUNを使用する場合は、ONTAP環境で必要なアレイLUNの数に影響する要因として、アレイLUNのサイズ、ONTAPのオーバーヘッド、チェックサム方式などを考慮する必要があります。</block>
  <block id="7449932cb1c58aaa3eca5f5fa8e11005" category="doc">必要なアレイLUN数に影響する要因</block>
  <block id="8b22cd04e447090bc07ce1150af6785f" category="paragraph">必要なアレイLUN数を決定する際は、次の点を考慮してください。</block>
  <block id="6e379c24d6e4e76bb8ea4e72bc77028b" category="list-text">アレイLUNのサイズが小さいほど、ストレージに必要なLUNの数が多くなります。</block>
  <block id="ccf4c36a4356bde8eb20a03d88d332f4" category="paragraph">特定のストレージアレイRAIDグループから大容量アレイLUNを1つ作成することを推奨します。</block>
  <block id="180c50aeb6c1e4a08d66e4e381cd1ae2" category="list-text">ONTAPシステムに割り当てることができるディスクとアレイLUNの最大数は、デバイスの制限によって定義されます。</block>
  <block id="178de93478fc8fb991b1c6ea33897f27" category="paragraph">_ Hardware Universe _には、デバイス制限に関する情報が含まれています。</block>
  <block id="a678c5b7fb6913121737c83515d67a4f" category="list-text">アレイLUNの使用可能スペースが多いほど、必要なアレイLUNの数は少なくなります。</block>
  <block id="f518ec89ebef9eff93d46c642914f8bc" category="paragraph">アレイLUNの使用可能なスペースは、ONTAPで必要なスペース、チェックサム方式、およびオプションのSnapshotリザーブに必要なスペースなどのその他の要因によって決まります。</block>
  <block id="ef68c9ce69a21f93e64f48026015d0e2" category="list-text">アプリケーションによって生成される負荷は異なります。</block>
  <block id="9308a83bcb23f79ed76f8b627b46c73e" category="paragraph">ONTAPシステムへのアレイLUNの割り当てを決定する際には、ストレージの用途、およびさまざまなアプリケーションで生成される可能性が高い要求数を考慮する必要があります。</block>
  <block id="e78f09f439c8aa28d958a2e9f659f0dd" category="summary">Vシリーズシステムは、FCイニシエータポートを介してネイティブディスクシェルフに接続する必要があります。接続に必要なイニシエータポートの数は、VシリーズシステムがスタンドアロンシステムかHAペアに含まれているかによって異なります。</block>
  <block id="49c84b94b5a87576f17554c857f4f2ff" category="doc">ネイティブディスクへの接続に必要なFCイニシエータポート</block>
  <block id="6c917d52aff7e3b0f11b6938cbe8dfe9" category="paragraph">次の表に、Vシリーズシステムをネイティブディスクシェルフに接続するために必要なFCイニシエータポートの数を、システム構成別に示します。</block>
  <block id="5c67466df5d19b056c4c84d0e6cfecca" category="list-text">1つのループを使用している場合は1つのFCイニシエータポート</block>
  <block id="dcad51377dcc90e2651b21495666c024" category="list-text">2つのループを接続する場合：2つ（各ループに1つ）</block>
  <block id="556696d309aaf81ce29c6a76f8f8a503" category="paragraph">HAペア</block>
  <block id="a54c3abebe5399c2ced56046f3fa3ed9" category="list-text">マルチパスストレージを使用している場合：各ループに2つ</block>
  <block id="99c53030fa81d748931817773a223b5b" category="list-text">マルチパスストレージを使用していない場合：構成内の各ループについてコントローラごとに1つ</block>
  <block id="e6f3380e84750a722d935bbb92fd4210" category="summary">アレイLUNへのパスが複数ない主な原因は、マッピングエラー、ゾーニングエラー、ケーブルの脱落です。storage errors showの出力から、パスが1つしかないアレイLUNを特定できます。</block>
  <block id="d93edbdb3f172d590ff190235f5ff2fb" category="doc">アレイLUNへのパスが複数ない</block>
  <block id="b5fd4d34a9abbce96ff2ff10e597e148" category="paragraph">アレイLUNへのパスが複数ない主な原因は、マッピングエラー、ゾーニングエラー、ケーブルの脱落です。の出力から、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> パスが1つしかないアレイLUNを特定できます。</block>
  <block id="6775e19b404437a41a329b0adeb72bda" category="paragraph">ONTAPでは、デバイスで障害が発生しても引き続きアレイLUNにアクセスできるように、アレイLUNへのパスを冗長化する必要があります。各アレイLUNへのパスが2つ必要です。</block>
  <block id="5523b6970b2d94220c269bde83a4f4b6" category="paragraph">アレイLUNへのパスが複数表示されない理由は次のとおりです。</block>
  <block id="3d0e53da3e0588f45f6f87fdfcddc985" category="list-text">LDEVが1つのストレージアレイポートにのみマッピングされている。</block>
  <block id="c1cbdb9b01988ee6386828bf1c301041" category="list-text">アレイLUNへの2番目のパスがゾーニングされていません。</block>
  <block id="34c2dba4936bd70413844b626e2f776c" category="list-text">ホストグループマッピングに問題があります。</block>
  <block id="c541f9c776aa6d96dca3bc583463d14b" category="list-text">スイッチの接続に問題があります。</block>
  <block id="a6cf855c84fd1088fc67484154549515" category="list-text">ケーブルが脱落した。</block>
  <block id="fd95667081b3a33fca244b585854686c" category="list-text">アダプタでSFPに障害が発生しました。</block>
  <block id="9a94604a96d5c905c9c6805c80728503" category="paragraph">実行中のシステムでパスがドロップアウトすると、EMSメッセージが生成されます。</block>
  <block id="0c6dc9960cad7cb0da0acaacbae7cede" category="paragraph">マッピングエラーの例では、ストレージ管理者が新しいLDEV Zを作成したとします。LDEV ZをLUN ID 3としてターゲットポート1Aにマッピングしました。次の図に示すように、ターゲットポート2AにLDEVをマッピングしませんでした。その結果、アレイLUNへのパスが1つだけになります。</block>
  <block id="01a279115db1446ca2d571f41052b357" category="paragraph">このエラーが発生すると<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、次の例のように、の出力にLUNへのパスが1つしか表示されません。</block>
  <block id="bc2ba4888f6efed3ea518be41a186ff8" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドの詳細情報から、パスが複数ないLUNを特定することができます。</block>
  <block id="21b1b9af6bbfe59ec9931a7687bbef02" category="paragraph">この例のUIDは、600508B4：000B6314：00008000：00200000：00000000：00000000：00000000：00000000：00000000：00000000：00000000です。スペースが原因で切り捨てられます。</block>
  <block id="16dcd04fe5b63682d737b6485d99e401" category="paragraph">の出力とstorage errors showの出力の両方を確認する<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> と、アレイLUNへのパスが複数ない場合のトラブルシューティングに役立ちます。</block>
  <block id="827a249667b7232d5ca1853b53a5828a" category="list-text">の出力を確認して、1つのパスでのみ使用可能なアレイLUNのシリアル番号を確認し<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="aa57184c41dd93b47be84f1ac902062b" category="list-text">出力を確認し<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> て、問題の原因を切り分けます。</block>
  <block id="03115142ee4c1cc1d3f074230c3a0542" category="cell"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block>出力の内容</block>
  <block id="8ffe2475f305e7e174331ac3e74d9c48" category="cell">原因は最も可能性が高いです...</block>
  <block id="7f13c8c402dfb365ab628d54fd7cc5b4" category="paragraph">他のアレイLUN</block>
  <block id="6707c4474d1710dbfd400ae3fb58b7d5" category="paragraph">マッピングエラー</block>
  <block id="6cab193cd2b9a88288e5cd5485ac5bb6" category="paragraph">他のアレイLUNがない</block>
  <block id="b5711cd8cffd8518e487b2014b106923" category="paragraph">ケーブル接続エラー、ゾーニングエラー、またはハードウェアの問題</block>
  <block id="2868484de78fd0ad33bc220f6c0b3074" category="list-text">マッピングエラーが原因である場合は、特定されたアレイLUNを2つの冗長ストレージアレイポートにマッピングするよう、ストレージアレイ管理者に依頼してください。</block>
  <block id="9d68fdc950891be1bbae7887be08fb94" category="list-text">マッピング以外の問題が原因と考えられる場合は、ゾーニング、ホストグループのマッピング、ケーブル接続、および接続を確認します。</block>
  <block id="4c59761ee850ad5857ca645ce72a42ba" category="list-text">問題を修正したら、を再度実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> エラーが修正されたことを確認します。</block>
  <block id="0553456b86ece3c7650979fe59c7ddc9" category="summary">LDEVは、すべてのストレージアレイポートで同じLUN IDにマッピングする必要があり、このIDを使用してLDEVがONTAPシステムから認識される必要があります。storage errors showの出力から、LUN IDが一致しないLDEVを特定できます。</block>
  <block id="33d407e465936473509639d124ae6327" category="doc">同じLDEVのLUN IDが一致していない</block>
  <block id="bbedfd3e4ac9559fb3ab114de2610af0" category="paragraph">LDEVは、すべてのストレージアレイポートで同じLUN IDにマッピングする必要があり、このIDを使用してLDEVがONTAPシステムから認識される必要があります。の出力から、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> LUN IDが一致しないLDEVを特定できます。</block>
  <block id="34ee2c16b689d3e1b6be1b0b5eeaaf7f" category="paragraph">LUN IDが一致しない場合、ONTAPではONTAPシステムにアレイLUNを割り当てることはできません。</block>
  <block id="f1c5459ab81838186fee4f63c3cec673" category="paragraph">ストレージアレイの構成中に、次のいずれかのエラーが発生しました。</block>
  <block id="9ece408c16a284deff6a4036d321d9c3" category="list-text">複数のターゲットポートからONTAPシステムの同じFCイニシエータポートにLDEVが提供されているが、LUN IDが一致していない。</block>
  <block id="749d8c06941f30b772c6db9f12a8061e" category="list-text">2つのLDEVのLUN IDがスワップされた。</block>
  <block id="7fa3381b4b385a7dead9b6dc09cffb80" category="paragraph">この場合、各アレイLUNについてエラーが報告されます。</block>
  <block id="16f4eec48c15da96e1b4e2501212249b" category="list-text">ONTAPシステムにLDEVを提供するストレージアレイポートにLDEVをマッピングする際に、同じLDEVに異なるLUN IDが使用された。</block>
  <block id="f9f77f4260de307526fb60efb585535c" category="paragraph">このエラーは、各ポートが個別に設定されているストレージアレイ（Hitachiストレージアレイなど）で発生する可能性が高くなります。一部のストレージアレイ（IBMストレージアレイなど）では、ポートが個別に設定されません。</block>
  <block id="677974d52e4166f31b09bf227f4dbef7" category="list-text">LUNがマッピングされているポートでVolume Set Addressing設定が一致していません。</block>
  <block id="ff7ab6a23ba6682296836896e6f174ee" category="paragraph">EMC Symmetrixストレージアレイでは、Volume Set Addressing設定がチャネルディレクタポートで異なることが問題となります。</block>
  <block id="8ba744dfa161fd7373fe0386cd5e8d65" category="paragraph">このシナリオでは、ほとんどのストレージアレイに該当するLUN IDが一致しない場合について説明します。Volume Set Addressingの設定ミスが原因で同じエラーメッセージが表示される場合は、「Volume Set Addressingに一貫性がない」セクションを参照してください。</block>
  <block id="0d7b961a74bdc8a282d3f22158b1ec3d" category="inline-xref-macro">Volume Set Addressingに一貫性がない</block>
  <block id="2fd0d35b6efff6477cc75fcebb413d30" category="paragraph"><block ref="2fd0d35b6efff6477cc75fcebb413d30" category="inline-xref-macro-rx"></block></block>
  <block id="295df755b0fe123b6ac976f597ba1f52" category="paragraph">ストレージアレイ管理者が新しいLDEV Zを作成したとします。LDEV ZのLUN IDはLUN 3になります。ただし、次の図に示すように、ストレージアレイコントローラポート1AではLUN 3、ストレージアレイコントローラポート2AではLUN 4としてLDEV Zを設定しました。</block>
  <block id="c464f416c84999d283d3c6771963b790" category="paragraph">この問題を解決するには、LDEVのマッピング先のすべてのポートで同じLUN IDをLDEVに割り当てる必要があります。この例では、両方のポートでLDEVをLUN ID 3として提供する必要があります。</block>
  <block id="cd7410364aa4f07236f45002019c0ea5" category="paragraph">問題を解決するには、ストレージアレイ管理者が正しいLUN IDを使用してLUNを再マッピングする必要があります。ONTAPコマンドを使用して、ストレージ管理者に提供する必要がある問題の詳細情報を取得できます。</block>
  <block id="0fbcc0a6ff27894758d062a295736046" category="list-text">の出力を確認して<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 、LUN IDが一致しないアレイLUNを特定します。</block>
  <block id="5f96b93e941d396410a60999d3131cc4" category="paragraph">同じLDEVのLUN IDが一致しない場合は、問題があるLDEVのシリアル番号が出力に表示されます。例：</block>
  <block id="cc37446ab0672377d4912f11dd540b71" category="paragraph">この例のUIDは、48495441：43484920：44363030：30353234：30303132：00000000：00000000：00000000：00000000：00000000です。スペースのため、この例では省略されています。</block>
  <block id="5bfd6f0bc9e06daaa515f20512f801e0" category="list-text">次のコマンドを入力して、同じLDEVに使用されているLUN IDに関する詳細情報を取得します。<block ref="0f14d78217f2cb146cef563ce5b148d5" prefix=" " category="inline-code"></block></block>
  <block id="774c04781818fa80c8c0d1b41474e974" category="paragraph"><block ref="242f4ce1948273386f8bb487bdd3732f" prefix=" " category="inline-code"></block>この例の出力は次のとおりです。</block>
  <block id="e0a103b9887a5f0bcf037da862d94d8d" category="paragraph">storage disk showの出力の[Paths]セクションでLUN IDを確認すると、このLDEVにLUN ID 3と4が使用されていることがわかります。</block>
  <block id="3e37247cf8cd3f92a548c7c9bb7cab66" category="list-text">LDEVに対応していないLUN IDを特定します。</block>
  <block id="be5c9e5d35a0aff5c4baf23dc5157d2f" category="paragraph">この例では、LUN ID 4が正しくありません。</block>
  <block id="16be77a02a7ae5f5d637f2ffe2c63f3d" category="list-text">ONTAPで、コマンドを使用し<block ref="287f29cba279612dd4284ff8e8536bd2" prefix=" " category="inline-code"></block> てアレイLUNへの正しくないパスを休止します。</block>
  <block id="1bc0e7f7028ed8ecd643b0fd2c8cb74e" category="paragraph">次の例は、休止するパス（イニシエータ0c上のLUN ID 4）をコマンドに追加するオプションを示してい<block ref="287f29cba279612dd4284ff8e8536bd2" prefix=" " category="inline-code"></block> ます。</block>
  <block id="b4780c3bc5c5121606de992a989a5506" category="paragraph">コマンドは<block ref="287f29cba279612dd4284ff8e8536bd2" prefix=" " category="inline-code"></block> 、特定のパス上の特定のアレイLUNへのI/Oを一時的に中断します。一部のストレージアレイでは、アレイLUNを削除または移動する一定期間I/Oを停止する必要があります。</block>
  <block id="280b5d8b97cb13187ce0feec6f7f25b4" category="paragraph">パスを休止すると、ONTAPはそのLUNを認識できなくなります。</block>
  <block id="2e751f5932ad216f871ceeebbf5bd793" category="list-text">ストレージアレイのアクティビティタイマーが期限切れになるまで1分待ちます。</block>
  <block id="f053626e235104368bb2a71afcbfb1d1" category="paragraph">すべてのストレージアレイで一定期間I/Oを停止する必要はありませんが、停止することを推奨します。</block>
  <block id="2524afff11ad98e5e51008d7217a65cc" category="list-text">ストレージアレイで、正しいLUN ID（このシナリオではLUN ID 3）を使用してLUNをターゲットポートに再マッピングします。</block>
  <block id="fdf8264433b9e7fe9e873330390b4f06" category="paragraph">ONTAPの次回の検出プロセスでは、新しいアレイLUNが検出されます。検出は1分ごとに実行されます。</block>
  <block id="a221f9f5fa5f845d592cec17ac07665a" category="list-text">ONTAPの検出が完了したら、ONTAPでを再度実行して、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> エラーが解消されたことを確認します。</block>
  <block id="84744221c3a3c6622cf0b33655a2940d" category="summary">バックエンド構成を検証する際には、storage array config showの出力をチェックして、アレイLUNグループの数が想定どおりであるかどうかを確認する必要があります。</block>
  <block id="2c130673b4ece2e4aea4f89467775b38" category="doc">アレイLUNグループが想定よりも少ない理由</block>
  <block id="3c11ddaa779ea5de6be97be96ce9dbc1" category="paragraph">バックエンド構成を検証する際には、の出力をチェックして、アレイLUNグループの数が想定どおりであるかどうかを確認する必要が<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> あります。</block>
  <block id="02f14ee303879d34a74a6288d1fff8c8" category="paragraph">LUNグループが想定より少ない代表的な原因は、ONTAPシステムの両方のFCイニシエータポートペアでLDEVとLUNのマッピングが同じになっていることです。両方のFCイニシエータポートペアでLDEVとLUNのマッピングが同じ場合<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、の出力に表示されるLUNグループが想定より1つ少なくなります。</block>
  <block id="1d48b73bbc2083eb9bbbe0032400be77" category="paragraph">次<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> の出力では、両方のFCイニシエータポートペアが同じターゲットポートペアにマッピングされているためにアレイLUNグループが1つしか示されていません。</block>
  <block id="9f46787623d13c15a1bcd0ea77cd7b8b" category="paragraph">[Array Target Ports]列を見ると、LUNグループ内で同じターゲットポートが複数表示され、それぞれに異なるイニシエータが割り当てられていることがわかります。</block>
  <block id="b99adc2f5a0ae6f5fcdb82a9345dc195" category="list-text">イニシエータ0aと0bはどちらもストレージアレイポート1Aにアクセスしています。</block>
  <block id="4189803a33cd4ccf84fa5c667b7f6e4b" category="list-text">イニシエータ0cと0dはどちらもストレージアレイポート2Aにアクセスしています。</block>
  <block id="b71ce893b0eaddf9318b0583f5b2744c" category="section-title">問題の解決</block>
  <block id="70d610847b51617006996510051fc72d" category="paragraph">両方のFCイニシエータポートペアでLDEVとLUNのマッピングが同じであってもONTAPシステムは動作するため、ONTAPではこの状況はエラーとみなされません。ただし、同じターゲットポートに複数のFCイニシエータを接続することはサポートされていません。ONTAPシステムがサポートされる構成に従ってLUNグループを意図した数にするには、マッピングを修正する必要があります。</block>
  <block id="fbf72d506702b0f0452b5538910f551a" category="paragraph">この問題を修正するには、次の手順を実行します。</block>
  <block id="dffc5f8206ade6cfc4b79031a16ba8b9" category="list-text">ストレージアレイで、ONTAPシステムの両方のFCイニシエータポートペアでマッピングが同じにならないようにマッピングを修正します。</block>
  <block id="40449ddd9f6793b140edc1e72c3afe91" category="list-text">ONTAPシステムでを再度実行し<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、想定した数のLUNグループが表示されること、およびFCイニシエータポートペアが同じターゲットポートにアクセスしていないことを確認します。</block>
  <block id="f8365ad45b723e5ef1946ac9400a2a89" category="summary">構成を検証する際には、storage array config showの出力をチェックして、LUNグループの数が想定どおりであることを確認する必要があります。余分なアレイLUNグループがある最も一般的な理由は、LDEVが複数のターゲットポートペアにまたがっていることです。</block>
  <block id="e687fe680f2b1067715672dcfe920f8e" category="doc">アレイLUNグループが想定よりも多い理由</block>
  <block id="181980c741389b061af837fe91cfd8ea" category="paragraph">構成を検証する際には、の出力をチェックして、LUNグループの数が想定どおりであることを確認する必要があり<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ます。余分なアレイLUNグループがある最も一般的な理由は、LDEVが複数のターゲットポートペアにまたがっていることです。</block>
  <block id="6e2b36742916fbff8b499378fa9e98c8" category="paragraph">LUNグループが想定よりも多く表示される一般的な理由は次のとおりです。</block>
  <block id="ee64d952239fd7e4b7f331f8be2b2870" category="list-text">LDEVが冗長ターゲットポートペアにマッピングされていない。</block>
  <block id="ffcc9901f840dc7b4d5b2937000bd863" category="paragraph">余分なLUNグループがある最も一般的な原因は、LDEVが複数のパスペアにまたがっていることです。LDEVの一致するLUN IDがストレージアレイ上の冗長ターゲットポートペアに提供されない場合、LDEVは「_スパニングパスペア_」と呼ばれます。</block>
  <block id="8b25bff9b0f3e8303594dcb796abf99c" category="paragraph">多くのストレージアレイでは、従来の手順でLDEVを作成してマッピングした場合、冗長でないターゲットポートにLDEVを提供することはできません。</block>
  <block id="fba91c445eda9664d255d9673f291a2e" category="list-text">ONTAPは、あるLUNグループから別のグループにアレイLUNを移行する際に、ターゲットポート間で負荷を分散しようとします。</block>
  <block id="c1a94389ec85c1f64e0840bf9767f8c7" category="paragraph">この場合、LDEVが複数のパスペアにまたがっているのは一時的な状態です。</block>
  <block id="f7c62c16dad1abfa2113160c185b4e2b" category="list-text">設定されている接続が多すぎます。</block>
  <block id="e9e9082bd536910e2a47b1cd9135cd5e" category="paragraph">ONTAPは、アレイLUNグループが1つでも複数でも実行できます。そのため、ONTAPではLUNグループがいくつあっても設定ミスとはみなされません。ただし、ONTAPのリリースによっては、すべてのストレージアレイで複数のLUNグループがサポートされるわけではありません。構成を計画する際には、Interoperability Matrixの情報を参照して、ONTAP構成で使用するストレージアレイで複数のアレイLUNグループがサポートされているかどうかを確認する必要があります。</block>
  <block id="8c04af6f15bd53f11f8db206461e1109" category="paragraph">LUNグループ0とLUNグループ1の2つの既存のLUNグループがあるとします。LUNグループ0には2つのアレイLUNがあり、LUNグループ1には3つのアレイLUNがあります。管理者は、LUNグループ0にLUN 3を追加するために、新しいLDEV Zを作成しました。管理者は、2つのストレージアレイポートにLDEV ZをLUN 3としてマッピングしました。ただし、次の図に示すように、LUN 3がマッピングされたポート（ストレージアレイポート1Aと2B）は冗長ターゲットポートペアではありません。</block>
  <block id="0715a80a9735912085a2beb28a0bf486" category="paragraph">このエラーにより、次の例に示すように、3つ目の意図しないLUNグループ（グループ2）が作成されます。</block>
  <block id="6febc9d111ad123361d74d0847f5efa1" category="paragraph">グループ0および1の[Array Target Ports]列の情報から、アレイターゲットポートへのパスが冗長であると推測できます。グループ0はターゲットポートペアである1Aと2Aに接続されます。グループ1は別のターゲットポートペアである1Bと2Bに接続されます。</block>
  <block id="06977e434320c81d807cf3d3037e4123" category="paragraph">ただし、グループ2の[Array Target Ports]列に表示される情報から、パスが冗長でないことがわかります。一方のパスはターゲットポート1Aに、もう一方のパスはターゲットポート2Bに接続されます。これは冗長ターゲットポートペアではなく、アレイLUNは複数のLUNグループにまたがっています。アレイLUNを1Aと2Aまたは1Bと2Bにマッピングします。</block>
  <block id="13a3fe36a4d0b188fddcf7e1a40b555a" category="paragraph">ONTAPシステムはLDEVが複数のパスペアにまたがっていても実行できるため、コマンドの実行後に、を実行するように指示するメッセージは<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 表示されません<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。ただし、これはベストプラクティスの構成ではありません。</block>
  <block id="04719bdfeb68ff950d7b53063b1e187f" category="list-text">1分待ってからをもう一度実行して、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> の出力に余分なLUNグループが引き続き表示されるかどうかを確認します<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。</block>
  <block id="20693fb6c81c433675ed5d9adddb2aff" category="list-text">余分なLUNグループがの出力に表示されなくなった場合は、問題が一時的なものであったと判断できます。</block>
  <block id="b126febedf4177edb3acf92f0c380d1f" category="list-text">余分なLUNグループが引き続き出力に表示される場合は、ストレージアレイ管理者が次の手順でLDEVを再マッピングする必要があります。</block>
  <block id="8dfd6517549df2b413acd82882099cc5" category="paragraph">この問題を修正する間、冗長性を維持する必要があります。この手順では、誤ったターゲットポートへのマッピングを削除する前に、正しいターゲットポートにLDEVをマッピングするように指示します。パスの数を1つに減らすのではなく、問題の修正中にパスの数を1つに減らすのではなく、一時的に3つに増やすため、冗長性が維持されます。</block>
  <block id="bfaa7ceb75da1ebe0f85326266e5f18a" category="list-text">整合性のないターゲットポートのうち、再マッピングするポートを決定します。</block>
  <block id="09202bbe36a3287744916b3e8cff34b3" category="list-text">ストレージアレイで、LDEVを新しい（正しい）ターゲットポートにマッピングします。</block>
  <block id="d6660aa71fe48b4baa0f1602048d9ad2" category="list-text">ONTAPで、を実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> パスが3つ表示されることを確認します。</block>
  <block id="c80daf0a605118443d7bd9eb06153087" category="list-text">誤ったマッピングを削除します。</block>
  <block id="b8ccfab714ed765ed8ce4f03c187c86a" category="list-text">ONTAPがLUNを検出するまで1分待ちます。</block>
  <block id="22e4e5d414a07fee49829ac5487409da" category="list-text">ONTAPでを再度実行して、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 余分なLUNグループがなくなったことを確認します。</block>
  <block id="9c994b9440419cf5951d2b643c4d2d94" category="summary">アレイLUNへのパスが予期せず追加される主な原因は、ゾーニングの問題とケーブルの数が多すぎることです。アレイLUNへのパスが3つあることはベストプラクティスではありませんが、この問題を修正する必要はありません。</block>
  <block id="c2b4a27dbf0d881287db42f783f35560" category="doc">アレイLUNへのパスが想定よりも多い理由</block>
  <block id="0068d0b8748eacb2784e97af0f13c99b" category="section-title">storage array config showの出力例</block>
  <block id="c13687d1b578a7a50d81a49a5b43b653" category="paragraph">ONTAPシステムのFCイニシエータポートペアは、0aと0cです。次の例では、の出力に余分なパス0bが表示されて<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> います。</block>
  <block id="3cd8593e41393abda208c3a42e8a2760" category="paragraph">の出力でアレイターゲットポートが表示されていないイ<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ニシエータは、その上のイニシエータと同じアレイターゲットポートに接続されています。</block>
  <block id="f4b8c2879d04cba156db6dba5f9c2a8a" category="paragraph">LUNグループ内にパスが3つある場合は、余分なパスがあることを示します。ONTAP構成では、パスを2つまたは4つ使用することを推奨します。</block>
  <block id="e194899e6ed1abc0b2de4fa40eb6dcdc" category="paragraph">パスが想定よりも多くなる原因には次のようなものがあります。</block>
  <block id="e7cb0bf109a17972e0ad637c31b17ae3" category="list-text">必要以上のケーブルが接続されました。</block>
  <block id="351150d1efdccb4a982acfdc0c264ad4" category="list-text">ゾーニング設定エラーが原因で余分なパスが発生しました。</block>
  <block id="fb69f07ef9bece3fc52fcec5c0b62bba" category="paragraph">追加のパスを使用することはベストプラクティスではありませんが、システム面では正しくありません。この問題を修正する必要はありません。意図した構成に合わせて問題を修正するには、次の手順を実行します。</block>
  <block id="cca39ceae5aa4502b7c003428c265cc4" category="list-text">ケーブル接続とゾーニング設定が原因であることを確認し、余分なパスの原因となっている問題を修正します。</block>
  <block id="72fbee752e857618bb76fca8178fcb4f" category="list-text">問題を修正したら、を再度実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 余分なパスがなくなったことを確認します。</block>
  <block id="6c98c3649309a74f9df408ea64960601" category="summary">バックエンド構成を検証する際には、storage array config showの出力をチェックして、LUNグループにLUNが表示されるかどうかを確認する必要があります。storage array config showの出力にアレイLUNグループにLUNが表示されない場合、ONTAPはファブリック上のターゲットポートを認識できますが、ターゲットポートからONTAPにアレイLUNが提供されていません。</block>
  <block id="68d72c417e7d2ac5219e718598455488" category="doc">アレイLUNグループにLUNがない理由</block>
  <block id="f67092376198614fbac1a6829535b501" category="paragraph">バックエンド構成を検証する際には、の出力をチェックしてLUNグループにLUNが表示されるかどうかを確認する必要があり<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ます。の出力にアレイLUNグループにLUNが表示されない場合<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、ONTAPはファブリック上のターゲットポートを認識できますが、ターゲットポートからONTAPにアレイLUNが提供されていません。</block>
  <block id="37a601671d6897a4f6e74755f7efe7df" category="paragraph">ターゲットポートからONTAPにアレイLUNが提供されない（an_openターゲットポート_）原因はさまざまです。オープンターゲットポートの理由はストレージアレイによって異なります。また、オープンターゲットポートの問題への対処方法はストレージアレイによって異なります。すべてのストレージアレイについて、オープンターゲットポートの原因をトラブルシューティングする際には、ホストグループの構成を含むストレージアレイの構成を確認する必要があります。</block>
  <block id="24a0e23a88c219e2128389f9c139712f" category="paragraph">たとえば、ONTAPにオープンターゲットポートとして認識される_emptyホストグループ_が原因と考えられます。空のホストグループでは、FCイニシエータポートとターゲットポートは定義されますが、アレイLUNは表示されません（つまり、ホストグループは空です）。</block>
  <block id="4d9d3cec50dd708ee17a0b792fe80fb4" category="paragraph">空のホストグループがONTAPシステムの動作に影響することはありません。</block>
  <block id="5823b4346b0d5f08c205aa85be59b903" category="paragraph">次の図は、オープンポートターゲットポートの状況と空のホストグループの状況を示しています。（図では、わかりやすいようにスタンドアロンのONTAPシステムを使用しています）。</block>
  <block id="0a02fadb72efd29b83ea1d5014e47ff5" category="paragraph">オープンターゲットポートは、ストレージコントローラ1Aのホストグループ定義にLUN IDがないことが原因です。ストレージコントローラ1Aのホストグループ定義では、FCイニシエータ0bがターゲットポートにゾーニングされ、FCイニシエータポート0bにホストグループが定義されていますが、このホストグループにLUN IDがありません。図に示すように、ストレージコントローラ2Aのホストグループ定義にはイニシエータとLUNの両方が含まれています。</block>
  <block id="a66427e2366fd8dac06e8ad7833abc3c" category="paragraph">空のホストグループは、ストレージコントローラ1Bおよび2Bのホストグループ定義にアレイLUNが表示されないことが原因です。FCイニシエータ0aおよび0dはターゲットポートにゾーニングされていますが、LUNは表示されていません。</block>
  <block id="4ed959fe74dd7eb4db2c30fe6a95b671" category="image-alt">ホストクルウフニLDEVカナイ</block>
  <block id="11176ca96316cafb677eb7053dedfdcf" category="paragraph">次の例は、図の状況に対するの出力を示して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> います。ONTAPシステムはストレージアレイにゾーニングされていますが、ストレージコントローラ1Aのホストグループ定義にLUNがなく、オープンターゲットポートが発生しています。コントローラ1Bと2Bのそれぞれのホストグループ定義にLUNがないため、空のホストグループが発生しています。</block>
  <block id="9fa47bddf11b66dfd27f98e153ddada9" category="paragraph">図の状況に対するの出力では、FCイニシエータ0a、0b、および0dのLUN数フィールドにLUNが表示されていません。FCイニシエータ0cについては、LUN group1に2つのLUNが表示されています。</block>
  <block id="e1fede2c2364bca6668496f7c1453434" category="paragraph">この出力から、ホストグループにFCイニシエータがないことが問題の原因ではないことがわかります。ホストグループにFCイニシエータが含まれていない場合、ONTAPはLUNのないLUNグループを認識できません。</block>
  <block id="329fb4d714a63ce731b0166379ff7ee6" category="summary">構成を検証する際には、storage array config showの出力をチェックして、各LUNグループ内のLUN数が想定どおりであることを確認する必要があります。LUNグループのLUN数が正しくない場合の代表的な原因は、アレイLUNがONTAPシステムにマッピングされていないことです。</block>
  <block id="27748580027f90be2d039e0b2c3396c7" category="doc">アレイLUNグループのLUN数が正しくない理由</block>
  <block id="6492136549077e7521448fae35dfab53" category="paragraph">構成を検証する際には、の出力をチェックして、各LUNグループ内のLUN数が想定どおりであることを確認する必要があり<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ます。LUNグループのLUN数が正しくない場合の代表的な原因は、アレイLUNがONTAPシステムにマッピングされていないことです。</block>
  <block id="ff537d68df1dbc752a0630db575434fc" category="paragraph">各LUNグループ内のアレイLUN数は、次の例のようにの出力に表示されます<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。</block>
  <block id="8456116db69aada7143113fea54fee38" category="paragraph">LUNグループに含まれているはずのアレイLUNが見つからない主な原因は次のとおりです。</block>
  <block id="fb7035b1e6aa2044597bf85f7b919f25" category="list-text">アレイLUNがONTAPシステムにマッピングされていない。</block>
  <block id="03f01649ac41ce556facfd6bd8b81ef2" category="list-text">マッピングエラーが発生したために、アレイLUNが間違ったLUNグループに含まれていた。</block>
  <block id="542f3a3b6d8d3f8793f519ebdb831e92" category="paragraph">たとえば、ホストグループの設定が間違っている可能性があります。</block>
  <block id="e2360b5a224507b62f6c03f4fc3a911b" category="list-text">ストレージアレイがアレイLUNの初期化中である（一時的な状態）。</block>
  <block id="6d7f85f25078d5e018f432a7ead6c310" category="list-text">ONTAP LUNスキャナがまだLUNを検出していません（一時的な状態）。</block>
  <block id="b599d771dd5185a03302962c71bd559d" category="list-text">アレイLUNがONTAPシステムにマッピングされていない場合は、ストレージアレイ管理者がマッピングを行う必要があります。</block>
  <block id="c88e1753e3a686db4b5021c433084ef7" category="paragraph">アレイLUNをホストにマッピングするプロセスは、ストレージアレイによって異なります。</block>
  <block id="59d1bbd18b8d22740161ee2fd3900a07" category="list-text">アレイLUNがONTAPシステムにマッピングされている場合は、ゾーニングとホストグループの設定を確認します。</block>
  <block id="5525dc6ecaf1d024478645cdbab00af3" category="list-text">問題を修正したら、を再度実行して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 問題が解決したことを確認します。</block>
  <block id="adfdee10bb4352a6d350b57cc3dac0d2" category="summary">ONTAPシステムに接続されていないストレージアレイは、storage array config showの出力に表示されません。ケーブル接続、ゾーニング、およびホストグループ構成に問題があると、2つのデバイス間の接続が妨げられることがあります。</block>
  <block id="2af0e0aedd26b0aa0aa69e7d9e8338f1" category="doc">コマンド出力にストレージ アレイが表示されない理由</block>
  <block id="d744fe1e319f2d5645dfb01de9d67338" category="paragraph">ONTAPシステムに接続されていないストレージアレイは出力に表示されません<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 。ケーブル接続、ゾーニング、およびホストグループ構成に問題があると、2つのデバイス間の接続が妨げられることがあります。</block>
  <block id="fc8e3935083cb9359c79510df7dba960" category="list-text">ケーブル接続、ホストグループの構成、ゾーニングを次のように確認します。</block>
  <block id="58e5eed34483146da4bc0254da0c4ba7" category="list-text">ケーブルが接続されていることを確認します。</block>
  <block id="73e098cf72a0ab58ccc90034f57a1a5c" category="list-text">ONTAPシステム上のFCイニシエータのWWPNがホストグループに含まれていることを確認します。</block>
  <block id="f1f4d1918f0d93861e917efa9f8c063a" category="list-text">ストレージアレイとFCイニシエータが同じゾーンにあることを確認します。</block>
  <block id="a48abb3fa57ac5006fd63c449d2de377" category="list-text">問題を修正したら、ONTAPでを実行して、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 問題が修正されたことを確認します。</block>
  <block id="a5b018e2ceda073d88fa4d501387435a" category="summary">ゾーニング構成のエラーを修正するときに、ホストグループ構成も変更しなければならないことがあります。逆も同様です。</block>
  <block id="a8745bab1c0b3b351c167cb9d31d5b6c" category="doc">ゾーニング構成とホスト グループ構成の関係</block>
  <block id="10ed0341e0ff672f2ab3d9103708bd99" category="summary">ストレージアレイを使用するONTAP構成のゾーニング要件に従って、ONTAPシステムが正しいLUNセットにアクセスできるようにする必要があります。</block>
  <block id="3534d721a1b949c757c5a8ea018d06c8" category="doc">ストレージアレイを使用した構成でのゾーニングの要件</block>
  <block id="09c9af091e1f6d299c20957105e8be91" category="list-text">Interoperability Matrix _で、スイッチとスイッチファームウェアがONTAP構成でサポートされていることを確認する必要があります。</block>
  <block id="244eb1be6f24c2f98795f912a94bb942" category="list-text">各イニシエータポートを各ストレージアレイ上の単一のターゲットポートに制限するようにゾーニングを設定する必要があります。</block>
  <block id="b4abf4c68f7727e6ab0a5908026b74f8" category="list-text">スイッチで、ONTAPシステムのポートとストレージアレイのポートを同じゾーンに割り当てる必要があります。</block>
  <block id="ab238d97dd96c0eef9a9e2d6032a6f20" category="paragraph">これにより、ONTAPシステムからストレージアレイ上のLUNにアクセスできるようになります。</block>
  <block id="c46d3e3b7b26641129670aa368fc080c" category="list-text">ストレージアレイのポートを異機種のシステム間で共有する場合、ONTAPシステムのアレイLUNを他のシステムに公開することはできません。</block>
  <block id="cf903985c0c192d103b05286d9490a7f" category="paragraph">LUNセキュリティまたはアレイLUNマスキングを使用して、ONTAPストレージ用のアレイLUNがONTAPシステムでのみ認識されるようにする必要があります。</block>
  <block id="aa092b17744fcf1f147e2e86df781941" category="list-text">ホスト構成ポートは、ターゲットポートと同じゾーンに含めることはできません。</block>
  <block id="8b18b06a496a76d537e8f88e1b8ba0ba" category="summary">ストレージアレイベンダーによって、類似する概念を表す用語が異なる場合があります。逆に、同じ用語の意味はアレイベンダーによって異なる場合があります。</block>
  <block id="5bd1e0aa533b0619e839c17c06e0c280" category="doc">ストレージアレイベンダーによる用語の比較</block>
  <block id="0e80b9a489139aa9246357472a869d4b" category="paragraph">次の表に、いくつかの一般的な用語の対応を示します。</block>
  <block id="cf5f3091e30dee6597885d8c0e0c357f" category="cell">期間</block>
  <block id="ec9ceefe0c19f4c029008c23e3c947b7" category="cell">ベンダー</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="9805a9154b2c909ccf44e105987bd03b" category="paragraph">ホストグループ</block>
  <block id="18b1118e8e8d44c5c663b2f329e30a55" category="paragraph">ストレージアレイのポートへのホストアクセスを指定できる構成エンティティ。LUNにアクセスするONTAPシステムのFCイニシエータポートのWWNを指定します。このプロセスはベンダーによって異なるほか、同じベンダーでもストレージアレイモデルによって異なる場合があります。</block>
  <block id="71e14e1f53e0c10dc815eae1e0682878" category="cell">ストレージグループ</block>
  <block id="6f32d5faa42447a54f31b9f0f3c1d70e" category="paragraph">EMC CX、EMC VNX</block>
  <block id="01779cf08b8b0b3a7fc0c6ef731f256d" category="cell">ホスト定義</block>
  <block id="a677b71188193c196dc3bbb91b2d692e" category="paragraph">3PAR</block>
  <block id="67b3dba8bc6778101892eb77249db32e" category="cell">ホスト</block>
  <block id="41b125ad140f982158e3ae700d9ba30b" category="paragraph">3PAR、HP EVA、HP XP、Hitachi</block>
  <block id="3b855cbfb64777b823998e9539e0d167" category="cell">パリティグループ</block>
  <block id="5f8fd04f404faae9fe2c061c3edafff3" category="paragraph">Hitachi、HP XP</block>
  <block id="9797648fac8d6d99337873330a243d3c" category="paragraph">定義されたRAIDレベルを形成するバックエンド内のディスクの配列。</block>
  <block id="056da32aadb1d3eae702837c225c7763" category="paragraph">RAIDグループ</block>
  <block id="74c2cd8b071b4c4d0c98782c917f46ce" category="paragraph">ONTAP、EMC CX、EMC VNX</block>
  <block id="0011a0bab3514d0f47cdc44c96aef082" category="cell">ディスクグループ</block>
  <block id="5ed23c2e15ca332600cfd7be5d97e87e" category="paragraph">HP EVA</block>
  <block id="5379cf2e2185140848e9217b52bdbd9b" category="paragraph">ストレージプールを形成する物理ディスクのセットで、そこから仮想ディスクを作成できます。</block>
  <block id="957f23275d6a50709a94858e47ed0ca2" category="paragraph">パリティセット、RAIDセット</block>
  <block id="e261285e0a5f1d39494552b511e92547" category="paragraph">parity-protected_chunklets_のグループ。（チャンクレットは、物理ディスク上の256MBの連続したスペースのブロックです）。</block>
  <block id="06b2d4b91b5c9eaa8c20a1c270f95b3c" category="cell">クラスタ</block>
  <block id="253b40ae359ba25b56231803430c4873" category="paragraph">ONTAP</block>
  <block id="9824a5cb4cc89026f138a2385826e09b" category="paragraph">ONTAPにおいて、複数のノードのリソースを大規模な仮想サーバにプールし、作業をクラスタ全体に分散できるようにするノードのグループ。</block>
  <block id="a52971c670054f6e6babd7a24997cf18" category="paragraph">ホストの接続先ポートを含むストレージアレイ上のハードウェアコンポーネント。</block>
  <block id="594c103f2c6e04c3d8ab059f031e0c1a" category="cell">コントローラ</block>
  <block id="29f0307a43ce39cf7871e87973b13a49" category="paragraph">ONTAPオペレーティングシステムを実行し、バックエンドストレージアレイと通信するストレージシステムのコンポーネント。コントローラはヘッドまたはCPUモジュールとも呼ばれます。</block>
  <block id="71577db56ef18dfcc8d570cbb1bd75ac" category="cell">Hitachi、HP EVA、HP XP</block>
  <block id="8989b14d1f1bc282a29f5a33cbfb3699" category="paragraph">ターゲットポートが配置されているストレージアレイ上のハードウェア。</block>
  <block id="36c4536996ca5615dcf9911f068786dc" category="paragraph">ノード</block>
  <block id="05b14326cc28cb5bbd36c9f37bfaeed7" category="paragraph">3-PAR</block>
  <block id="ab170aa9c44c4b1fdc75ff83fec05f2e" category="paragraph">FEBEボード</block>
  <block id="1fb5deb506e26d767f6489a10c85c1ee" category="paragraph">EMC Symmetrix</block>
  <block id="dd8f56ff3bcd6342571c8e7ac6a086e8" category="cell">ストレージプロセッサ（SP）</block>
  <block id="2bb1b878ae4fd788fad2d1bcf5fa7bb3" category="paragraph">多数のストレージアレイ</block>
  <block id="f47f935291a93d678a36597d3ccb4030" category="paragraph">1つ以上のディスクまたはディスクパーティションを、1つのスパンのディスクストレージスペースにグループ化すること。ONTAPのドキュメントでは、これを_array LUN_と呼んでいます。</block>
  <block id="d336762017e5f866189a2de341b671fa" category="paragraph">LDEV</block>
  <block id="18955e44212531b399c381639c013a63" category="paragraph">ONTAPシステムでは、接続されたストレージを仮想化し、そのストレージを（たとえばiSCSIやFC経由で）外部のアプリケーションやクライアントにLUNとして提供できます。クライアントは、フロントエンドLUNがどこに格納されているかを認識しません。</block>
  <block id="0242d5e93741cfc630c65d4ac7d2d492" category="paragraph">LUN、仮想ディスク</block>
  <block id="e5e35e15c690a543c0f6675970198b0b" category="paragraph">仮想ディスク（ユーザインターフェイスでは_vDisk_と呼ばれます）は、ディスクグループ内に作成されるシミュレートされたディスクドライブです。仮想ディスクには、名前、冗長性レベル、サイズなどの特性の組み合わせを割り当てることができます。仮想ディスクを提供すると、そのストレージがホストに提供されます。</block>
  <block id="5181ed60a2afacfcd430e7cf306359d5" category="paragraph">アレイLUN</block>
  <block id="ca1f3b77ec5e592cc7963bad503f6141" category="paragraph">ONTAPのドキュメント、ONTAPストレージ管理ツール</block>
  <block id="4629173ae2c149efccfdefca6f4984ab" category="paragraph">ONTAPのドキュメントでは、ストレージアレイ上のLUNをフロントエンドLUN（ONTAP LUN）と区別するために_array LUN_という用語を使用しています。</block>
  <block id="8a32ad3f125da79137bc0efa7824f3a2" category="paragraph">VLUN</block>
  <block id="9c34a1779e026e2e1fcaa9faa9dc28c8" category="paragraph">（volume-LUN）仮想ボリュームとLogical Unit Number（LUN；論理ユニット番号）のペアリング。ホストが仮想ボリュームを認識できるようにするには、ストレージアレイでvLUNを作成して、ボリュームをLUNとしてエクスポートする必要があります。</block>
  <block id="210ab9e731c9c36c2c38db15c28a8d1c" category="cell">ボリューム</block>
  <block id="b566653ce1f28840f47473f85e7d98f1" category="paragraph">サポートされている1つ以上のプロトコルでアクセス可能なユーザデータを格納する論理エンティティONTAP。サポートされているプロトコルには、ネットワークファイルシステム（NFS）、Common Internet File System（CIFS）、ハイパーテキスト転送プロトコル（HTTP）、ファイバチャネル（FC）、インターネットSCSI（iSCSI）などがあります。</block>
  <block id="9e34928a2dbf2480a68140dc8ed227dc" category="paragraph">仮想ボリューム</block>
  <block id="20de25a6b1bffde71aebebbdc8b53df2" category="paragraph">1つ以上の論理ディスクからデータをマッピングして作成される仮想ストレージユニット。</block>
  <block id="5647ed381f5cba82e2ced642f238148b" category="summary">storage errors showにエラー状態が表示された場合は、その原因と修正方法を特定する必要があります。</block>
  <block id="5b4c35f5c1bf643982e081bc26b063cf" category="doc">storage errors showのメッセージとその解決方法</block>
  <block id="e60ab8ddcea7e96c231f819716305eae" category="paragraph">がエラー状態をフラグするとき<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> は、エラーが発生した理由とその修正方法を特定する必要があります。</block>
  <block id="c289a752ef98acd9a97103f766b86d41" category="paragraph">次の表に、で検出されるバックエンド構成エラー<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> とその原因と解決方法に関する詳細情報の参照先を示します。</block>
  <block id="2e62979e0c32717f36f39ead961a4f7c" category="cell"><block ref="3544855ba5183863f1439ae70a230dfb" prefix="" category="inline-code"></block> メッセージ</block>
  <block id="f0452cdd08bec114c164134503afaf63" category="cell">このメッセージの詳細の参照先</block>
  <block id="b689482810ae61b4526105d7d41a9a7c" category="paragraph"><block ref="2f4787d00c3b3d29e50c825730975352" prefix="" category="inline-code"></block>です。</block>
  <block id="8a2476f82dd5ff0a053db8b5efd39537" category="paragraph"><block ref="8a2476f82dd5ff0a053db8b5efd39537" category="inline-xref-macro-rx"></block></block>
  <block id="0cce565bf60de881f19aae40a003020e" category="paragraph"><block ref="55ebb730e83fc101fce934ac3c807284" prefix="" category="inline-code"></block>です。</block>
  <block id="7a3454446c1f223d55223d44b5d16473" category="inline-xref-macro">ターゲットポートでのLUN IDの重複</block>
  <block id="f63f7fc7bf70faf895fdcc475640096a" category="paragraph"><block ref="f63f7fc7bf70faf895fdcc475640096a" category="inline-xref-macro-rx"></block></block>
  <block id="9c61b9c31d0bab505f57283a0e352e2d" category="paragraph"><block ref="28951b60899549d3186947f6f69f39e4" prefix="" category="inline-code"></block>です。</block>
  <block id="f8d6195a9591ffec1a806e7d552de57e" category="inline-xref-macro">アクセス制御LUNが提供された</block>
  <block id="747e4272563b06176218d1dba390caf3" category="paragraph"><block ref="747e4272563b06176218d1dba390caf3" category="inline-xref-macro-rx"></block></block>
  <block id="cd7433e5e0fc2b7e5d35d1a63a617ab4" category="paragraph"><block ref="91b7772eb6343b07466c74377a9c65e5" prefix="" category="inline-code"></block>です。</block>
  <block id="b7c15f58e6ebe1d6ec94be001d1b2601" category="paragraph"><block ref="b7c15f58e6ebe1d6ec94be001d1b2601" category="inline-xref-macro-rx"></block></block>
  <block id="0fbf3c4c94b026186fec05a526d5d384" category="paragraph"><block ref="3e769ab094ce935fcc91ade0d192614e" prefix="" category="inline-code"></block>です。</block>
  <block id="39d10e72c3173c70ce24ddcc62783e96" category="paragraph"><block ref="39d10e72c3173c70ce24ddcc62783e96" category="inline-xref-macro-rx"></block></block>
  <block id="5a0e7de914757dd69bfaeb847e84d357" category="paragraph"><block ref="14de07ae8f341836aacec5b6853b0537" prefix="" category="inline-code"></block>です。</block>
  <block id="03f75097883eca9f20a55ea1f9a4a083" category="inline-xref-macro">アレイLUNのサイズが小さすぎる、または大きすぎる</block>
  <block id="531484a56adb6ff8be6db3200a2b4083" category="paragraph"><block ref="531484a56adb6ff8be6db3200a2b4083" category="inline-xref-macro-rx"></block></block>
  <block id="f84fe76b7c401aa7779be788ff35d95d" category="paragraph"><block ref="baf4532708f08cff4330e14ea9984b85" prefix="" category="inline-code"></block>です。</block>
  <block id="8785133216856affde3e57bc2dffeaae" category="paragraph"><block ref="b36a107fe7051f040c307f0c68e85178" prefix="" category="inline-code"></block>です。</block>
  <block id="746ad02fa2beec05508babf79fdad274" category="paragraph"><block ref="746ad02fa2beec05508babf79fdad274" category="inline-xref-macro-rx"></block></block>
  <block id="819f44e8af6ad063223eb7d937a1b546" category="paragraph"><block ref="0120c77ecdc9e578df16213cf57cda47" prefix="" category="inline-code"></block>です。</block>
  <block id="59fabdbd62600db09658851f14f31fcf" category="paragraph"><block ref="59fabdbd62600db09658851f14f31fcf" category="inline-xref-macro-rx"></block></block>
  <block id="a9620cf5ba9f06372b20e06b9cb57ecd" category="summary">ONTAPでは、ストレージアレイのパスセット全体で一貫性のないLUN IDを検出できます。Volume Set Addressingが設定されているストレージアレイでは、LUN IDの不一致を引き起こす問題の1つとして、LUNのマッピング先ポートの設定の不一致があります。</block>
  <block id="c422c58e8b5ff6bcafb4d92e530a3968" category="paragraph">たとえば、EMC Symmetrixストレージアレイでは、LUNのマッピング先のチャネルディレクタポートでVolume Set Addressingパラメータの設定が一致していないと、LUNの不一致エラーが発生します。</block>
  <block id="b8af6a7521664cad3eff286fe6a771da" category="paragraph">このエラーメッセージの原因となる構成エラーは多数あります。ここでは、Volume Set Addressingの設定に一貫性がない場合に表示されるこのメッセージについて説明します。</block>
  <block id="f3dbf0e980db7e43f29f9eb47dc6a072" category="paragraph">ONTAPは、LUNのマッピング先のポートでVolume Set Addressingパラメータの設定が一貫していないかどうかを明示的にチェックします。設定が異なる場合、ONTAPの出力およびEMSメッセージでLUN IDの不一致として報告され<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="95b96a05f2f46b30490aa2c1e7f13039" category="paragraph">ONTAPでは、Volume Set Addressingが想定どおりに設定されていない場合にはアラートが表示されません。アラートが表示されるのは、LUNのマッピング先のチャネルディレクタポート間で設定が一致していない場合だけです。</block>
  <block id="fd15f4930573f5beb1da7d58bce17bfb" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドで特定のエラーメッセージが表示され、ストレージアレイがEMC Symmetrixである場合は、次のいずれかの処理を実行すると、問題の原因がVolume Set Addressingの不整合であるかどうかを特定できます。</block>
  <block id="f4e0f5f4c853f340143eee7c3feafcbe" category="list-text">ONTAPで、特定したアレイLUNに対してを実行し<block ref="0d80a7b1c992fa48e28fc285057317a7" prefix=" " category="inline-code"></block> ます。</block>
  <block id="f478e0f07fb53db3728a12eac092d018" category="paragraph">このコマンドは、アレイLUNへのすべてのパスと各パスに割り当てられているLUN IDを表示します。</block>
  <block id="5e03633218ab631608f9c777072291da" category="list-text">ストレージアレイで、特定されたLUNのマッピング先のチャネルディレクタポートのVolume Set Addressing設定を確認します。</block>
  <block id="435d591ecba0a963df0b7f54caecaf4f" category="paragraph">設定が一貫していないことが判明した場合は、ストレージアレイで構成の問題を修正し、両方のチャネルディレクタポートのパラメータをONTAPで必要な設定に設定します。</block>
  <block id="0b1e575cf41de37d30e2d62d50bed454" category="summary">ルートボリュームがディスクシェルフにあるONTAPシステムでは、アレイLUNをアグリゲートに追加してストレージとして使用する前に、アレイLUNの所有権をノードに割り当てる必要があります。</block>
  <block id="6e511cfe87a95df884e3eeb9f86e7f6c" category="paragraph">* 必要なもの *</block>
  <block id="65938c3330bedaa6834bdda7ac520511" category="list-text">バックエンド構成のテスト（ ONTAP システムの背後にあるデバイスの接続と構成のテスト）が完了している必要があります。</block>
  <block id="309ab14cd8f12cb8629f1c861eca199b" category="list-text">割り当てるアレイ LUN が ONTAP システムに提供されている必要があります。</block>
  <block id="88627428a34504bf05af531d65851c29" category="paragraph">所有権を割り当てることができるアレイ LUN の条件は次のとおりです。</block>
  <block id="d57ac8a739fe5a79b6d6e918dae44d1e" category="list-text">所有権が設定されていない</block>
  <block id="40603ec338b8ba195bb067fc323eb998" category="list-text">ストレージアレイの構成に関して次のようなエラーは発生しません。</block>
  <block id="d24963140562f725a6ebfc5013c135f3" category="list-text">アレイ LUN のサイズが ONTAP でサポートされる範囲外である。</block>
  <block id="077c35822587e579b6f9f7bf8dd018aa" category="list-text">LDEV が 1 つのポートにしかマッピングされていない。</block>
  <block id="c080299df472c3b3d98b2e86c3cdbfb8" category="list-text">LDEV に割り当てられている各 LUN ID に一貫性がない。</block>
  <block id="55d3dc722242b02d84ab2478e409889c" category="list-text">LUN のパスが 1 つしかない。</block>
  <block id="90728b906a78c507b1e15fe5090db627" category="paragraph">所有権の割り当てを行うアレイ LUN のバックエンド構成に ONTAP システムとストレージアレイの連携に支障をきたす問題があると、 ONTAP でエラーメッセージが表示されます。アレイ LUN の割り当てを続行するには、問題を修正する必要があります。</block>
  <block id="f2ff71670cd376e228a30b5ba452b8c5" category="paragraph">ONTAP では、アレイ LUN へのパスがすべて同じコントローラに接続されていたり、パスが 1 つしかないなど、割り当てようとしているアレイ LUN に冗長性の問題がある場合に警告が表示されます。冗長性の問題は、 LUN の所有権を割り当てる前に修正しても、割り当てたあとに修正してもかまいません。</block>
  <block id="088fd3f1de21809060a598954ee004a9" category="list-text">次のコマンドを入力して、ノードにまだ割り当てられていないアレイLUNを表示します。<block ref="4f81a5a37b761675f03e51a37f1ce7a5" prefix="" category="inline-code"></block></block>
  <block id="acc28269bee6adf00aaa6f3622701f6e" category="list-text">次のコマンドを入力して、このノードにアレイLUNを割り当てます。<block ref="d0df4539206a0852036d6a26322ea6a2" prefix="" category="inline-code"></block></block>
  <block id="14db239585c6ddb821bd10d5afa84d04" category="paragraph">冗長性のエラーをディスクの割り当て前ではなく割り当て後に修正する場合は、コマンドでパラメータを使用する必要があり<block ref="02e554f8f135bc49b80e8fc45a341757" prefix=" " category="inline-code"></block><block ref="3c698d76925a2f101122edd72990fc94" prefix=" " category="inline-code"></block> ます。</block>
  <block id="3eaa83165f727400d7fada1fc7738007" category="summary">アレイLUNのサイズや構成の再設定はストレージアレイで行う必要があります。アレイLUNがすでにONTAPシステムに割り当てられている場合は、ストレージアレイ管理者が再設定を行う前に、ONTAPを使用してアレイLUNを未使用の状態に変更する必要があります。</block>
  <block id="a07b18c872283289d5de975681d8192b" category="doc">アレイLUNのサイズまたは構成の変更</block>
  <block id="a865b178c11cf73eea0c7c034585edd3" category="paragraph">未使用の状態に変更するには、アレイLUNがスペアアレイLUNである必要があります。</block>
  <block id="2e49982dced1a45d49f8cdeeebe6cd4d" category="list-text">ONTAPシステムで、次のコマンドを入力して所有権情報を削除します。<block ref="ebcb03777c681958272223b62ad56265" prefix=" " category="inline-code"></block></block>
  <block id="9a5cc4f8663b90bc54f88467750b855d" category="list-text">ストレージアレイで、次の手順を実行します。</block>
  <block id="2367771513a0b5742b002be0bbfe456a" category="list-text">アレイLUNのマッピングを解除し、ONTAPシステムから認識されないようにします。</block>
  <block id="9604019669bee6893d47f128e297a3b3" category="list-text">アレイLUNのサイズまたは構成を変更します。</block>
  <block id="002f0db7db9e6e16dab2c32f7625c0e6" category="list-text">アレイLUNをONTAPで再び使用できるようにするには、アレイLUNをONTAPシステムに再度マッピングします。</block>
  <block id="51fafe1a36a6cad7cecba732e79eb881" category="paragraph">この時点で、アレイLUNの提供先のFCイニシエータポートからは認識されますが、どのONTAPシステムでもまだ使用できません。</block>
  <block id="9feb3b63089476400c39f7d59c9f595e" category="list-text">アレイLUNの所有者に設定するONTAPシステムで、次のコマンドを入力します。<block ref="d0df4539206a0852036d6a26322ea6a2" prefix=" " category="inline-code"></block></block>
  <block id="024acac7dfff041dcd2d7effedc4c5de" category="paragraph">所有権情報を削除したアレイLUNは、割り当てを再設定するまでどのONTAPシステムでも使用できません。アレイLUNはスペアのままにしておくことも、アグリゲートに追加することもできます。アレイLUNをストレージに使用するには、アグリゲートにアレイLUNを追加する必要があります。</block>
  <block id="6c1fc30b2ef31f48ed5462f06548169f" category="summary">チェックサム方式が異なるアグリゲートにアレイLUNを追加する場合は、アレイLUNのチェックサム方式を変更する必要があります。</block>
  <block id="ee934c6f49c90d6186c3fe91aa099079" category="doc">アレイLUNのチェックサム方式の変更</block>
  <block id="fd693bea0a49ad17607341a8be97f1be" category="paragraph">特定のワークロードにおけるパフォーマンスと各チェックサム方式のストレージ容量利用率のトレードオフを確認しておく必要があります。</block>
  <block id="23973c5c11f781c68af20dccd13eceda" category="paragraph">チェックサムの使用方法の詳細については、セールスエンジニアにお問い合わせください。</block>
  <block id="e0a84d583af9c4dc26dfacc839d5b014" category="list-text">AZCS（アドバンスドゾーンチェックサム）アグリゲートに追加するアレイLUNには、* zoned *チェックサム方式を割り当てる必要があります。ゾーンチェックサム方式のアレイLUNをAZCS方式のアグリゲートに追加すると、そのアレイLUNはアドバンスドゾーンチェックサム方式のアレイLUNになります。同様に、ゾーンチェックサム方式のアレイLUNをゾーン方式のアグリゲートに追加すると、アレイLUNはゾーンチェックサム方式になります。</block>
  <block id="a1543b6f86d6fc4528c2353d16ac2995" category="list-text">所有権を割り当てる際にアレイLUNのチェックサムを変更することはできません。チェックサムは、割り当て済みのアレイLUNでのみ変更できます。</block>
  <block id="8232d92ad87bd5d9a40ce7288bc75ce6" category="list-text">次のコマンドを入力して、チェックサム方式を変更します。<block ref="99c54aa98b93ee7cb6c4834bc7dc051c" prefix=" " category="inline-code"></block></block>
  <block id="870be34b0c5fd09be6875f10b287f749" category="paragraph">_disk name_は、チェックサム方式を変更するアレイLUNです。</block>
  <block id="af627ff03fe0939073a0052e3fa52844" category="paragraph">_owner_は、アレイLUNが割り当てられているノードです。</block>
  <block id="445210f76c20fe06f8d9a5dc079da2fa" category="paragraph">_new_checksum_type_には、blockまたはzonedを指定できます。</block>
  <block id="f6dd46754e6fc65a0bfef86379634172" category="paragraph"><block ref="a6e4a5eabdb1059fbc45301dfb2bc1cd" prefix="" category="inline-code"></block></block>
  <block id="1cc0176917ce93c6a607d3ebb8d7ff92" category="paragraph">アレイLUNのチェックサム方式が指定した新しいチェックサム方式に変更されます。</block>
  <block id="f9cb109fc4d8572dec8e15d9c30ffe59" category="list-text">次のコマンドを入力して、ノードシェルにアクセスします。<block ref="70ced1c6b9be9ce6281027bb7c3df3e3" prefix=" " category="inline-code"></block></block>
  <block id="33ae420cd2969bc75efe4f3fbeb119d1" category="paragraph">_node_name_は、このシステムの名前です。</block>
  <block id="a2ef957e4e7a64b16a8aa22ed0c5add5" category="list-text">次のコマンドを入力して、ノードシェルを終了します。<block ref="f24f62eeb789199b9b2e467df3b1876b" prefix=" " category="inline-code"></block></block>
  <block id="c223df8eaea85b6716dbbba090457ec7" category="summary">ストレージ アレイとONTAPシステムの正常な連携に支障をきたすバックエンド構成の代表的なエラーは修正する必要があります。storage array config showコマンドを使用すると、バックエンド構成エラーの有無を確認できます。</block>
  <block id="e6f7cbf0a79288b887ea8fda39c4f690" category="doc">システムの動作を妨げるバックエンド構成エラーの確認</block>
  <block id="a43493afe3e623abc4563f12fa7972d3" category="paragraph">ストレージ アレイとONTAPシステムの正常な連携に支障をきたすバックエンド構成の代表的なエラーは修正する必要があります。コマンドを使用<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> すると、バックエンド構成にエラーがないかどうかを確認できます。</block>
  <block id="34c1575b1c19b4caa035e3691be4f13b" category="list-text">次のコマンドを入力します。<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block></block>
  <block id="f01325d3bb9d94ed47e28ef32fbea823" category="paragraph">インストールの検証（およびトラブルシューティング）では、最初にコマンドを実行し<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ます。バックエンド構成のエラーがONTAPで検出されると、出力の下部に次のメッセージが表示され<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> ます。</block>
  <block id="a159a67ae7f9175ee4436918e29fde19" category="list-text">次の表に従って適切な処理を実行します。</block>
  <block id="bfa9de45095a3a90ebc55708a5ee6dd2" category="cell">状況</block>
  <block id="b6eb22a422cd49ad4ef0bc89b0de3c4a" category="paragraph"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix="" category="inline-code"></block> を実行するように指示されます。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="d2f35a031498a91c132ffdc10f3a345d" category="paragraph">手順3に進みます。</block>
  <block id="0996ed781ef1156b0349a1f8ace9092d" category="paragraph"><block ref="5801fda6c4274abf451b8ce898d11b8c" prefix="" category="inline-code"></block> を実行するように指示されていない<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="29ebf8f594ba52d1001656dc34905ff2" category="inline-xref-macro">想定するバックエンド構成かどうかの確認</block>
  <block id="5a4ac7c1b412e08578737eaf4d27fc7d" category="paragraph">出力を確認して<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、想定していた構成が出力に反映されていることを確認します。「想定するバックエンド構成かどうかの確認」セクションを参照してください（この手順の次の手順に進む必要はありません）。 <block ref="f15aaea1d12a23db5871c57c331ade95" category="inline-xref-macro-rx"></block></block>
  <block id="a234d1f4a253f7ec2acca53d1e0da67e" category="list-text">次のコマンドを入力します。<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block></block>
  <block id="0834db451aedf78b8aaa16d07ee4a2d8" category="paragraph"><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>コマンドを使用すると、問題の詳細をアレイLUNレベルで確認できます。</block>
  <block id="e19776dfc476c3b90a0f49a60b1ec3c0" category="list-text">エラー メッセージを確認し、表示されたエラーをすべて修正します。</block>
  <block id="40adbfa987339c32a5269a7070239fc2" category="paragraph">に表示されたエラーを修正する必要があります<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>。で検出された各問題の原因と解決方法については、メッセージとその解決方法を参照してください<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block><block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> 。 <block ref="0cc5a55ed5933ff542685ee31e3479f0" category="inline-xref-macro-rx"></block></block>
  <block id="d0e87c31c72dda833938c9d53ff26921" category="list-text">問題を修正したら、を再度実行して<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> エラーが修正されたことを確認します。</block>
  <block id="fbd27678125fe4f9deafac19becaf976" category="paragraph">に引き続き問題が表示される場合<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> は、対処方法の詳細をドキュメントでもう一度確認するか、テクニカルサポートにお問い合わせください。</block>
  <block id="5c833371493eb3239c4fc3835f7c6a5b" category="list-text">バックエンド構成エラーを解決したら、をもう一度実行して、<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 想定される構成と一致することを確認します。</block>
  <block id="582b616966553150988191e55621a1a1" category="summary">名前を指定してスペアアレイLUNをアグリゲートに追加する場合は、追加するアレイLUNのチェックサム方式がアグリゲートのチェックサム方式と同じであることを確認する必要があります。</block>
  <block id="f2eb661c4e73e06a79049d664fd1e286" category="doc">スペアアレイLUNのチェックサム方式の確認</block>
  <block id="be365d81e8dc0c846b06fbd13601fc3c" category="paragraph">1つのアレイLUNアグリゲートにチェックサム方式が異なるアレイLUNを混在させることはできません。チェックサム方式は、アグリゲートとアグリゲートに追加するアレイLUNで同じである必要があります。</block>
  <block id="3825c8456641256fe7283fdac0f92c1a" category="paragraph">アグリゲートに追加するスペアアレイLUNの数を指定した場合、アグリゲートと同じチェックサム方式のアレイLUNがデフォルトでONTAPで選択されます。</block>
  <block id="347da7dc16ca06a6ab97841064f05193" category="paragraph">ゾーンチェックサム方式のアレイLUNを使用して新規に作成したアグリゲートのチェックサム方式は、_advanced zoned checksum_（AZCS）になります。ゾーンチェックサム方式は、既存のゾーン方式のアグリゲートでも引き続きサポートされます。ゾーン チェックサム方式の既存のアグリゲートに追加したゾーン チェックサム方式のスペア アレイLUNは、ゾーン チェックサム方式のままです。AZCSチェックサム方式のアグリゲートにゾーンチェックサム方式のスペアアレイLUNを追加すると、チェックサムの管理にAZCSチェックサム方式が使用されます。</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="list-title">ステップ</block>
  <block id="b1d27f02d59b274a042abaa0542cacab" category="list-text">次のコマンドを入力して、スペアアレイLUNのチェックサム方式を確認します。</block>
  <block id="ce3e157d78d46681316fb3eba0af93e5" category="paragraph"><block ref="9263002b526f5a0078d8bb7c820884fc" prefix="" category="inline-code"></block></block>
  <block id="9bda931f12e3043fa5d354118847f791" category="paragraph">ブロックチェックサム方式のアレイLUNはブロックチェックサム方式のアグリゲートに、ゾーン方式のアレイLUNは_advanced zoned checksum_（AZCS）方式のアグリゲートに追加できます。</block>
  <block id="603fc9f8751712b6025885289d36a2d5" category="summary">FCイニシエータポートで認識されるアレイLUNの数を確認できます。1つのFCイニシエータポートで認識できるアレイLUN数は、ONTAPのリリースによって異なります。</block>
  <block id="ecc9b579c4a7537a9763c557fef02445" category="doc">FCイニシエータポートで認識されるアレイLUN数の確認</block>
  <block id="f85cf31e24964c0eb3c4f3aeb53e623b" category="list-text">FCイニシエータポートで認識される番号を確認します。<block ref="664c71ee07b65fd2e9d595c954b7ee88" prefix=" " category="inline-code"></block></block>
  <block id="7d2abdde90d4d0ddc577631620721b72" category="paragraph"><block ref="4680646069beb766c55c77c87c6ce3ec" prefix="" category="inline-code"></block></block>
  <block id="9418a07bbfa95710eab22fb3617d9724" category="list-text">あるノードに対してアレイLUNグループが複数ある場合は、そのノードのすべてのLUNグループのアレイLUN数を合計し、そのノードに指定されたFCイニシエータで認識されるアレイLUNの総数を算出します。</block>
  <block id="634d4ae94686561e4d1979669e659452" category="paragraph">次の例は、すべてのノードのFCイニシエータ0aの出力を示しています。特定のFCイニシエータで認識される_particulary_nodeのアレイLUN数を確認するには、そのノードについて表示されるすべてのターゲットポートの値を確認する必要があります。たとえば、vgv3070f51-01：0aで認識されるアレイLUN数を確認するには、LUNグループ1（HP）のLUN数24をLUNグループ2（DGC_RAID5_1）のLUN数1に加算します。これにより、vgv3070f51-01：0aで認識されるアレイLUN数は合計25個になります。</block>
  <block id="ce1aaef7c5c22a26099c39fd288392bf" category="paragraph">LUNグループ0とLUNグループ2についても、vgv3070f51-02：0aで認識されるアレイLUN数を同じ手順で確認します（同じく25）。</block>
  <block id="315b5b38f3c590bd1c76fff85258c2ba" category="summary">ONTAPシステムでは、個 々 のFCポートをイニシエータとして設定できます。イニシエータモードでは、ポートをストレージアレイに接続できます。</block>
  <block id="2e74aaf310815f2ef37d312efe082180" category="doc">イニシエータとしてのFCポートの設定</block>
  <block id="b9d81ba929b865fed6f58fff6461a327" category="list-text">*オプション：*アダプタポートにすでにLIFが設定されている場合は、コマンドを使用してすべてのLIFを削除します<block ref="942a07c6842a4cc09fa4eee193feccd8" prefix=" " category="inline-code"></block> 。</block>
  <block id="e9bd2fb96d27a5c869c14ec781e2485d" category="paragraph">LIFがポートセットに含まれている場合、LIFを削除する前にポートセットからLIFを削除する必要があります。</block>
  <block id="9854bc162236b7f315d3948d196f7c6b" category="paragraph">次の例は、SVM vs3のLIFを削除する方法を示しています。<block ref="4be4aa4486afc2de6c4f3134606473c3" prefix=" " category="inline-code"></block></block>
  <block id="7d6874d0a97b266978bd99596083916f" category="list-text">コマンドを使用して、ポートをオフラインにし<block ref="f3ccd67c000996bf7db97fecceedeff5" prefix=" " category="inline-code"></block> ます。</block>
  <block id="6a1636871817945e96fbc292091f41dc" category="paragraph">次の例は、ノードsysnodeのポート0cをオフラインにする方法を示しています。<block ref="773682be5c61d74b9b46e967466370b7" prefix=" " category="inline-code"></block></block>
  <block id="ae35e360eb06818e68f7600bdd03c0f7" category="list-text">コマンドを使用して<block ref="68edd330bcf82ed973e5d3dd6b6cf7f7" prefix=" " category="inline-code"></block> 、オフラインのポートをターゲットからイニシエータに変更します。</block>
  <block id="4e631c0979f29d878eae181d23457b37" category="paragraph">次の例は、0cのポートタイプをターゲットからイニシエータに変更する方法を示しています。<block ref="b56fe9b32e7526f37c78a496fc4b8b62" prefix=" " category="inline-code"></block></block>
  <block id="82ae8f32c970f7e7ea866a96bbe2060f" category="list-text">変更したアダプタをホストしているノードをリブートします。</block>
  <block id="6cbb02142430105f4ab73a5ca2619864" category="list-text">コマンドを使用し<block ref="d775a7c491e3e6a78b2224c3792d44ac" prefix=" " category="inline-code"></block> て、構成に対してFCポートが正しく設定されていることを確認します。</block>
  <block id="dcd9180f6a419b77ddd4d4e058f9aa5f" category="paragraph">次の例は、0cのポートタイプの変更を示しています。</block>
  <block id="c4a8e441c8c5ca7056a0cd53a84b0cd3" category="paragraph"><block ref="d435a9288b0843e8e4bab9dfa6a3e3e5" prefix="" category="inline-code"></block></block>
  <block id="3f07a1950d9361bd174cce805808f13b" category="list-text">コマンドを使用して<block ref="d5a528ec5e5a0830fc5e146f202ca265" prefix=" " category="inline-code"></block> 、オフラインのポートをオンラインに戻します。</block>
  <block id="e479738aaf6755ff50e2d16215078253" category="paragraph">次の例は、ポート0cをオンラインにする方法を示しています。<block ref="2e1468c17af42f7e4382370d99f6c374" prefix=" " category="inline-code"></block></block>
  <block id="5bf831f110557b80730a32a18876735b" category="summary">ストレージアレイ管理者は、ONTAPで使用するアレイLUNに他のホストがアクセスできないように、ストレージアレイを設定してホストグループを作成する必要があります。</block>
  <block id="99d52a07c9514e8947b4e0228f3dbe36" category="doc">LUNセキュリティの設定</block>
  <block id="c2966b222487595449932953a69915ee" category="paragraph">LUNセキュリティの概念は、ストレージアレイでLUNセキュリティが設定される点を除いて、ゾーニングに似ています。LUNセキュリティは、異なるサーバがSAN上の相互のストレージを使用しないようにします。LUNセキュリティは、_LUNマスキング_とも呼ばれます。</block>
  <block id="4d64b04b623fcc6b822216c6dd4ab3fc" category="list-text">ストレージアレイでLUNセキュリティを設定します。</block>
  <block id="811bf7450fcfd701928111de6561601f" category="paragraph">LUNセキュリティの設定については、ストレージアレイのドキュメントを参照してください。</block>
  <block id="c531e683ce7d222c76b28a94e0e659ec" category="paragraph">また、各ベンダーのストレージアレイに対応するLUNセキュリティの詳細についても、を参照してください<block ref="737823659babb212ffbc8948b616644f" category="inline-link-rx"></block> 。一部のストレージアレイは、ONTAPシステム専用にする必要があります。</block>
  <block id="3aa9fd1fcd4687585dead6b51b68b87a" category="list-text">ONTAPシステムのホストグループまたは同等のものを作成します。</block>
  <block id="988f30e2442a655ba8e432004e711387" category="paragraph">ホストグループ_という用語は、一部のストレージアレイでは、ストレージアレイの特定のポートへのホストアクセスを指定するための設定パラメータを表すために使用されます。この設定パラメータを表す用語は、ストレージアレイによって異なります。ホストグループ（または同等のもの）を作成するプロセスは、ストレージアレイベンダーごとに異なります。</block>
  <block id="300a0492b022851e50376a948b5ecdca" category="summary">アレイ LUN で使用する ONTAP を設定する場合は、ルートアグリゲートとルートボリュームを設定し、診断およびリカバリ処理用のスペースをリザーブし、クラスタをセットアップする必要があります。</block>
  <block id="6a478f2c1aa3b5c071c7350c437211ff" category="doc">アレイ LUN のみを使用するシステムでの ONTAP の設定</block>
  <block id="d1b9838e152135ce9ffe100e6014cb3a" category="list-text">ONTAP システムをストレージアレイに接続する必要があります。</block>
  <block id="38319872cf169982110419df88248d72" category="list-text">ストレージアレイ管理者によって LUN が作成され、 ONTAP に提供されている必要があります。</block>
  <block id="6b32da1f7cce9cb3998793b8ef2e7d47" category="list-text">ストレージアレイ管理者によって LUN セキュリティが設定されている必要があります。</block>
  <block id="7750f529ccd4dfc7797bfc40a22ade86" category="paragraph">アレイ LUN で使用する各ノードを設定する必要があります。HA ペアのノードの場合は、 1 つのノードで設定のプロセスを完了してからパートナーノードの設定に進んでください。</block>
  <block id="55f7c7f04bcc7d72fe2825944ebfc7b4" category="list-text">プライマリノードの電源をオンにし、コンソールに次のメッセージが表示されたら、Ctrl+Cキーを押してブートプロセスを中断します<block ref="4bc036e1023f9cd7c0df88dc45ad8dc4" prefix=" " category="inline-code"></block>。</block>
  <block id="236d7189e86afabda592c7a3053c8721" category="list-text">ブートメニューのオプション4）を選択します <block ref="9b0fd1ccfb55115d445ce888a54f8c6f" prefix="(" category="inline-code"></block>。</block>
  <block id="a98eb1e6d9dfd94b037faeb2a3d5ee4a" category="paragraph">ONTAP で使用可能なアレイ LUN のリストが表示されます。また、ルートボリュームの作成に必要なアレイ LUN のサイズも表示されます。ルートボリュームの作成に必要なサイズは、使用する ONTAP システムによって異なります。</block>
  <block id="232ff69144efec75e69fe200f1be2c22" category="list-text">アレイ LUN が割り当てられていない場合は、使用可能なアレイ LUN が ONTAP によって検出されて次の例のように表示されます。</block>
  <block id="28bf3d6141a1e7e1c0efe03b0adedc19" category="list-text">以前に（メンテナンスモードなどで）アレイLUNが割り当てられている場合は、ONTAPをインストールするノードのアレイLUNかHAパートナーのアレイLUNかに応じて、またはとマークされ<block ref="f5ddaf0ca7929578b408c909429f68f2" prefix=" " category="inline-code"></block><block ref="7454739e907f5595ae61d84b8547f574" prefix=" " category="inline-code"></block> ます。</block>
  <block id="4ec5276efb5326cd2fdcf3e6383deaa2" category="paragraph">この例では、インデックス番号3と6のアレイLUNは以前にこのノードから割り当てられていたため、とマークされてい<block ref="f5ddaf0ca7929578b408c909429f68f2" prefix=" " category="inline-code"></block> ます。</block>
  <block id="d079f2e30de913d73887a98d1cee68af" category="list-text">ルートボリュームとして割り当てるアレイ LUN のインデックス番号を選択します。</block>
  <block id="0a6510897dc1ff3e4879e54d5d9b1945" category="paragraph">ルートボリュームを作成するために十分なサイズのアレイ LUN を選択してください。</block>
  <block id="2e107389825d90b1845a4df5d0f4a6cd" category="paragraph">ルートボリュームの作成用に選択したアレイLUNがとマークされ <block ref="3dc81331999a78a7064846f33494427c" prefix="" category="inline-code"></block>ます。</block>
  <block id="f92afc3b026d78a33abacb0eee1d4b6b" category="paragraph">次の例では、インデックス番号 3 のアレイ LUN がルートボリュームの作成用にマークされています。</block>
  <block id="19a35567fb97930c9e7468e6db094640" category="list-text">診断とリカバリのオプション用に割り当てるアレイ LUN のインデックス番号を選択します。</block>
  <block id="a49550c8bd50a25526042b3f4e8eee41" category="paragraph">診断とリカバリのオプションで使用するために十分なサイズのアレイ LUN を選択してください。必要に応じて、合計が必要なサイズ以上になるよう、複数のアレイ LUN を組み合わせて選択することもできます。複数の LUN を選択するには、診断とリカバリのオプション用に選択するアレイ LUN のすべてのインデックス番号をカンマで区切って入力する必要があります。</block>
  <block id="c58db60c9a8af2206e008f65968c9335" category="paragraph">次の例では、ルートボリュームの作成用に選択したアレイ LUN 、および診断とリカバリのオプション用に選択したアレイ LUN のリストが表示されています。</block>
  <block id="fc87123e9a833d53e62ae87e47aea7f3" category="paragraph">「no」を選択すると、LUNの選択が解除されます。</block>
  <block id="0ed10ee7d6bf9a9b01e623092941d24f" category="list-text">インストールプロセスを続行するかどうかを確認するプロンプトが表示されたら、と入力します<block ref="415290769594460e2e485922904f345d" prefix=" " category="inline-code"></block> 。</block>
  <block id="e79badcaf0b3c7829bf21e2008722e24" category="paragraph">ルートアグリゲートとルートボリュームが作成され、残りのインストールプロセスが続行されます。</block>
  <block id="e6db32df0d7371b10a45ab8ee955ef22" category="list-text">ノード管理インターフェイスの作成に必要な詳細を入力します。</block>
  <block id="e054c18e078c1fcdf1a17bbe019cf061" category="paragraph">次の例では、ノード管理インターフェイス画面に、ノード管理インターフェイスの作成に関する確認メッセージが表示されています。</block>
  <block id="6421ee396f6d3b6ded2686fbb0687587" category="paragraph">アレイ LUN で使用するすべてのノードで ONTAP を設定したら、クラスタのセットアッププロセスを完了します。</block>
  <block id="1a9dbc3089b2c22ecdefe28bf423258a" category="inline-link">ソフトウェアのセットアップ</block>
  <block id="49fd6eac557fd3205a3431ae072641b8" category="paragraph"><block ref="49fd6eac557fd3205a3431ae072641b8" category="inline-link-rx"></block></block>
  <block id="a25592a584bd3a8f4e534f9bf7d57180" category="summary">ONTAPシステムをストレージアレイに接続するには、ONTAPシステム、スイッチ、およびストレージアレイを相互にケーブル接続し、テープバックアップデバイスなどの追加のデバイスを接続する必要があります。</block>
  <block id="1b6d9d849bb1824777b46e45cd22d568" category="doc">ストレージアレイへのONTAPシステムの接続</block>
  <block id="50a92ab00fdd34ad778a4aef400fce02" category="list-text">ストレージアレイへの接続に使用するONTAPシステムのオンボードポートと拡張アダプタポートを特定しておく必要があります。</block>
  <block id="350faba04ab7ea6a7a18541dcec27f6b" category="list-text">ONTAPシステムへの接続に使用するストレージアレイ上のポートを特定しておく必要があります。</block>
  <block id="fe75c978ee594aacc69c20f45faf6fd0" category="paragraph">この手順では、各イニシエータを1つのターゲットポートに接続し、2つのパスを使用してONTAPシステムをストレージアレイに接続する方法について説明します。</block>
  <block id="5325348b9911038214ff443b1cfde4a7" category="list-text">次の表に示すように、ONTAPシステムをスイッチに接続します。</block>
  <block id="0ba2b3e0a887666765eb2d690768c576" category="cell">対象</block>
  <block id="e3df4624e4d36502b5d044730eab97cc" category="cell">実行する手順</block>
  <block id="ea4e2067ffabbad1f9bdfd9233c5b40d" category="paragraph">スタンドアロンシステム</block>
  <block id="f175d3d6a71fc407c43e6093623e8b80" category="list-text">ONTAPシステムの1つのFCイニシエータポートとスイッチ1のポートをケーブルで接続します。</block>
  <block id="8872a8abd35a84fdccbc952e8a2d34ff" category="list-text">冗長FCイニシエータポートとスイッチ2のポートを別のケーブルで接続します。</block>
  <block id="3cdd93e247df7344473ca0add028b55e" category="paragraph">HAペア</block>
  <block id="4baabe708da115e7ae7ca732f197661b" category="list-text">HAペアの最初のノードで、1つのFCイニシエータポートとスイッチ1のポートをケーブルで接続します。</block>
  <block id="1ee4edffbcc47c5c01d85e5656b343fc" category="list-text">同じノードの冗長FCイニシエータポートとスイッチ2のポートを別のケーブルで接続します。</block>
  <block id="9c4f20c199415ceaf4d63189b3732804" category="list-text">HAペアの2つ目のノードで、1つのFCイニシエータポートとスイッチ1のポートをケーブルで接続します。</block>
  <block id="3f841a95ca8ab4aa41b2df9ea7aeac5b" category="list-text">次の表の手順と、HAペアの場合は表の下の図を使用して、スイッチをストレージアレイに接続します。</block>
  <block id="f317f627be8f5bb574a2ea1a3f90f587" category="cell">スタンドアロンシステムの場合</block>
  <block id="f0fbc3c16c616f1821b4c99c27bb4fc5" category="cell">HAペアの場合</block>
  <block id="df977e4ba0783bd443ca078322093df0" category="list-text">スイッチ1をストレージアレイコントローラ1のポート1Aに接続します。</block>
  <block id="8c636a7f7c67b22aba66e6513bdc48f8" category="list-text">スイッチ2をストレージアレイコントローラ2のポート2Aに接続します。</block>
  <block id="04f6a168e00f8e30034d7622260c98a7" category="list-text">スイッチ1をストレージアレイコントローラ1のポート1Bに接続します。</block>
  <block id="6f25906033eec14b6ba73b343b2d5925" category="list-text">スイッチ2をストレージアレイコントローラ2のポート2Bに接続します。</block>
  <block id="a1235d8215e2068eac19079a60a06d6a" category="paragraph">次の図は、HAペアの接続を示しています。</block>
  <block id="5128cb4dc3f02ceb7fe5900eb48b18a5" category="image-alt">vs1の0aとvs2の0aがストレージアレイコントローラ1に接続されます。</block>
  <block id="55413ff88f45e6e54084de93d9b8a075" category="list-text">*オプション：*別のFCイニシエータポートまたはSCSIテープアダプタを使用して、ONTAPシステムをテープバックアップデバイスに接続します。</block>
  <block id="7d1731f9b96a6964835432e4d84459aa" category="list-text">ストレージアレイが正しく設定および接続され、電源がオンになっていることを確認します。</block>
  <block id="b036e06909146483c60cd905c765c3dc" category="paragraph">ONTAPシステムの電源をオンにする前に、設定および接続済みのストレージアレイの電源をオンにしておく必要があります。ストレージアレイの電源をオンにする方法については、ストレージアレイのドキュメントを参照してください。</block>
  <block id="186b57b26b08aa1b2590c8946599e0ea" category="list-text">導入環境にスイッチが含まれている場合は、すべてのスイッチIDが設定されていることを確認してから、10分間隔でオンにします。</block>
  <block id="03e12a92dec4d1d9374537d9de77373b" category="list-text">*オプション：*該当する場合は、テープバックアップデバイスをオンにします。</block>
  <block id="b3662b07a815b8e012f1750f20e55187" category="list-text">ONTAPシステムの電源を入れ、ネットワークの初期セットアップと設定を行います。</block>
  <block id="2bb9d07c47504d8a5363e29509e152b8" category="list-text">ONTAPシステムをストレージアレイに接続したあとにONTAPシステムのWWNがストレージアレイで自動的に検出されない場合は、WWNを手動で取得する必要があります。</block>
  <block id="c1188940c17b719bb2a19577ad384eb9" category="paragraph">続いて、ストレージアレイと連携するためのONTAP管理機能の適切な設定を行う必要があります。</block>
  <block id="e580fddabc0fb7ced477570f32d47eda" category="summary">ターゲットキュー深度の設定が原因でストレージアレイでパフォーマンスの問題が発生している可能性がある場合は、キュー深度に設定されている値とFCイニシエータポートの要求の状態を確認する必要があります。</block>
  <block id="fcbd65f8a570b3e2846336b23b32d9c3" category="doc">ターゲットキュー深度の統計の表示</block>
  <block id="468416c3c58a2a3bb0ce1752fd9c2d4c" category="paragraph">ターゲットポートでの要求の処理に問題があるかどうかを判断するために、さまざまなレベルの詳細情報を参照できます。次の手順は、ターゲットポートキュー深度の現在の設定を確認し、ポートで待機中の要求があるかどうかを確認し、ポートの詳細な統計を表示してポートのワークロードを把握する方法を示しています。</block>
  <block id="f6265bd92fb05948c18b759ee826f2fb" category="list-text">コマンドでパラメータを指定して、<block ref="d90ba20b63acab53952d68665c50ec47" prefix=" " category="inline-code"></block><block ref="7aef5f885a9c89afe8ef4563814d1889" prefix=" " category="inline-code"></block> ターゲットポートキュー深度の現在の値を表示します。</block>
  <block id="22b21c97557f1847329ccfbe83eb89f5" category="list-text">コマンドを使用し<block ref="c8288298283aa3ba0414c826dea56685" prefix=" " category="inline-code"></block> て、ストレージアレイの各ポートのキュー深度の設定を表示します。</block>
  <block id="85b23015f8ef17210a7680d0d5fd5f02" category="paragraph">の値がの場合<block ref="d84f492dd27777cae3f18512dc9ad0eb" prefix=" " category="inline-code"></block> は、特定の最大キュー深度がポートに設定されておらず、ストレージアレイレベルで設定された値がポートで使用されていることを示します。</block>
  <block id="685d918047527de3b59628d061a3847a" category="list-text">コマンドを使用し<block ref="ee77efc11bd001b53eb2e3ed61757d9c" prefix=" " category="inline-code"></block> て、ストレージアレイのターゲットポートに関するパフォーマンス情報を表示します。</block>
  <block id="40c2f2616c68e4ae109b913ab76b72e9" category="paragraph">このコマンドの結果は、ポートに関連するパフォーマンスの問題があるかどうかを確認するのに役立ちます。およびの値は、<block ref="8c186e0baaed86d8d3a168eb670fd7d2" prefix=" " category="inline-code"></block><block ref="102b4615843a16f419e44157a1d7655f" prefix=" " category="inline-code"></block> ポートのパフォーマンスの概要を示しています。これらの値が処理を待機している要求の割合が高い場合、またはポートがビジー状態である時間が非常に長い場合は、ポートの状態をさらに調査する必要があります。</block>
  <block id="d13119ea5a934548d52209a6c0346883" category="list-text">ポートの詳細情報を取得するには、、、またはの各フィールドを指定してコマンドを実行し<block ref="3fafdfc990f44295dd78e53d672161b0" prefix=" " category="inline-code"></block><block ref="be73772ca077f2d32d3b5089ce2b0adf" prefix=" " category="inline-code"></block><block ref="a95000a233f538e334d9da64a21be102" prefix=" " category="inline-code"></block><block ref="150ce1fa8de4826d1cdffffbba1b4671" prefix=" " category="inline-code"></block><block ref="946669a5cac24544b8ec5df25d11da1f" prefix=" " category="inline-code"></block><block ref="5cedcf4c056f2095999836602ad3cf72" prefix=" " category="inline-code"></block> ます。</block>
  <block id="4a6cea3a17b28c31b3808ca85aced689" category="summary">アレイLUNを使用するONTAP構成のトラブルシューティングでは、体系的なアプローチに従って問題の原因を特定する必要があります。</block>
  <block id="24ca8ca084330b44714752d8d0fe31e8" category="doc">アレイLUNを使用するONTAP構成のトラブルシューティングの開始</block>
  <block id="55391803b655776f42301700dc022cb3" category="paragraph">この手順では、トラブルシューティングを行うための順序を提案します。</block>
  <block id="932484c0104cc9b00bcf3bf761e9589c" category="paragraph">トラブルシューティングの手順を続行する際は、エスカレーション時にテクニカルサポートにこの情報を提供できるように、問題について収集した情報をすべて保存しておく必要があります。</block>
  <block id="692319f6f0b0f7e4d1158d56f7048472" category="list-text">問題が_front end_（対応するすべてのプラットフォームに影響するONTAPの問題）であるか、_back end_（スイッチまたはストレージアレイの構成に関する問題）であるかを確認します。</block>
  <block id="4916a8b9bbb0d86c42830b5a4eaa5a13" category="paragraph">たとえば、ONTAP機能を使用しようとして想定どおりに動作しない場合は、フロントエンドに問題がある可能性があります。</block>
  <block id="e7d4035481c354ccf0429d43ddf994b3" category="list-text">問題の性質に応じて、適切に対処します。</block>
  <block id="e629c0c47b2a83aba6344757eaccf6d4" category="cell">ONTAP構成の内容</block>
  <block id="9792a4eebc59c44369f1f98f9d27237a" category="cell">操作</block>
  <block id="942bdc545741273027bcccd61ff95c77" category="paragraph">フロントエンドの問題</block>
  <block id="604c8f2a992ae8961da6877865f4954b" category="paragraph">ONTAPのガイドに記載されている手順に従って、ONTAP機能のトラブルシューティングを進めます。</block>
  <block id="5358757de9216cc29d688612a3d72fe1" category="inline-link">ONTAP 9ドキュメント</block>
  <block id="05d1b66800ffa31a913a6add4305e4e3" category="paragraph"><block ref="05d1b66800ffa31a913a6add4305e4e3" category="inline-link-rx"></block></block>
  <block id="636a99a24ba5b56a6edeaf367c12fcce" category="paragraph">バックエンドの問題</block>
  <block id="f76dc55e046691cd947a5a93633fc9cf" category="list-text">Interoperability Matrixで、構成、ストレージアレイ、ストレージアレイのファームウェア、スイッチ、およびスイッチのファームウェアがサポートされていることを確認します。</block>
  <block id="29c81145f8df4c302d2a5db797d28b64" category="paragraph"><block ref="29c81145f8df4c302d2a5db797d28b64" category="inline-link-rx"></block></block>
  <block id="2f6a3e71d016c987047038edaefc1c27" category="list-text">コマンドを使用し<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> て、システムで検出可能な代表的なバックエンド構成エラーの有無を確認します。</block>
  <block id="2461898602fc976c5c86a86ad8ea9b4c" category="paragraph">ONTAPでバックエンド構成エラーが検出された場合は、コマンドを実行してエラーの詳細を取得する必要があり<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block> ます。</block>
  <block id="51f11ffa04777efc1f9bb22df2d01691" category="list-text">問題の原因がまだ明確でない場合は、次の参考資料を参照して、システムがストレージアレイと連携するための要件を満たしていることを確認してください。</block>
  <block id="5cc676e7998d4a720ec8361116f96702" category="inline-xref-macro">ストレージアレイを含むインストール環境の検証</block>
  <block id="eea17493f39639b1b1111409a712e498" category="list-text"><block ref="eea17493f39639b1b1111409a712e498" category="inline-xref-macro-rx"></block></block>
  <block id="7c5ee56a01b06b00d2d910cc295d8c56" category="list-text"><block ref="7c5ee56a01b06b00d2d910cc295d8c56" category="inline-link-rx"></block></block>
  <block id="2dad342716fa6f6b49d782c9f3a39bc6" category="list-text">それでも問題が解決しない場合は、テクニカルサポートにお問い合わせください。</block>
  <block id="51e0ebc5c53d9886426e8e4c2162b0db" category="summary">アレイLUNで使用する各ONTAPノードにV_StorageAttachライセンスをインストールする必要があります。クラスタ全体で1つのライセンスではありません。ライセンスをインストールするまで、アグリゲート内のアレイLUNは使用できません。</block>
  <block id="e64d1e0877e50804ff8487d692174af1" category="doc">アレイLUNを使用するためのライセンスのインストール</block>
  <block id="d08d557fb68080341a3c090ef0bbcf00" category="paragraph">アレイLUNで使用する各ONTAPノードにV_StorageAttachライセンスをインストールする必要があります。クラスタの単一ライセンスではありません。ライセンスをインストールするまで、アグリゲート内のアレイLUNは使用できません。</block>
  <block id="6dce6a8d34576d6e6d2f961c8b413963" category="list-text">クラスタがインストールされている必要があります。</block>
  <block id="46828fa53ffc65db6a237d68a35398f5" category="list-text">V_StorageAttach ライセンスのライセンスキーを用意しておく必要があります。</block>
  <block id="45f6b7926a0d02840becf80d4f61f745" category="paragraph">V_StorageAttachパッケージのライセンスキーがすでにインストールされている場合は、この手順を実行する必要はありません。ONTAPシステムをディスクと一緒に購入した場合、通常はライセンスパッケージがインストールされた状態で出荷されます。また、多くのお客様は、インストールプロセスの早い段階で必要なすべてのライセンスをインストールします。</block>
  <block id="9050684360ad91577f32f8976ccf2ac5" category="list-text">アレイLUNで使用するクラスタ内のONTAPノードごとに、次のコマンドを入力します。<block ref="d5d00caf4273b5190acca42902af14e8" prefix=" " category="inline-code"></block></block>
  <block id="9ff125781a71d9b47b6fdf66f5f4d916" category="list-text">出力を参照して、V_StorageAttachパッケージが表示されていることを確認します。</block>
  <block id="c33a60a93d5f984f0fb77517e6251545" category="summary">スペアアレイLUNの所有権を別のノードに切り替えることができます。これは、ノード間で負荷を分散する場合に必要になることがあります。</block>
  <block id="1f78917d1e1af136d2dcca14450b72c8" category="doc">スペアアレイLUNノワリアテノヘンコウ</block>
  <block id="336b702abdf8a07dd39d90d8277633c7" category="paragraph">a_spare_array LUNの所有権を別のノードに変更できます。これは、ノード間で負荷を分散する場合に必要になることがあります。</block>
  <block id="3962db7ba45c766594e5f3d4c928632e" category="list-text">再割り当てするアレイLUNを所有しているノードのコンソールで、次のコマンドを入力してノードのスペアアレイLUNのリストを表示します。<block ref="92c79528995c0a5a36683429ba59f57b" prefix=" " category="inline-code"></block></block>
  <block id="804fab9c52fcc0cbe58ec3d85ceefb2a" category="paragraph">ノードが所有するアレイLUN（スペアとアグリゲート内のLUNの両方）が表示されます。</block>
  <block id="2b4c9b4b4c146c654dfa6c5a77520c6d" category="list-text">別のノードに再割り当てするLUNがスペアLUNであることを確認します。</block>
  <block id="1e13f7aea99b26f47581bf869c9f843d" category="list-text">次のコマンドを入力して、アレイLUNの所有権を別のノードに割り当てます。<block ref="227d5b302b7c59c94dd481455cc673e7" prefix=" " category="inline-code"></block></block>
  <block id="415d82c982d9b6a4eb8ae0ce7f4fa9f8" category="paragraph">forceオプションを使用しなかった場合や、アレイLUNがすでにアグリゲートに追加されている場合は、アレイLUNの所有権は変更されません。</block>
  <block id="78d46ba3b75ae85c89bec081e4c93f39" category="list-text">次のコマンドを入力して、スペアアレイLUNの所有権がもう一方のノードに変更されたことを確認します。<block ref="92c79528995c0a5a36683429ba59f57b" prefix=" " category="inline-code"></block></block>
  <block id="1239d0d1052d8679715cc4c348689d6c" category="paragraph">所有者を新しい所有者に変更したスペアアレイLUNがスペアのリストに表示されなくなります。アレイLUNが引き続き表示される場合は、コマンドを繰り返して所有権を変更してください。</block>
  <block id="ecff3550d7b89a2fa0a58bdf21fe78c3" category="list-text">デスティネーションノードで次のコマンドを入力して、所有権を変更したスペアアレイLUNがデスティネーションノードで所有されるスペアとして表示されることを確認します。<block ref="92c79528995c0a5a36683429ba59f57b" prefix=" " category="inline-code"></block></block>
  <block id="60d553b9b620e3af890b28e216e43e1a" category="paragraph">アレイLUNをストレージに使用するには、アグリゲートに追加する必要があります。</block>
  <block id="1d7b78839f985b18e9aa5bf8e672f1d7" category="summary">ONTAPシステムがSANスイッチに接続されていない場合は、スイッチへの接続に使用されるFCイニシエータポートのWorld Wide Port Name（WWPN；ワールドワイドポート名）を取得する必要があります。</block>
  <block id="47414b5795303043ec7b69706fbe9c35" category="doc">手動でのWWPNの取得</block>
  <block id="c0be45e810df5f46b52a80c0fa56bf58" category="paragraph">ONTAPシステムがSANスイッチに接続されていない場合は、スイッチへの接続に使用されるFCイニシエータポートのWorld Wide Port Name（WWPN；ワールドワイドポート名）を取得する必要があります。</block>
  <block id="b11eb2daca17adf0cbffb45083121b6d" category="paragraph">スイッチ構成にWWPNを入力するとエラーが発生する可能性があるため、スイッチで自動的にWWPNを検出することを推奨します。</block>
  <block id="e64459a9358caac2dc62d75e083830ca" category="list-text">システムのコンソールをラップトップコンピュータに接続します。</block>
  <block id="8c81709ed3cc24cd26c782b8f68eb100" category="list-text">システムの電源を入れます。</block>
  <block id="91d028ed677569cad6942bc1bc25df2f" category="paragraph">コンソールに次のメッセージが表示されたら、Ctrl+Cキーを押してブートプロセスを中断します。</block>
  <block id="f6e7cc6e1f1c698738c162f117abeee9" category="list-text">ブートオプションメニューで[Maintenance Mode]オプションを選択します。</block>
  <block id="cff7cd8252fb4986eda70f34e0a829ba" category="list-text">次のコマンドを入力して、システムのFCイニシエータポートのWWPNの一覧を表示します。<block ref="859b25b572a37d0f2325ec564b95c2cf" prefix=" " category="inline-code"></block></block>
  <block id="5c8d34de371ffdc6963c01b102ecd168" category="paragraph">特定のアダプタWWPNを表示するには、アダプタ名を追加します（例：storage show adapter 0a）。</block>
  <block id="20b20f6c960f270f10d37318eefbbce6" category="list-text">使用するWWPNを記録し、メンテナンスモードを終了します。</block>
  <block id="c78ac4c8b6277f294bff887d92659a00" category="summary">アレイLUNを使用する構成でONTAPシステムのセットアップを開始するには、ONTAPで使用するストレージをストレージアレイ管理者が準備する必要があります。</block>
  <block id="0298c9d72aff4562d5434fe4a448c6a1" category="doc">ONTAP システムで使用するストレージアレイの準備</block>
  <block id="6ceeef6f6fdaf06b95cae87e460cfe9b" category="paragraph">構成で使用するストレージアレイ、ファームウェア、およびスイッチが ONTAP の特定のバージョンでサポートされている必要があります。</block>
  <block id="10f02f59043b28fac9ff50a9e24e6044" category="inline-link">NetAppの相互運用性</block>
  <block id="8ae1a8b6dc4a3df150f27ca419fb9a6c" category="list-text"><block ref="8ae1a8b6dc4a3df150f27ca419fb9a6c" category="inline-link-rx"></block></block>
  <block id="b5281259f02365989ee0c66878541c97" category="paragraph">IMTでは、[Storage Solution]フィールドを使用してMetroClusterソリューションを選択できます。検索を絞り込むには、 * 構成部品エクスプローラ * を使用して構成部品と ONTAP バージョンを選択します。[ 結果の表示（ Show Results ） ] をクリックすると、条件に一致するサポートされている構成のリストを表示できます。</block>
  <block id="567997ebab95ad5c797a8c2164e69988" category="paragraph">このタスクは、ストレージアレイ管理者と協力してストレージアレイで実行する必要があります。</block>
  <block id="c046d72d0a564f80aa86ddfc717508f5" category="list-text">ストレージアレイ上にONTAPシステムで使用するLUNを少なくとも4つ作成します。</block>
  <block id="e84bd5c1ce9e52320f71b58b8d99d175" category="paragraph">HAペアの各ノードに、ルートボリューム用のアレイLUNとコアダンプ用のアレイLUNが必要です。</block>
  <block id="4040897121df220e5ae9b68b9fe58f41" category="list-text">ONTAP と連携するために必要なストレージアレイのパラメータを設定します。</block>
  <block id="6dbd7bab7a873171c8bb767a512e814e" category="summary">ONTAPシステムをサービスから削除する前に、そのシステムに割り当てられているすべてのアレイLUNの永続的予約を解除する必要があります。</block>
  <block id="694e4ac6b23cbd97c54791f34120e36d" category="doc">ONTAPシステムをサービスから削除する前のアレイLUNの準備</block>
  <block id="daf517d421f837b1487a2359c7b31502" category="paragraph">アレイLUNにONTAPの所有権を割り当てるとONTAP、そのアレイLUNには永続的予約（所有権ロック）が設定され、そのアレイLUNを所有するONTAPシステムが識別されます。他のタイプのホストでアレイLUNを使用できるようにするには、ONTAPによってアレイLUNに設定された永続的予約を削除する必要があります。 一部のアレイでは、ONTAPによってLUNに書き込まれた所有権と永続的予約を削除しないと、リザーブされたLUNを削除できません。</block>
  <block id="1c3dc9935ad5f7bd709fb9768b6aad77" category="paragraph">たとえば、Hitachi USPストレージアレイには、LUNから永続的予約を削除するためのユーザコマンドがありません。ONTAPシステムをサービスから削除する前にONTAPで永続的予約を削除しない場合は、予約を削除するために日立のテクニカルサポートに連絡する必要があります。</block>
  <block id="7bd0ace62e1eb38905cbfffeffed0d60" category="inline-link">SCSI予約とSCSI永続的予約とは</block>
  <block id="cacd53dff0dbe7cc08abb3818818ae58" category="paragraph">ナレッジベースの記事を参照<block ref="f4c66dc35bc3498543d562a7004cd75c" category="inline-link-rx"></block></block>
  <block id="4c2225a1bc03d8447a8dff9e4d19257a" category="summary">ストレージアレイ管理者が特定のアレイLUNをONTAPに使用する必要がなくなった場合、別のホストで使用するようにLUNを再設定する前に、ONTAPによってLUNに書き込まれた情報（サイズや所有権など）を削除しておく必要があります。</block>
  <block id="800c07d8346b1f1709c06b6c1162e103" category="doc">アレイLUNのONTAPによる使用の中止</block>
  <block id="93a2757844afe51f9ed5f419809fe556" category="paragraph">ONTAPでの使用を中止するLUNがアグリゲートに含まれている場合は、この手順を開始する前に、アグリゲートをオフラインにして削除しておく必要があります。アグリゲートをオフラインにして削除すると、データLUNはスペアLUNに変わります。</block>
  <block id="3788691350f9939488488a1c693838b1" category="list-text">次のコマンドを入力します。<block ref="e25781c649ac99fbc10be56be58af860" prefix=" " category="inline-code"></block></block>
  <block id="64387376ae2031469a6098ae9e364247" category="paragraph">_lun_name_は、アレイLUNの名前です。</block>
  <block id="2a6be4e693501703e74378ae046bc0ab" category="summary">デフォルトのターゲットキュー深度はほとんどの環境に適していますが、パフォーマンスに問題が発生した場合は変更できます。</block>
  <block id="9fe083821c448d855ca8cdae94f5f894" category="doc">ターゲットキュー深度の設定</block>
  <block id="2e2e06f9ceec122e6eed5b9c6148018a" category="paragraph">ターゲットキュー深度は、ストレージアレイ単位またはターゲットポート単位で設定できます。</block>
  <block id="6542d6aee8890218459bde46c53b4a24" category="list-text">ストレージアレイのすべてのターゲットポートまたは特定のターゲットポートにターゲットポートキュー深度を設定するには、次のいずれかのコマンドを使用します。</block>
  <block id="5d920b501536441ea32ecc24679c72a2" category="cell">状況</block>
  <block id="afe7dc605448ad8236681165eec5d146" category="cell">使用するコマンド</block>
  <block id="d11865d110d6d2e8a64fee8839776532" category="paragraph">ストレージアレイのすべてのターゲットポートにターゲットポートキュー深度を設定する</block>
  <block id="0c183fdfa61b9fc5b13e905923c2291e" category="paragraph"><block ref="8a76e05712367753ebfcc59ac22c3fed" prefix="" category="inline-code"></block><block ref="b2e0162eb8f612e0890951bbfc3e2321" prefix=" " category="inline-code"></block></block>
  <block id="4bd38acadc2c771df3461c003a2bc08b" category="paragraph">ストレージアレイの特定のターゲットポートに対するターゲットポートキュー深度を設定する</block>
  <block id="eadc1aaf2887492be3298770895b6a09" category="paragraph"><block ref="8a76e05712367753ebfcc59ac22c3fed" prefix="" category="inline-code"></block><block ref="f8405dfa813a2135cf539eb09670ffa6" prefix=" " category="inline-code"></block></block>
  <block id="c1ab645f73cf51f89ba7b500ced3be75" category="paragraph">これらのコマンドの詳細については、マニュアルページを参照してください。</block>
  <block id="8fb7dfcaa6c1baa0187120a7c70df092" category="summary">デフォルトのターゲットキュー深度はほとんどの環境に適していますが、必要に応じてデフォルト値を変更できます。</block>
  <block id="ec69dde58463fd9815d0ad313f3c3c5c" category="doc">ターゲットキュー深度の設定（8.2より前のONTAP）</block>
  <block id="a56ef47143545e383ac700473443089d" category="paragraph">この設定はONTAPシステムごとに適用され、すべてのストレージアレイのすべてのターゲットポートに適用されます。このオプションは、8.2より前のバージョンを実行しているONTAPシステムで使用できます。</block>
  <block id="fe3ced12f3f343c5228c4d694e899992" category="list-text">ターゲットキュー深度を設定するには、次のオプションを使用します。<block ref="230c91d7b4cb45fbc7692b8b9a5e479c" prefix=" " category="inline-code"></block></block>
  <block id="fe8c65acbb946c64f69549547f50bfd7" category="summary">スイッチの設定は、通常、ストレージ管理者またはSAN管理者が行います。スイッチは、ONTAPシステムとストレージアレイが相互に認識できるようにゾーニングする必要があります。ゾーニング戦略としては、シングルイニシエータのゾーニングを使用する必要があります。</block>
  <block id="cf8325fcd0a12fc5b7ba7b03aade9a4b" category="doc">スイッチのセットアップ</block>
  <block id="c9c303622b62a1656690d36b25380747" category="list-text">ストレージアレイにログインし、ストレージアレイのFCアダプタのWWPNを取得します。</block>
  <block id="527e2988fb3449940e9940fb1908b2d6" category="list-text">ファイバチャネルスイッチのコマンドを使用して、ストレージアレイとONTAPシステムがお互いのWWPNを認識できるように各スイッチをゾーニングします。</block>
  <block id="7c2b79b1035897c9c44047ad2d404806" category="paragraph">次のHAペア構成のONTAPシステムの例を考えてみましょう。</block>
  <block id="6b17218addc79e22862f94be055a3257" category="paragraph">この設定例では、ゾーンは次のとおりです。</block>
  <block id="e6bdf8a82bcc5f9e1b16ccce49cfaf4e" category="cell">ONTAPシステムとポート</block>
  <block id="d29a3441d0a48cbe30f90a80e762f20f" category="cell">ストレージアレイコントローラとポート</block>
  <block id="b4b967fcf545cabffffd85682ec7762c" category="paragraph">vs1、0a</block>
  <block id="e1d75aec4f5b675817f60c76759543f3" category="paragraph">コントローラ1、1A</block>
  <block id="9c00c503a7cf368e88ba7c89099dfc2d" category="paragraph">vs2、0a</block>
  <block id="c6b49282710baa6f5d91e2c7eb48fd95" category="paragraph">コントローラ1、1B</block>
  <block id="dfb069caa1188168d6bd80e4d0c5e560" category="paragraph">vs1、0c</block>
  <block id="0c83808b9b45ddb63e156c966fe89e80" category="paragraph">コントローラ2、2A</block>
  <block id="4131681b603af62a302f33c2c6aaf26c" category="paragraph">vs2、0c</block>
  <block id="32667801375988b1872564604d62d5da" category="paragraph">コントローラ2、2B</block>
  <block id="b1898e9888b1a31d3d0e9f9b94d7b18a" category="summary">storage errors showで検出されたバックエンド構成エラーを解決したら、既存のバックエンド構成が想定した構成と一致するかどうかを確認し、不一致がある場合は問題を修正する必要があります。</block>
  <block id="38349660c2789d959848bff17dfb5622" category="doc">想定するバックエンド構成と一致するバックエンド構成の確認</block>
  <block id="bef28f218170122dd0764424bc76c90a" category="paragraph">で検出されたバックエンド構成エラーを解決したら、<block ref="3544855ba5183863f1439ae70a230dfb" prefix=" " category="inline-code"></block>既存のバックエンド構成が想定した構成と一致するかどうかを確認し、不一致がある場合は問題を修正する必要があります。</block>
  <block id="7d54fe2542a3fd1613f769479b43e17f" category="paragraph">次のHAペアの例に示すように、では<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、LUNグループ、LUN数、およびパスに関する情報がストレージアレイ別に出力されます。</block>
  <block id="1bc72fd24c6e45d276bfb648c4bd7489" category="list-text">次の表の各問題点の出力を確認し<block ref="5801fda6c4274abf451b8ce898d11b8c" prefix=" " category="inline-code"></block> 、適切な情報を参照して解決してください。</block>
  <block id="c619a4b48ff1637a7cff6f16008f4b2e" category="cell">見つかった問題</block>
  <block id="7c236ddf0ec4993bd99d47ae4550fe54" category="cell">参照する情報</block>
  <block id="f3fa667d5e4190cf61fe306379739919" category="paragraph">空のLUNグループ</block>
  <block id="d08b933bc245676629987cddccb03433" category="paragraph"><block ref="d08b933bc245676629987cddccb03433" category="inline-xref-macro-rx"></block></block>
  <block id="fc723c1ea12a442fbc8d8a7fd8ddba53" category="paragraph">想定されるストレージアレイが見つからない</block>
  <block id="58a73e62d7223e3d067917d13a8e7626" category="inline-xref-macro">想定したストレージアレイが一部表示されない理由</block>
  <block id="a2dff501dba57f698ffa2181ebbbdba7" category="paragraph"><block ref="a2dff501dba57f698ffa2181ebbbdba7" category="inline-xref-macro-rx"></block></block>
  <block id="cb4464366e00ea651cda8297b3ed3189" category="paragraph">アレイLUNグループが想定よりも多い</block>
  <block id="394ee90ecc94bf1ae4f105f0dcc560a2" category="paragraph"><block ref="394ee90ecc94bf1ae4f105f0dcc560a2" category="inline-xref-macro-rx"></block></block>
  <block id="0838fbbe2f609cbb1a886776879f0852" category="paragraph">アレイLUNグループが想定よりも少ない</block>
  <block id="f3a0113eb5a6b2a177d3e346d6b0865a" category="paragraph"><block ref="f3a0113eb5a6b2a177d3e346d6b0865a" category="inline-xref-macro-rx"></block></block>
  <block id="e60948e14158bccecb7a66d4e4e6e5db" category="paragraph">アレイLUNグループのLUN数が想定どおりに表示されない</block>
  <block id="66107acd72c446b27435474497c0886e" category="paragraph"><block ref="66107acd72c446b27435474497c0886e" category="inline-xref-macro-rx"></block></block>
  <block id="3b1add525c81b89c720365077f111e59" category="paragraph">パスが想定よりも少ない</block>
  <block id="8765ce9ed4414230dba75a5179f42ddf" category="paragraph">パスが想定よりも多い</block>
  <block id="9cb4d212bbd569e52d2eeb810f3c1d44" category="paragraph"><block ref="9cb4d212bbd569e52d2eeb810f3c1d44" category="inline-xref-macro-rx"></block></block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">法的通知では、著作権に関する声明、商標、特許などにアクセスできます。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法的通知</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">著作権</block>
  <block id="de6edae22bc37b97b38a15c7f8af62e2" category="paragraph"><block ref="de6edae22bc37b97b38a15c7f8af62e2" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp、NetAppのロゴ、およびNetAppの商標ページに記載されているマークは、NetApp、Inc.の商標です。 その他の会社名および製品名は、それを所有する各社の商標である場合があります。</block>
  <block id="a93bc0a57623c2facaa010825c808507" category="paragraph"><block ref="a93bc0a57623c2facaa010825c808507" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">特許</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">NetAppが所有する特許の最新リストは、次のサイトで参照できます。</block>
  <block id="547ea2e305891e64d8e744949b0aca2c" category="paragraph"><block ref="547ea2e305891e64d8e744949b0aca2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">プライバシーポリシー</block>
  <block id="50921fca0d376fca62102a5e608994e2" category="paragraph"><block ref="50921fca0d376fca62102a5e608994e2" category="inline-link-rx"></block></block>
  <block id="b4de17ead867a3cf0b9d11e57e562672" category="section-title">機械翻訳</block>
  <block id="dd3918c571093dff2b94f7cef5066d01" category="inline-link-macro">netapp.com</block>
  <block id="5db028f960e19ec42098e3252e4fb1e3" category="paragraph">ローカライズされたコンテンツに関する重要な情報については、 <block ref="7e89bb7928e951b6f80ad1dab5c58475" category="inline-link-macro-rx"></block></block>
  <block id="c8f6b8b5a91077642063f56b2f6b0c8f" category="sidebar">ONTAP FlexArrayのドキュメント</block>
  <block id="eb02a8139a36a42c6ff4d75a70670478" category="sidebar">E-Seriesストレージの実装</block>
  <block id="602ef4fe4394c117a6dae7eefca200b7" category="sidebar">サードパーティ製ストレージの実装</block>
  <block id="08b64985fd8d0c0933dd86c2b7d3cc02" category="sidebar">すべてのストレージアレイの設定ガイドライン</block>
  <block id="9d0c0dd17e6e2a8206a0b3a01595676b" category="sidebar">FlexArray をインストールしています</block>
  <block id="8d784ca832d17ed0c707b18057621ba7" category="sidebar">ONTAP FlexArrayドキュメント</block>
  <block id="d648f2a68a54fd1b3329efc3cf24d29c" category="sidebar">法的通知</block>
  <block id="ac3a9a8b2498360d2c76d582e712146e" category="sidebar">サードパーティ製ストレージの実装</block>
  <block id="e0db3e65c27cd60f3a9c76597be913ba" category="sidebar">FlexArray仮想化テクノロジの概要—ストレージにアレイLUNを使用</block>
</blocks>